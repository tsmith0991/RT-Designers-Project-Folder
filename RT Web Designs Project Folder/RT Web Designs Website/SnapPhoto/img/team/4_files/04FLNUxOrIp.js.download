if (self.CavalryLogger) { CavalryLogger.start_js(["e4FY2"]); }

__d('MuteMemberHelper',['Arbiter','PopoverAsyncMenu'],(function a(b,c,d,e,f,g){var h='group_member_muted';'use strict';var i={emitMemberMuted:function j(k){c('Arbiter').inform(h,{groupID:k})},refetchOnGroupMemberMuted:function j(k,l){c('Arbiter').subscribe(h,function(m,n){if(n.groupID===l)k._refetchMenu();})}};f.exports=i}),null);
__d('FollowLink',['Arbiter','CSS','ge'],(function a(b,c,d,e,f,g){var h={subscribeEvents:function i(j,k,l){c('Arbiter').subscribe(['FollowUser','UnfollowUser'],function(event,m){if(m.profile_id!=j)return;var n=c('ge')(k),o=c('ge')(l),p=event=='FollowUser';n&&c('CSS').conditionShow(n,!p);o&&c('CSS').conditionShow(o,p)})}};f.exports=h}),null);
__d('GroupViewportDurationTracking',['csx','Arbiter','StreamViewportTracking','Banzai','ge','viewportTrackingBuilder'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;function k(n,o){var p=c('ge')('pagelet_group_mall');return c('StreamViewportTracking').getBehavior(n,p,o)}i=babelHelpers.inherits(l,c('StreamViewportTracking'));j=i&&i.prototype;l.prototype.init=function(n){j.init.call(this,n)};l.prototype.getAllStoriesFromCache=function(){return this.behavior.getAllStories()};l.prototype.getSessionID=function(){return null};l.prototype.cleanup=function(){m.clearSingleton();j.cleanup.call(this)};l.prototype.sendDataToLog=function(n,o){if(this.useBanzai)c('Banzai').post('group_feed_tracking',o);};function l(){i.apply(this,arguments)}var m=c('viewportTrackingBuilder')(function(n){var o=new l(k(n,"._5pat"));o.init(n);return o});m.init=m.factory.bind(m);f.exports=m}),null);
__d('NotificationsSelector',['Parent','submitForm','AsyncRequest','Event'],(function a(b,c,d,e,f,g){function h(j,k,l){k.subscribe('change',function(m,n){l.value=n.value;var o=c('Parent').byTag(j,'form');o&&c('submitForm')(o)})}function i(j,k,l,m,n,o){k.subscribe('change',function(p,q){new (c('AsyncRequest'))().setURI('/ajax/groups/notifications/update.php').setData({setting:q.value,group_id:m}).setMethod('POST').send()});if(n)n.subscribe('hide',function(){if(o)new (c('AsyncRequest'))().setURI(o).setData({group_id:m}).setMethod('POST').send();});c('Event').listen(j,'click',function(){if(n&&n.isShown())n.hide();})}f.exports.bindForm=h;f.exports.updateNotif=i}),null);
__d('RequiredFormListener',['Event','Input'],(function a(b,c,d,e,f,g){c('Event').listen(document.documentElement,'submit',function(h){var i=h.getTarget();if(i.getAttribute('novalidate'))return true;var j=i.getElementsByTagName('*');for(var k=0;k<j.length;k++)if(j[k].getAttribute('required')&&c('Input').isEmpty(j[k])){j[k].focus();return false}},c('Event').Priority.URGENT)}),null);
__d('DoublyLinkedListMap',['idx'],(function a(b,c,d,e,f,g){function h(){'use strict';this._head=null;this._tail=null;this._nodes={};this._nodeCount=0}h.prototype.get=function(i){var j;'use strict';var k=(j=this._nodes[i])!=null?j.data:j;return k?k:null};h.prototype.getIndex=function(i){'use strict';var j=this._head;for(var k=0;j;j=j.next,k++)if(j.key===i)return k;return null};h.prototype._insert=function(i,j,k,l){'use strict';if(k&&!this._nodes[k])k=null;var m=void 0;if(k&&this._nodes[k]){m=this._nodes[k]}else m=l?this._head:this._tail;var n={data:j,key:i,next:null,prev:null};if(m){this.remove(i);if(l){n.prev=m.prev;m.prev&&(m.prev.next=n);m.prev=n;n.next=m}else{n.next=m.next;m.next&&(m.next.prev=n);m.next=n;n.prev=m}}if(n.prev===null)this._head=n;if(n.next===null)this._tail=n;this._nodes[i]=n;this._nodeCount++;return this};h.prototype.insertBefore=function(i,j,k){'use strict';return this._insert(i,j,k,true)};h.prototype.insertAfter=function(i,j,k){'use strict';return this._insert(i,j,k,false)};h.prototype.prepend=function(i,j){'use strict';return this.insertBefore(i,j,this._head&&this._head.key)};h.prototype.append=function(i,j){'use strict';return this.insertAfter(i,j,this._tail&&this._tail.key)};h.prototype.remove=function(i){'use strict';var j=this._nodes[i];if(j){var k=j.next,l=j.prev;k&&(k.prev=l);l&&(l.next=k);this._head===j&&(this._head=k);this._tail===j&&(this._tail=l);delete this._nodes[i];this._nodeCount--}return this};h.prototype.find=function(i){'use strict';for(var j=this._head;j;j=j.next)if(i(j.data))return j.key;return null};h.prototype.reduce=function(i,j){'use strict';for(var k=this._head;k;k=k.next)j=i(k.data,j);return j};h.prototype.exists=function(i){'use strict';return !!this._nodes[i]};h.prototype.isEmpty=function(){'use strict';return !this._head};h.prototype.reset=function(){'use strict';this._head=null;this._tail=null;this._nodes={};this._nodeCount=0};h.prototype.map=function(i){'use strict';for(var j=this._head;j;j=j.next)i(j.data);};h.prototype.getCount=function(){'use strict';return this._nodeCount};h.prototype.getHead=function(){var i;'use strict';return (i=this._head)!=null?i.data:i};h.prototype.getTail=function(){var i;'use strict';return (i=this._tail)!=null?i.data:i};h.prototype.getNext=function(i){var j;'use strict';return (j=this._nodes[i])!=null?(j=j.next)!=null?j.data:j:j};h.prototype.getPrev=function(i){var j;'use strict';return (j=this._nodes[i])!=null?(j=j.prev)!=null?j.data:j:j};f.exports=h}),null);
__d('Optimus',['Event','Parent'],(function a(b,c,d,e,f,g){'use strict';var h={};function i(k,l){var m=l.getTarget();if(!m)return;var n=h[k];for(var o in n){var p=c('Parent').byAttribute(m,o);if(p)do{var q=n[o][p.getAttribute(o)];if(q&&q.handleOptimus(k,p,l)===false)break;}while(p=c('Parent').byAttribute(p.parentNode,o));}}function j(k,l,m,n){if(!h[k]){h[k]={};c('Event').listen(document.documentElement,k,i.bind(null,k))}if(!h[k][l])h[k][l]={};if(!h[k][l][m])h[k][l][m]=n;}f.exports={addRelClick:function k(l,m){j('click','rel',l,m)},addEventListener:j}}),null);
__d('PopoverMenuDynamicIcon',['csx','Button','CSS','DOM','DOMQuery'],(function a(b,c,d,e,f,g,h){function i(j){'use strict';this._popoverMenu=j}i.prototype.enable=function(){'use strict';this._setMenuSubscription=this._popoverMenu.subscribe('setMenu',this._onSetMenu.bind(this))};i.prototype.disable=function(){'use strict';this._popoverMenu.unsubscribe(this._setMenuSubscription);this._setMenuSubscription=null;this._removeChangeSubscription()};i.prototype._onSetMenu=function(){'use strict';this._removeChangeSubscription();this._menu=this._popoverMenu.getMenu();this._changeSubscription=this._menu.subscribe('change',function(j,k){var l=k.item;if(k[0])l=k[0].item;if(!l)return;var m=l.getIcon();m=m?m.cloneNode(true):null;var n=this._popoverMenu.getTriggerElem(),o=c('DOMQuery').scry(n,"._-xe")[0];if(o&&o.firstChild){c('DOM').replace(o.firstChild,m);c('CSS').conditionClass(o,'hidden_elem',m==null);return}var p=c('DOMQuery').scry(n,"span._55pe")[0];if(p){var q=p.firstChild;if(!q||!c('CSS').hasClass(q,'img'))c('DOM').prependContent(p,m);}else c('Button').setIcon(n,m);}.bind(this))};i.prototype._removeChangeSubscription=function(){'use strict';if(this._changeSubscription){this._menu.unsubscribe(this._changeSubscription);this._changeSubscription=null}};Object.assign(i.prototype,{_setMenuSubscription:null,_changeSubscription:null});f.exports=i}),null);
__d('ProfileActionBarLogger',['FBJSON','MarauderLogger','Optimus'],(function a(b,c,d,e,f,g){function h(){c('Optimus').addEventListener('mouseup','data-loggable','ProfileHighQualityLogger',{handleOptimus:function i(j,k,l){c('MarauderLogger').log('profile_high_quality_action',null,c('FBJSON').parse(k.getAttribute('data-store')));return false}})}g.init=h}),null);
__d('ProfileOverviewSection',['CallbackDependencyManager','DOMScroll','DoublyLinkedListMap','TidyArbiterMixin','ge'],(function a(b,c,d,e,f,g){var h=null,i=new (c('CallbackDependencyManager'))(),j={};function k(l,m,n){'use strict';this.id=l;this.label=n;this.nodeID=m;this._isLoaded=false;this._parentSection=null;this.childSections=new (c('DoublyLinkedListMap'))();j[l]=this;setTimeout(function(){return i.satisfyPersistentDependency(l)},0)}k.prototype.reset=function(){'use strict';this.childSections.map(function(l){return l.reset()})};k.prototype.appendSection=function(l){'use strict';this.childSections.append(l.id,l);l._parentSection=this};k.prototype.freeze=function(){'use strict';this.freezeChildren()};k.prototype.freezeChildren=function(){'use strict';var l=this.childSections.getHead();while(l){!l.isActive()&&l.freeze();l=l.getNext()}};k.prototype.getParent=function(){'use strict';return this._parentSection};k.prototype.getChildren=function(){'use strict';return this.childSections};k.prototype.getNext=function(){'use strict';return this._parentSection&&this._parentSection.childSections.getNext(this.id)};k.prototype.getPrev=function(){'use strict';return this._parentSection&&this._parentSection.childSections.getPrev(this.id)};k.prototype.isActive=function(){'use strict';var l=this;while(l){if(l.id===h)return true;l=l._parentSection}return false};k.prototype.isLoaded=function(){'use strict';return this._isLoaded};k.prototype.setIsLoaded=function(l){'use strict';this._isLoaded=l;return this};k.prototype.scrollTo=function(){'use strict';if(!c('ge')(this.nodeID))return;c('DOMScroll').scrollTo(this.getNode(),true,false,false,0,c('DOMScroll').scrollTo.bind(this).bind(null,this.getNode(),0))};k.prototype.thaw=function(){'use strict';this.thawChildren()};k.prototype.thawChildren=function(){'use strict';var l=this.childSections.getHead();while(l){l.thaw();l=l.getNext()}};k.prototype.getNode=function(){'use strict';throw new Error('This function needs to be implemented in children.')};k.callWithSection=function(l,m){'use strict';i.registerCallback(function(){m(j[l])},[l])};k.setActiveSectionID=function(l){'use strict';h=l};k.resetGlobalState=function(){'use strict';h=null;i=new (c('CallbackDependencyManager'))();j={}};Object.assign(k,c('TidyArbiterMixin'));f.exports=k}),null);
__d('ProfileEscapeHatch',['CSS','ProfileTabUtils','Run','TimelineComponentKeys','TimelineController'],(function a(b,c,d,e,f,g){var h=[],i=false;function j(k){'use strict';this.$ProfileEscapeHatch1=k;h.push(this);if(!i){c('TimelineController').register(c('TimelineComponentKeys').ESCAPE_HATCH,j);c('Run').onLeave(function(){h=[]});i=true}}j.handleTabChange=function(k){'use strict';h.forEach(function(l){c('CSS').conditionShow(l.$ProfileEscapeHatch1,c('CSS').shown(l.$ProfileEscapeHatch1)||c('ProfileTabUtils').isTimelineTab(k))})};f.exports=j}),null);
__d("TimelineDOMID",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({COMPOSER_CONTAINER:"timeline_composer_container",MEMORIES:"pagelet_timeline_memories",RECENT:"pagelet_timeline_recent",RECENT_CAPSULE_CONTAINER:"recent_capsule_container",STICKY_HEADER:"timeline_sticky_header",TAB_CONTENT:"timeline_tab_content",TAB_CONTENT_EXTRA:"timeline_tab_content_extra",ABOVE_COMPOSER:"timeline_above_composer",UNDER_COMPOSER:"timeline_under_composer",SERP_ENTRY_POINT:"serp_entry_point",UNSEEN_STORIES_INDICATOR:"recent_unseen_stories_indicator",TIMELINE_SCHEDULED_POSTS:"timeline_scheduled_posts",FIG_COMPOSER:"profile_fig_composer",FIG_TIMELINE:"profile_fig_timeline",FIG_ESCAPE_HATCH:"profile_fig_escape_hatch",FIG_INFO_REVIEW:"profile_fig_info_review",FIG_INTRO_CARD:"profile_fig_intro_card",FIG_PROTILES:"profile_fig_protiles",FIG_ADS:"profile_fig_ads",PREFIX_MONTH_ALL:"pagelet_timeline_month_all_",PREFIX_YEAR:"pagelet_timeline_year_",PREFIX_FIG_PROTILES:"profile_fig_protiles_",SUFFIX_MORE_PAGER:"_more_pager"})}),null);
__d('ProfileNavigation',['Arbiter','CSS','PageTransitions','ProfileDOMID','ProfileOverviewDOMID','ProfileTabConst','ProfileTabUtils','ScriptPath','TimelineComponentKeys','TimelineController','TimelineDOMID','TimelineURI','UIPagelet','URI','$','ge'],(function a(b,c,d,e,f,g){var h=7,i='/profile_book.php',j=null,k=null;function l(w){var x=c('URI').getMostRecentURI(),y=c('TimelineURI').getSectionKeyFromURI(x),z=c('TimelineURI').getTabKeyFromURI(x),aa=c('TimelineURI').getSectionKeyFromURI(w),ba=c('TimelineURI').getTabKeyFromURI(w),ca=w.getQueryData();if(s(x,w)||t(ba)||t(z)||!!ca.and||c('TimelineURI').isVideoPermalink(w))return false;if(ca.hc_location==='profile_browser')return false;if(Object.prototype.hasOwnProperty.call(ca,'theater')){c('Arbiter').subscribeOnce('PhotoSnowlift.CLOSE',u);return false}if(Object.prototype.hasOwnProperty.call(ca,'force-refresh'))return false;if(c('ProfileTabUtils').isTimelineTab(z)&&!c('ProfileTabUtils').isTimelineTab(ba)&&r(aa)){j=aa;m(aa,'TimelineMedleyView',c('TimelineDOMID').TAB_CONTENT,c('ProfileOverviewDOMID').MEDLEY_ROOT,ca);return true}if(!c('ProfileTabUtils').isTimelineTab(z)&&c('ProfileTabUtils').isTimelineTab(ba)){j=y;m(c('ProfileTabConst').TIMELINE,'TimelineWallColumn',c('ProfileOverviewDOMID').MEDLEY_ROOT,c('TimelineDOMID').TAB_CONTENT,ca);return true}return false}function m(w,x,y,z,aa){c('CSS').hide(c('$')(y));c('Arbiter').inform('save_facebar_query',true);var ba=c('ge')(z);if(ba){c('CSS').show(ba);q(w)}else n(x,w,aa);c('TimelineController').registerCurrentKey(w)}function n(w,x,y){o();var z=babelHelpers['extends']({},k,{tab_key:x});if(y)z=babelHelpers['extends']({},z,y);var aa=function ca(da){p();da()},ba={append:true,displayCallback:aa,finallyHandler:q.bind(null,x),usePipe:true};c('UIPagelet').loadFromEndpoint(w,c('ProfileDOMID').MAIN_COLUMN_PERSONAL,z,ba)}function o(){c('CSS').show(c('$')(c('ProfileDOMID').TAB_LOAD_INDICATOR))}function p(){c('CSS').hide(c('$')(c('ProfileDOMID').TAB_LOAD_INDICATOR))}function q(w){var x=i;if(w&&!c('ProfileTabUtils').isTimelineTab(w))x+=':'+w;c('ScriptPath').set(x);c('PageTransitions').transitionComplete()}function r(w){return j===null||w===j}function s(w,x){var y=c('TimelineURI').getVanityFromURI(w),z=w.getQueryData().id,aa=c('TimelineURI').getVanityFromURI(x),ba=x.getQueryData().id;if(y&&aa)return y!==aa;if(z&&ba)return z!==ba;return true}function t(w){return c('ProfileTabUtils').isActivityLogTab(w)||w===c('ProfileTabConst').MEMORIAL_CONTACT||w===c('ProfileTabConst').POSTS}function u(){c('PageTransitions').registerHandler(l,h)}var v={init:function w(x){k=x.profileContextData;c('TimelineController').register(c('TimelineComponentKeys').ASYNC_NAV,this);u()},reset:function w(){k=null;j=null;c('PageTransitions').removeHandler(l)}};f.exports=v}),null);
__d('TimelineDrag',['ArbiterMixin','Event','Locale','Style','Vector','mixin'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('mixin')(c('ArbiterMixin')));i=h&&h.prototype;function j(k,l,m){'use strict';i.constructor.call(this);m=m||{};this._listenOn=m.listenOn;this._offsetInput=l;this._defaultOffset=m.default_offset;this._killClicks=m.killClicks;this._vertical=true;this._RTLXSwitch=false;this.setPicture(k,m)}j.prototype.setPicture=function(k,l){'use strict';if(!k)return false;l=l||{};this._picture=k;this._defaultOffset=l.default_offset;if(l.offsetInput)this._offsetInput=l.offsetInput;if(l.vertical!==undefined)this._vertical=l.vertical;if(l.height)this._containerHeight=l.height;if(l.width)this._containerWidth=l.width;if(this._vertical){this._offsetType='top';this._eventCoord='y'}else{this._RTLXSwitch=c('Locale').isRTL();this._offsetType='left';this._eventCoord='x'}if(this._picture.complete){this._initialLoad()}else this._loadListener=c('Event').listen(this._picture,'load',function(){this._loadListener.remove();this._loadListener=null;this._initialLoad()}.bind(this));};j.prototype.destroy=function(){'use strict';this._stopDrag();this._saveOffset();this._mousedown&&this._mousedown.remove();this._mousedown=null;this._onclick&&this._onclick.remove();this._onclick=null;this._loadListener&&this._loadListener.remove();this._loadListener=null};j.prototype._initialLoad=function(){'use strict';var k=this._listenOn?this._listenOn:this._picture;this._mousedown&&this._mousedown.remove();this._mousedown=c('Event').listen(k,'mousedown',this._onMouseDown.bind(this));if(this._vertical){this._maxOffset=this._containerHeight-this._picture.offsetHeight}else this._maxOffset=this._containerWidth-this._picture.offsetWidth;if(this._defaultOffset!==undefined)this._setOffset(this._defaultOffset);this._onclick&&this._onclick.remove();this._onclick=null;if(this._killClicks)this._onclick=c('Event').listen(k,'click',this._onClick.bind(this));this._saveOffset()};j.prototype._onClick=function(event){'use strict';event.kill()};j.prototype._onMouseDown=function(event){'use strict';var k=parseInt(c('Style').get(this._picture,this._offsetType),10)||0;this._pictureStartDragOffset=k-c('Vector').getEventPosition(event)[this._eventCoord];this._startDrag();event.kill()};j.prototype._startDrag=function(){'use strict';if(!this._dragStarted){this.inform('startdrag',this);this._dragTokens=[c('Event').listen(document.documentElement,'mouseup',this._onMouseUp.bind(this)),c('Event').listen(document.documentElement,'mousemove',this._onMouseMove.bind(this))];this._dragStarted=true}};j.prototype._saveOffset=function(){'use strict';var k=parseInt(c('Style').get(this._picture,this._offsetType),10);if(this._RTLXSwitch){this._offsetInput.value=k+this._containerWidth-this._picture.offsetWidth}else this._offsetInput.value=k;};j.prototype._stopDrag=function(){'use strict';if(this._dragStarted){this.inform('stopdrag',this);this._dragStarted=false;this._dragTokens.forEach(function(k){k.remove()});this._saveOffset()}};j.prototype._onMouseUp=function(event){'use strict';this._stopDrag();event.kill()};j.prototype._setOffset=function(k){'use strict';if(this._RTLXSwitch){k=Math.max(0,Math.min(k,-this._maxOffset))}else k=Math.min(0,Math.max(k,this._maxOffset));c('Style').set(this._picture,this._offsetType,k+'px')};j.prototype._onMouseMove=function(event){'use strict';this._setOffset(this._pictureStartDragOffset+c('Vector').getEventPosition(event)[this._eventCoord]);event.kill()};f.exports=j}),null);
__d('TimelineCover',['cx','fbt','Arbiter','Button','CSS','Dialog','DOM','DOMScroll','Event','FileInputUploader','Focus','HTML','PageTransitions','Parent','ReloadPage','Run','Style','TimelineDrag','$','ge','setImmediate','tidyEvent'],(function a(b,c,d,e,f,g,h,i){function j(k,l,m){'use strict';this.root=c('$')('fbProfileCover');if(typeof l==='object'){this._coverHeight=l.cover_height;this._coverWidth=l.cover_width;this.previewing=l.previewing;this._isLegacy=false}else{this._isLegacy=true;this._coverHeight=l;this.previewing=m}this._parentSection=c('Parent').byClass(this.root,'fbTimelineSection');this.cover=c('DOM').find(this.root,'.cover');j.instance=this;this.editing=false;c('Run').onBeforeUnload(this.onBeforeUnload.bind(this));if(!this._parentSection)this._parentSection=c('Parent').byClass(this.root,'fbEventHeader');if(this.previewing)c('setImmediate')(function(){this.editMode();this.updateCoverImage(this.previewing)}.bind(this));}j.prototype.showLoadingIndicator=function(){'use strict';var k=c('ge')('fbCoverImageContainer');if(k)c('CSS').addClass(k,'opaquedLoading');};j.prototype.hideLoadingIndicator=function(){'use strict';var k=c('ge')('fbCoverImageContainer');if(k)c('CSS').removeClass(k,'opaquedLoading');};j.prototype.onBeforeUnload=function(){'use strict';if(this.isInEditMode())return i._("If you leave this page, your cover photo will not be saved. To save, press the \"save\" button below your cover photo.");};j.prototype.isCoverImageVerticalFlow=function(k){'use strict';return !k.style.height};j.prototype.editMode=function(){'use strict';var k=c('DOM').find(this.root,'button.saveButton');c('Button').setEnabled(c('DOM').find(this.root,'button.cancelButton'),true);c('Button').setEnabled(k,true);this.hideLoadingIndicator();this._coverImage=c('DOM').scry(this.root,'.coverImage')[0];if(this._coverImage){var l=c('DOM').scry(this._coverImage,'.coverWrap')[0];if(l){var m=c('DOM').find(l,'.coverPhotoImg');this._originalIsVertical=this.isCoverImageVerticalFlow(m);this._originalOffset=c('Style').get(m,this._originalIsVertical?'top':'left')}}c('CSS').addClass(this._parentSection,'fbEditCover');c('DOMScroll').scrollTo(this.root);if(this.previewing){c('DOM').remove(this._coverImage);c('CSS').show(this._coverImage)}if(this._coverImage){var n=c('DOM').scry(this._coverImage,'.coverPhotoImg')[0];if(n)this._createDragger();}this.editing=true;c('Focus').set(k);c('Arbiter').inform('CoverPhotoEdit',{sender:this,state:'open'})};j.prototype._exitEditMode=function(){'use strict';if(this._timelineDrag){this._timelineDrag.destroy();this._timelineDrag=null}c('DOM').find(this.root,'input.hiddenPhotoID').value=null;c('Button').setEnabled(c('DOM').find(this.root,'button.cancelButton'),false);c('Button').setEnabled(c('DOM').find(this.root,'button.saveButton'),false);c('CSS').removeClass(this._parentSection,'fbEditCover');this.hideLoadingIndicator();this.previewing=false;c('Arbiter').inform('CoverPhotoEdit',{sender:this,state:'closed'});this.editing=false};j.prototype._createDragger=function(k){'use strict';var l=void 0,m=void 0;if(this._isLegacy){l=c('DOM').find(this.root,'input.photoOffsetInput');this._originalIsVertical=true}else{m=k===undefined?this._originalIsVertical:k;l=m?c('DOM').find(this.root,'input.photoOffsetYInput'):c('DOM').find(this.root,'input.photoOffsetXInput')}this._timelineDrag=new (c('TimelineDrag'))(c('DOM').find(this.root,'.coverImage .coverPhotoImg'),l,{height:this._coverHeight,width:this._coverWidth,listenOn:this.cover,vertical:m,killClicks:true})};j.prototype.updateCoverImage=function(k,l){'use strict';if(l)this.editMode();c('DOM').find(this.root,'input.hiddenPhotoID').value=k;c('Button').setEnabled(c('DOM').find(this.root,'button.saveButton'),true);if(l)c('DOM').replace(c('DOM').find(this.root,'.coverImage'),typeof l==='string'?c('HTML')(l):l);var m=c('DOM').find(c('DOM').find(this.root,'.coverImage'),'.coverPhotoImg'),n=this.isCoverImageVerticalFlow(m),o=void 0;if(this._isLegacy){o=c('DOM').find(this.root,'input.photoOffsetInput')}else o=n?c('DOM').find(this.root,'input.photoOffsetYInput'):c('DOM').find(this.root,'input.photoOffsetXInput');if(this._timelineDrag){this._timelineDrag.setPicture(m,{offsetInput:o,vertical:n})}else this._createDragger(n);this._updateHeader()};j.prototype.cancelUpdate=function(){'use strict';this._reloadAfterNextUpdate=false;c('DOM').remove(c('DOM').scry(this.root,'.coverImage')[0]);c('DOM').prependContent(this.cover,this._coverImage);if(this._originalOffset!==undefined)c('Style').set(c('DOM').find(this._coverImage,'.coverPhotoImg'),this._originalIsVertical?'top':'left',this._originalOffset);this._exitEditMode();this._updateHeader()};j.staticSaveComplete=function(){'use strict';j.getInstance().saveComplete()};j.prototype.saveComplete=function(){'use strict';if(this._reloadAfterNextUpdate)c('ReloadPage').now();this._coverImage=c('DOM').scry(this.root,'.coverImage')[0];var k=c('DOM').scry(this.root,"._3x7_")[0];if(k)c('CSS').removeClass(k,"_3x7_");this._exitEditMode();this._updateHeader();c('PageTransitions').rewriteCurrentURI(c('PageTransitions').getCurrentURI().getUnqualifiedURI(),c('PageTransitions').getCurrentURI().removeQueryData('preview_cover'))};j.prototype.isInEditMode=function(){'use strict';return this.editing};j.prototype._updateHeader=function(){'use strict';var k=c('DOM').scry(this.root,'.coverImage')[0];if(!k)return;var l=c('CSS').hasClass(k,'coverNoImage'),m=c('CSS').hasClass(this._parentSection,'noCoverImage');if(l!==m)c('CSS').conditionClass(this._parentSection,'noCoverImage',l);};j.getInstance=function(){'use strict';return j.instance};j.staticUpdateCoverImage=function(k){'use strict';j.getInstance().updateCoverImage(null,k)};j.prototype.setupFileUpload=function(k,l,m){'use strict';k.subscribe('change',function(){var n=new (c('FileInputUploader'))(k.getInput()).setURI(l).setAllowCrossOrigin(true);n.subscribe('failure',function(){j.showErrorDialog(i._("Cover Upload Failed"),i._("Uploading the new cover picture failed. Please try again."))});n.subscribe(['success','failure'],function(){this.hideLoadingIndicator();k.clear();c('CSS').removeClass(k.getControl(),m);k.getInput().disabled=false}.bind(this));this.showLoadingIndicator();this._reloadAfterNextUpdate=true;n.send();c('CSS').addClass(k.getControl(),m);k.getInput().disabled=true}.bind(this))};j.setupFileUpload=function(k,l,m){'use strict';this.getInstance().setupFileUpload(k,l,m)};j.imageUploadDone=function(k,l){'use strict';this.getInstance().updateCoverImage(k,l)};j.showErrorDialog=function(k,l){'use strict';new (c('Dialog'))().setTitle(k).setButtons(c('Dialog').OK).setBody(l).setSemiModal(true).show();this.getInstance()&&this.getInstance().hideLoadingIndicator()};j.initFileUploadMenu=function(k){'use strict';j.showLoadingAfterFileUpload(k.getForm())};j.showLoadingAfterFileUpload=function(k){'use strict';c('tidyEvent')(k.subscribe('submit',function(){j.getInstance().showLoadingIndicator()}))};j.instance=null;f.exports=j}),null);
__d('legacy:TimelineCover',['TimelineCover'],(function a(b,c,d,e,f,g){b.TimelineCover=c('TimelineCover')}),3);
__d('TimelineNavLight',['csx','cx','invariant','Arbiter','CSS','DataStore','DOM','DOMQuery','Event','Parent','ProfileOverviewDOMID','ProfileOverviewSection','ProfileTabConst','ProfileTimelineUILogger','TimelineAppSectionConstants','TimelineComponentKeys','TimelineController','destroyOnUnload','queryThenMutateDOM','requireWeak'],(function a(b,c,d,e,f,g,h,i,j){var k="_6-7",l="_6-6",m="_529n",n="_5215",o="_9rw",p="_70k",q="._6-7",r="._6-6";function s(t){'use strict';!s.$TimelineNavLight1||j(0);this.$TimelineNavLight2=t;this.$TimelineNavLight3=c('DOMQuery').scry(t,q)[0];this.$TimelineNavLight4=c('DOMQuery').scry(t,r);this.$TimelineNavLight5();c('ProfileOverviewSection').subscribe('Medley/transitionToSection',function(v,w){this.$TimelineNavLight6(w.slice(c('ProfileOverviewDOMID').PREFIX_MEDLEY.length))}.bind(this));c('TimelineController').register(c('TimelineComponentKeys').COVER_NAV,this);var u=c('Event').listen(this.$TimelineNavLight2,'click',this.$TimelineNavLight7.bind(this));s.$TimelineNavLight1=this;c('destroyOnUnload')(function(){this.$TimelineNavLight2=null;this.$TimelineNavLight3=null;this.$TimelineNavLight4=null;u.remove();if(this.$TimelineNavLight8)this.$TimelineNavLight8.remove();s.$TimelineNavLight1=null}.bind(this))}s.prototype.handleTabChange=function(t){'use strict';this.$TimelineNavLight6(t)};s.prototype.setMoreMenuInstance=function(t){'use strict';this.$TimelineNavLight8=c('Event').listen(t.getRoot(),'click',this.$TimelineNavLight9.bind(this))};s.setMoreMenuInstance=function(t){'use strict';!!s.$TimelineNavLight1||j(0);s.$TimelineNavLight1.setMoreMenuInstance(t)};s.prototype.$TimelineNavLight6=function(t){'use strict';this.$TimelineNavLight3&&c('CSS').removeClass(this.$TimelineNavLight3,k);this.$TimelineNavLight4.some(function(u){var v=c('TimelineAppSectionConstants').collectionTabKeyToAppTabKey[t]||t;if(c('DataStore').get(u,'tab-key')===v){c('CSS').addClass(u,k);this.$TimelineNavLight3=u;return true}}.bind(this));if(t===c('ProfileTabConst').TIMELINE)c('requireWeak')('ScrollColumn.react',function(u){c('Arbiter').inform(u.EVENT_SHOULD_ADJUST)});};s.prototype.$TimelineNavLight5=function(){'use strict';var t=this.$TimelineNavLight4.length-1,u=this.$TimelineNavLight4[t],v=void 0,w=void 0,x=void 0,y=0;c('queryThenMutateDOM')(function(){v=c('Parent').byClass(this.$TimelineNavLight2,p).offsetWidth;w=u.offsetLeft;x=u.offsetWidth;for(var z=t;z>1;z--){var aa=this.$TimelineNavLight4[z];if(aa.offsetLeft+aa.offsetWidth>v){y++}else break;}}.bind(this),function(){if(w+x>v)c('CSS').addClass(this.$TimelineNavLight2,n);for(var z=t;z>t-y;z--)c('DOM').remove(this.$TimelineNavLight4[z]);c('CSS').removeClass(c('Parent').byClass(this.$TimelineNavLight2,m),m)}.bind(this))};s.prototype.$TimelineNavLight10=function(t,u){'use strict';var v=c('Parent').byClass(t,u);if(v)return c('DataStore').get(v,'tab-key');return null};s.prototype.$TimelineNavLight7=function(event){'use strict';var t=this.$TimelineNavLight10(event.target,l);if(t)c('ProfileTimelineUILogger').logCoverNavItemClick(t);};s.prototype.$TimelineNavLight9=function(event){'use strict';var t=this.$TimelineNavLight10(event.target,o);if(t)c('ProfileTimelineUILogger').logCoverNavMoreItemClick(t);};f.exports=s}),null);
__d('VideoCallHelpler',['FBRTCCallabilityStore','FBRTCCore','TooltipData'],(function a(b,c,d,e,f,g){'use strict';function h(j,k){var l=k.calleeID,m=k.calleeName;j.forEachItem(function(n){if(n.getValue&&n.getValue()==='video_call'){if(c('FBRTCCallabilityStore').isCallable(k.calleeID)){n.enable()}else n.disable();c('TooltipData').set(n.getRoot(),c('FBRTCCallabilityStore').callButtonTooltip(l,m),'right')}})}var i={bindProfileVideoCallAction:function j(k,l){h(k,l);c('FBRTCCallabilityStore').addListener(function(){h(k,l)});k.subscribe('itemclick',function(m,n){if(n.item.getValue()==='video_call'&&!n.item.isDisabled())c('FBRTCCore').startOutgoingCall(l.calleeID,'timeline_profile',false);})}};f.exports=i}),null);
__d('TimelineLogging',['TimelineComponentKeys','TimelineController','reportData'],(function a(b,c,d,e,f,g){var h=false,i=0,j=null,k=null,l={init:function m(n){if(h)return;i=n;c('TimelineController').register(c('TimelineComponentKeys').LOGGING,this)},reset:function m(){h=false;i=0;j=null},log:function m(n,o){o.profile_id=i;c('reportData')(n,{gt:o})},logSectionChange:function m(n,o){var p={timeline_section_change:1,key:n};if(j&&n==j){p.timeline_scrubber=1;j=null}if(k&&n==k){p.sticky_header_nav=1;k=null}l.log('timeline',p)},logScrubberClick:function m(n){j=n},logStickyHeaderNavClick:function m(n){k=n}};f.exports=l}),null);
__d('TimelineSmartInsert',['Run','UserAgent_DEPRECATED','Vector'],(function a(b,c,d,e,f,g){var h=100;function i(o){if(o==='viewport')return c('Vector').getViewportDimensions().y;return o}var j=false,k=false;function l(){if(k)return;c('Run').onLeave(m);k=true}function m(){j=false;k=false}var n={run:function o(p,q,r){l();if(!j||c('UserAgent_DEPRECATED').ie()<=8){q();return}var s=p.offsetHeight;q();var t=p.offsetHeight,u=c('Vector').getScrollPosition().y,v=c('Vector').getElementPosition(p).y;if(t!==s&&v<u&&v+s<u+i(r||h))window.scrollBy(0,t-s);},enable:function o(){j=true}};f.exports=n}),null);
__d('ButtonGroupX',['ArbiterMixin','mixin'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('mixin')(c('ArbiterMixin')));i=h&&h.prototype;function j(k,l){'use strict';i.constructor.call(this);l=l||{};this._root=k;this._radioButtons=l.radioButtons||[];this._selected=l.selected;this.initButtonListeners()}j.prototype.initButtonListeners=function(){'use strict';var k=this._radioButtons.length;while(k--){var l=this._radioButtons[k];l.subscribe('select',this.selectButton.bind(this,l))}};j.prototype.getSelected=function(){'use strict';return this._selected};j.prototype.getSelectedValue=function(){'use strict';return this._selected?this._selected.getValue():null};j.prototype.selectButton=function(k){'use strict';if(this._selected!==k){this.setSelected(k);this.inform('change',{selected:k})}return this};j.prototype.setSelected=function(k){'use strict';if(this._selected!==k){if(this._selected)this._selected.setSelected(false);k.setSelected(true);this._selected=k}return this};j.prototype.setSelectedValue=function(k){'use strict';var l=this._radioButtons.length;while(l--){var m=this._radioButtons[l];if(m.getValue()===k)return this.setSelected(m);}return this};f.exports=j}),null);