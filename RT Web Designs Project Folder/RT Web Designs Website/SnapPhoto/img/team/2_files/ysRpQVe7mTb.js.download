if (self.CavalryLogger) { CavalryLogger.start_js(["KRDKO"]); }

__d("messengerProfileImageWrapperReact",["cx","cssVar","React","utilsRe","bs_js_boolean","CurrentUser","reasonReact","TooltipData","joinClasses","bs_js_primitive","MessagingThreadType","getViewportDimensions"],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c("reasonReact").statelessComponent("MessengerProfileImageWrapperReact");function k(m,n,o,p,q,r,s,t,u,v,w){var x=u?u[0]:"",y=function aa(){if(n){return c("React").createElement("div",{className:"_4ld_ _2pom"},c("React").createElement("div",{className:"_2pon _4p4t"},n[0]))}else{var ba=0;if(o){ba=1}else if(p){ba=1}else return null;if(ba===1)if(v!==0){if(p){if(c("CurrentUser").isWorkUser()){return null}else{var ca=p[0];return c("React").createElement("div",{className:"_4ld_ _2pom"},c("React").createElement("div",{className:"_2pon"+(c("bs_js_boolean").to_js_boolean(ca)?" "+"_1zvi":"")+(c("bs_js_boolean").to_js_boolean(1-ca)?" "+"_2poo":"")}))}}else if(c("CurrentUser").isWorkUser()){return null}else{var da=o[0];return c("React").createElement("div",{className:"_4ld_ _2pom"},c("React").createElement("div",{className:"_2pon"+(c("bs_js_boolean").to_js_boolean(da)?" "+"_2poo":"")+(c("bs_js_boolean").to_js_boolean(1-da)?" "+"_2pop":"")}))}}else return null;}},z=j.slice();z[9]=function(){var aa=t?""+(String(t[0])+"px"):"auto",ba=r?+(r[0]===c("MessagingThreadType").ROOM):0,ca=m?{"aria-hidden":c("bs_js_boolean").to_js_boolean(m[0])}:{},da;if(s){var ea=s[0];if(ea===""){da=ca}else{var fa=c("getViewportDimensions")().width,ga=parseInt("700px".replace("px",""),10),ha=+(fa<=ga),ia=ha!==0?"above":"left";da=Object.assign(ca,c("TooltipData").propsFor(ea,ia))}}else da=ca;var ja=ba!==0?{background:q?q[0]:"#0084ff",height:aa,width:aa}:{height:aa,width:aa};return c("React").cloneElement(c("React").createElement("div",{className:c("joinClasses")("_4ldz",x),style:{height:aa,width:aa}},c("reasonReact").createDomElement("div",{className:"_4ld-"+(c("bs_js_boolean").to_js_boolean(ba)?" "+"_180i":""),style:ja},w),y(0)),da)};return z}var l=c("reasonReact").wrapReasonForJs(j,function(m){var n=m.className;return k(c("utilsRe").nullUndefinedBooleanToOptionBool(m.ariaHidden),c("bs_js_primitive").null_undefined_to_opt(m.customBadge),c("utilsRe").nullUndefinedBooleanToOptionBool(m.isMessengerUser),0,c("bs_js_primitive").null_undefined_to_opt(m.threadColor),c("bs_js_primitive").null_undefined_to_opt(m.threadType),c("bs_js_primitive").null_undefined_to_opt(m.tooltipContent),c("bs_js_primitive").null_undefined_to_opt(m.size),[n==null?"":n],+m.showBadge,[].concat(m.children))});g.component=j;g.make=k;g.jsComponent=l}),null);
__d('MessengerContactImage.react',['Image.react','messengerProfileImageWrapperReact','React'],(function a(b,c,d,e,f,g){var h,i,j=c('messengerProfileImageWrapperReact').jsComponent,k=c('React').PropTypes;h=babelHelpers.inherits(l,c('React').PureComponent);i=h&&h.prototype;l.prototype.render=function(){'use strict';return c('React').createElement('div',{className:this.props.className},c('React').createElement(j,{isMessengerUser:this.props.isMessengerUser,isPartiesUser:this.props.isPartiesUser,size:this.props.size,customBadge:this.props.customBadge,showBadge:false},c('React').createElement(c('Image.react'),{alt:'',height:this.props.size,src:this.props.src,width:this.props.size})))};function l(){'use strict';h.apply(this,arguments)}l.propTypes={customBadge:k.string,isMessengerUser:k.bool,size:k.number.isRequired,src:c('Image.react').validateImageSrcPropType};f.exports=l}),null);
__d('MNRTCCallabilityStore',['MessengerDispatcher','RTCCallabilityStore'],(function a(b,c,d,e,f,g){'use strict';f.exports=new (c('RTCCallabilityStore'))(c('MessengerDispatcher'))}),null);
__d('shouldNotRenderSegoe',['MessengerConfig','UserAgent'],(function a(b,c,d,e,f,g){'use strict';var h=new RegExp('[\u0530-\u05f4\u10a0-\u10ff]'),i=c('UserAgent').isBrowser('Chrome')&&c('UserAgent').isPlatform('Windows 10');f.exports=function j(k){return !c('MessengerConfig').SegoeUIDisabled&&i&&h.test(k)}}),null);
__d('MessengerBubble.react',['cx','fbt','invariant','EmojiOnlyMessage.react','immutable','ImmutableObject','MercuryIDs','MercuryMessageBody.react','MercuryMessageRenderLocations','MessengerActions','messengerContactActionsRe','MessengerDecorator','MessengerSupportedEmojiUtils','React','SimpleXUIDialog','joinClasses','shouldNotRenderSegoe'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('messengerContactActionsRe').actions,n=c('React').PropTypes;k=babelHelpers.inherits(o,c('React').PureComponent);l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.state={emojis:undefined},this.$MessengerBubble1=function(u,v,w){switch(u){case m.MESSAGE:this.$MessengerBubble2(v,w);break;case m.PROFILE:var x=c('MercuryIDs').getParticipantIDFromUserID(v.id),y=this.props.participants&&this.props.participants.get(x);if(y&&y.href){window.open(y.href)}else this.$MessengerBubble2(v,w);break;case m.FREE_CALL:e(['FBRTCCore','MNRTCCallabilityStore'],function(z,aa){var ba=v.id;ba||j(0);if(z.isAvailableForWebrtcCalling(ba)||aa.isCallable(ba)){z.startOutgoingCall(ba,'messenger_dot_com',false)}else c('SimpleXUIDialog').show(i._("{firstname} can't be reached right now.",[i.param('firstname',v.contactName)]),i._("Can't Connect Call"));});break;}}.bind(this),q}o.prototype.componentDidMount=function(){if(!this.props.emojis){var p=this.props.body||'',q=c('MessengerSupportedEmojiUtils').getEmojiOnlyContents(p);if(q&&q.length)this.setState({emojis:q});}};o.prototype.render=function(){var p=false,q=null;if(this.state.emojis){q=c('React').createElement(c('EmojiOnlyMessage.react'),{contents:this.state.emojis})}else{p=true;q=c('React').createElement(c('MercuryMessageBody.react'),{ref:this.props.bodyRef,body:this.props.body,className:"_3oh-"+(c('shouldNotRenderSegoe')(this.props.body||'')?' '+"_2por":'')+(' '+"_58nk"),threadCustomColor:this.props.threadCustomColor,isFromViewer:this.props.isFromViewer,ranges:this.props.ranges,metaRanges:this.props.metaRanges,plainText:this.props.plainText,threadID:this.props.threadID,customLike:this.props.customLike,onContactSelect:this.$MessengerBubble1,renderLocation:c('MercuryMessageRenderLocations').MESSENGER})}var r=[],s=[],t=this.props.message,u=!!this.props.isFromViewer;if(t&&!this.props.excludeAfterDecorators){c('MessengerDecorator').getInsideDecorators().concat(c('MessengerDecorator').getAfterDecorators()).forEach(function(x){if(x.check(t)){r.push(x.render(t,u,this.props));s.push(x.getAdditionalClassNames())}}.bind(this));c('MessengerDecorator').getBeforeDecorators().forEach(function(x){if(x.check(t))s.push(x.getAdditionalClassNames());})}var v=s.join(' '),w=this.props.body?c('React').createElement('div',{className:"_aok"},q,this.props.attachments):null;return c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')(v,this.props.className,"_hh7"+(' '+"_s1-")+(!this.props.notBubblish?' '+"_52mr":'')+(this.props.isP2PAttachment?' '+"_4z55":'')+(!!this.state.emojis?' '+"_2f5r":'')+(!!this.state.emojis?' '+"_581a":'')+(this.props.isFromViewer&&!this.state.emojis?' '+"_43by":'')+(p?' '+"_3oh-":''))}),w,!w?q:null,!w?this.props.attachments:null,r)};o.prototype.$MessengerBubble2=function(p,q){q&&q.preventDefault();var r=c('MercuryIDs').getThreadIDFromUserID(p.id);r&&c('MessengerActions').selectThread(r)};o.propTypes={attachments:n.instanceOf(c('immutable').List),body:n.string,customColor:n.string,customLike:n.object,excludeAfterDecorators:n.bool,isFromViewer:n.bool,message:n.instanceOf(c('ImmutableObject')),metaRanges:n.array,notBubblish:n.bool,onUnwrap:n.func,participants:n.object,plainText:n.bool,ranges:n.array,threadID:n.string,threadCustomColor:n.string};f.exports=o}),null);
__d('MessengerMenu.react',['cx','Keys','MenuSeparator.react','ReactXUIMenu','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;function k(m){m.isReactLegacyFactory={};m.type=m}i=babelHelpers.inherits(l,c('ReactXUIMenu'));j=i&&i.prototype;function l(m){var n=m.className,o=babelHelpers.objectWithoutProperties(m,['className']);j.constructor.call(this,babelHelpers['extends']({className:c('joinClasses')(n,"_2i-c _150g")},o))}l.prototype.handleKeydown=function(m,n){if(m===c('Keys').DOWN||m===c('Keys').UP||m===c('Keys').SPACE)return j.handleKeydown.call(this,m,n);return true};k(l);l.Item=c('ReactXUIMenu').Item;l.Separator=c('MenuSeparator.react');f.exports=l}),null);
__d('MessengerPopoverMenu.react',['cx','ContextualDialogArrow','ContextualLayerAutoFlip','ContextualLayerUpdateOnScroll','PopoverMenu.react','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.showPopover=function(){this.refs.menu&&this.refs.menu.showPopover()};k.prototype.render=function(){var l=this.props,m=l.children,n=l.className,o=l.isOpen,p=babelHelpers.objectWithoutProperties(l,['children','className','isOpen']),q=c('React').Children.only(m);return c('React').createElement(c('PopoverMenu.react'),babelHelpers['extends']({className:c('joinClasses')(n,!p.disableArrowKeyActivation||o?"_150g":''),enableActivationOnEnter:true,layerBehaviors:[c('ContextualLayerAutoFlip'),c('ContextualLayerUpdateOnScroll'),c('ContextualDialogArrow')]},p,{ref:'menu'}),q)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("XSettingsEmployeeBetaController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/settings\/employee\/beta_mode\/",{enabled:{type:"Bool",defaultValue:false}})}),null);
__d('MessengerBugNub.react',['cx','fbt','ix','AsyncRequest','Image.react','Link.react','MessengerEnvironment','MessengerMenu.react','MessengerPopoverMenu.react','React','Tooltip','URI','XSettingsEmployeeBetaController','goURI'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=j("86836"),n=j("86835"),o=j("86837"),p=c('React').PropTypes,q=c('MessengerMenu.react').Item,r=c('MessengerMenu.react').Separator;k=babelHelpers.inherits(s,c('React').PureComponent);l=k&&k.prototype;s.prototype.render=function(){return c('React').createElement('div',{className:"_4_xe"},this.$MessengerBugNub1(),c('React').createElement(c('Link.react'),babelHelpers['extends']({href:'#',ajaxify:'/ajax/bugs/employee_report',className:"_1fr8",rel:'dialog'},c('Tooltip').propsFor(i._("Report a bug"))),c('React').createElement('div',{className:"_1gng"},c('React').createElement(c('Image.react'),{src:m}))))};s.prototype.$MessengerBugNub1=function(){var t=this.props.isBetaEnabled?n:o,u=i._("Internal preferences");return c('React').createElement(c('MessengerPopoverMenu.react'),babelHelpers['extends']({className:"_1fr8",menu:this.$MessengerBugNub2()},c('Tooltip').propsFor(u)),c('React').createElement(c('Link.react'),{'aria-haspopup':'true','aria-label':u,className:"_1gng",href:'#',role:'button'},c('React').createElement(c('Image.react'),{src:t})))};s.prototype.$MessengerBugNub2=function(){var t,u=this,v=null;if(this.props.unixName)(function(){var w=u.props.unixName+'.sb';v=c('React').createElement(q,{label:'Sandbox',onclick:function(){return this.$MessengerBugNub3(w)}.bind(u)})})();return c('React').createElement(c('MessengerMenu.react'),null,c('React').createElement(q,{label:'Public',onclick:function(){return this.$MessengerBugNub4(false)}.bind(this)}),c('React').createElement(q,{label:'Beta',onclick:function(){return this.$MessengerBugNub4(true)}.bind(this)}),c('React').createElement(r,null),c('React').createElement(q,{label:'C1 (trunkstable)',onclick:function(){return this.$MessengerBugNub3('trunkstable')}.bind(this)}),c('React').createElement(q,{label:'Latest',onclick:function(){return this.$MessengerBugNub3('latest')}.bind(this)}),c('React').createElement(q,{label:'Intern',onclick:function(){return this.$MessengerBugNub3('intern')}.bind(this)}),c('React').createElement(q,{label:'Production',onclick:function(){return this.$MessengerBugNub3('prod')}.bind(this)}),v)};s.prototype.$MessengerBugNub4=function(t){var u=c('XSettingsEmployeeBetaController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(u).setData({enabled:t}).setMethod('POST').setAllowCrossPageTransition(true).send()};s.prototype.$MessengerBugNub3=function(t){var u=c('URI').getRequestURI(),v=c('MessengerEnvironment').facebookdotcom?'.facebook.com':'.messenger.com',w='www'+(t?'.'+t:'')+v;c('goURI')(new (c('URI'))(window.location.href).setProtocol(u.getProtocol()).setDomain(w).setSubdomain(u.getSubdomain()).setPath(u.getPath()).setQueryData(u.getQueryData()).setFragment(u.getFragment()))};function s(){k.apply(this,arguments)}s.propTypes={isBetaEnabled:p.bool,unixName:p.string};f.exports=s}),null);
__d('MessengerTypingIndicator.react',['cx','Image.react','immutable','MercuryParticipants','MercuryTypingAnimation.react','messengerProfileImageWrapperReact','MessengerBubble.react','ReactComponentWithPureRenderMixin','React','createReactClass_DEPRECATED','StoreAndPropBasedStateMixin'],(function a(b,c,d,e,f,g,h){var i=c('messengerProfileImageWrapperReact').jsComponent,j=c('React').PropTypes,k=32,l=c('createReactClass_DEPRECATED')({displayName:'MessengerTypingIndicator',mixins:[c('ReactComponentWithPureRenderMixin'),c('StoreAndPropBasedStateMixin')(c('MercuryParticipants'))],propTypes:{userID:j.string,showName:j.bool},statics:{calculateState:function m(n){return {author:c('MercuryParticipants').getOrFetch(n.userID)}}},render:function m(){if(!this.state.author)return null;var n=this.state.author;return c('React').createElement('div',{className:"_1t_p _1hbw"},c('React').createElement('div',{className:"_1t_q"},c('React').createElement(i,{className:"_1t_r",isMessengerUser:n.is_messenger_user,size:k,showBadge:true},c('React').createElement(c('Image.react'),{alt:'',src:n.image_src,height:k,width:k}))),c('React').createElement('div',{className:"_41ud"},c('React').createElement('div',{className:"_o46 _3erg _29_7"},c('React').createElement(c('MessengerBubble.react'),{attachments:c('immutable').List([c('React').createElement(c('MercuryTypingAnimation.react'),{key:'animation'})]),body:'',className:"_3058",ref:'bubble'}))))},getBubble:function m(){return this.refs.bubble}});f.exports=l}),null);
__d('MessengerDialogTitle.react',['cx','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){return c('React').createElement('div',{className:c('joinClasses')("_19jt",this.props.className)},this.props.children)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("messengerSignalsRe",["EventEmitter"],(function a(b,c,d,e,f,g){'use strict';var h=new (c("EventEmitter"))(),i="resize";function j(){h.emit(i);return 0}function k(l){return h.addListener(i,l)}g.emitter=h;g.resizeEvent=i;g.resize=j;g.onResize=k}),null);
__d('MessengerFlexArea.react',['cx','CSS','Event','messengerSignalsRe','React','ReactDOM','ResponsiveBlock.react','Style','SubscriptionsHandler','Vector','getScrollPosition','joinClasses','throttle'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=c('React').createClass({displayName:'MessengerFlexArea',propTypes:{beforeResize:i.func,onResize:i.func},_subscriptions:null,_onResizeTimeout:null,getInitialState:function k(){return {height:0}},componentDidMount:function k(){var l=new (c('SubscriptionsHandler'))();l.addSubscriptions(c('Event').listen(window,'resize',c('throttle')(this.recalculateHeight,51)),c('messengerSignalsRe').onResize(function(){this.recalculateHeight()}.bind(this)));this._subscriptions=l;this.recalculateHeight()},componentWillUnmount:function k(){this._subscriptions&&this._subscriptions.release();clearTimeout(this._onResizeTimeout)},render:function k(){return c('React').createElement(c('ResponsiveBlock.react'),{className:c('joinClasses')(this.props.className,"_9hq"),onResize:this._handleResponsiveBlockResize,style:{height:this.state.height+'px'}},this.props.children)},recalculateHeight:function k(){if(!this.isMounted())return;var l=c('ReactDOM').findDOMNode(this),m=l.parentNode,n=this.state.height,o=c('Vector').getViewportDimensions().y,p=false;if(m&&c('Style').get(m,'display')==='none'){c('Style').set(m,'display','initial');p=true}var q=false;if(m instanceof Element&&c('CSS').hasClass(m,'hidden_elem')){c('CSS').removeClass(m,'hidden_elem');q=true}o-=c('Vector').getElementPosition(m||l).y;var r=c('getScrollPosition')(window);o+=r.y;if(m){Array.from(m.childNodes).forEach(function(s){if(s.nodeType===Node.COMMENT_NODE||c('Style').get(s,'position')==='absolute')return;o-=c('Vector').getElementDimensions(s).y});o+=c('Vector').getElementDimensions(l).y}if(p)c('Style').set(m,'display','');if(q&&m instanceof Element)c('CSS').addClass(m,'hidden_elem');if(isNaN(o)||o<0)o=0;if(o!==n){this.props.beforeResize&&this.props.beforeResize();this.setState({height:o},this.props.onResize)}},_handleResponsiveBlockResize:c('throttle')(function(k,l){if(!this.isMounted())return;if(l===this.state.height){this.props.beforeResize&&this.props.beforeResize();clearTimeout(this._onResizeTimeout);if(this.props.onResize)this._onResizeTimeout=setTimeout(this.props.onResize,0);}},51)});f.exports=j}),null);
__d('MessengerFlexScrollableArea.react',['MessengerFlexArea.react','MessengerScrollableArea.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={shouldTrackBottom:this.props.shouldStickToBottom},this.$MessengerFlexScrollableArea3=function(){this.props.onScroll&&this.props.onScroll();if(!this.props.shouldStickToBottom)return;this.$MessengerFlexScrollableArea4()}.bind(this),this.getArea=function(){return this.refs.scrollable&&this.refs.scrollable.getArea()}.bind(this),this.$MessengerFlexScrollableArea2=function(){this.trackBottomIfRequired()}.bind(this),this.handleResize=function(){this.refs.flexArea&&this.refs.flexArea.recalculateHeight()}.bind(this),this.trackBottomIfRequired=function(){if(this.state.shouldTrackBottom)this.scrollToBottom();}.bind(this),this.scrollToBottom=function(){this.refs.scrollable&&this.refs.scrollable.scrollToBottom()}.bind(this),this.scrollToTop=function(q){this.refs.scrollable&&this.refs.scrollable.scrollToTop(q)}.bind(this),this.isScrolledToBottom=function(){var q=this.refs.scrollable;return q?q.isScrolledToBottom():true}.bind(this),this.isScrolledToBottomWithHeight=function(q){return this.refs.scrollable.isScrolledToBottomWithHeight(q)}.bind(this),this.isScrolledToTop=function(){return this.refs.scrollable&&this.refs.scrollable.isScrolledToTop()}.bind(this),this.getScrollTop=function(){return this.refs.scrollable&&this.refs.scrollable.getScrollTop()||0}.bind(this),m}k.prototype.componentDidMount=function(){this.props.onMount&&this.props.onMount()};k.prototype.render=function(){return c('React').createElement(c('MessengerFlexArea.react'),{className:this.props.className,onResize:this.$MessengerFlexScrollableArea2,ref:'flexArea'},this.props.flexChildren,c('React').createElement(c('MessengerScrollableArea.react'),{height:'100%',needsFastScrollHandler:this.state.shouldTrackBottom,onScroll:this.$MessengerFlexScrollableArea3,ref:'scrollable',tabIndex:this.props.tabIndex},this.props.children),this.props.footerChildren)};k.prototype.$MessengerFlexScrollableArea4=function(){if(this.isScrolledToBottom()){this.setState({shouldTrackBottom:true});this.$MessengerFlexScrollableArea5()}else{this.setState({shouldTrackBottom:false});this.$MessengerFlexScrollableArea6()}};k.prototype.$MessengerFlexScrollableArea5=function(){if(!this.props.useScrollProtection)return;this.$MessengerFlexScrollableArea6();this.$MessengerFlexScrollableArea1=setInterval(function(){this.trackBottomIfRequired()}.bind(this),500)};k.prototype.$MessengerFlexScrollableArea6=function(){if(this.$MessengerFlexScrollableArea1)clearInterval(this.$MessengerFlexScrollableArea1);};k.prototype.scrollToPosition=function(l,m,n){this.refs.scrollable&&this.refs.scrollable.scrollToPosition(l,m,n)};k.propTypes={flexChildren:j.node,footerChildren:j.node,onMount:j.func,onScroll:j.func,shouldStickToBottom:j.bool,tabIndex:j.number,useScrollProtection:j.bool};f.exports=k}),null);
__d('MessengerRTCGroupCallRingParticipantsRow.react',['cx','fbt','React','intlList'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=function k(l){var m=l.names;return c('React').createElement('div',{className:"_1wsd"},c('React').createElement('div',{className:"_1wse"},i._("Ring:")),c('React').createElement('div',{className:"_1wsg"},c('intlList')(m,c('intlList').CONJUNCTIONS.NONE)))};f.exports=j}),null);
__d('RTCCallTitle.react',['immutable','MercuryIDs','MercuryParticipantListRenderer','React'],(function a(b,c,d,e,f,g){'use strict';var h=function i(j){var k=j.viewer,l=j.participants,m=j.className,n=c('MercuryIDs').getParticipantIDFromUserID(k),o=Object.keys(l.toJS());if(o.length>1)o=o.filter(function(r){return r!=n});var p=o.map(function(r){return l.get(r)}),q=new (c('MercuryParticipantListRenderer'))().setUseShortName(false).setUseAndSeparator(false).renderParticipantList(p);return c('React').createElement('span',{className:m},q)};f.exports=h}),null);
__d('MessengerRTCGroupCallThreadRow.react',['cx','fbt','MercuryParticipantsImage.react','MercuryThreadTitle.react','messengerProfileImageWrapperReact','messengerThreadImageReact','React','RTCCallTitle.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('messengerProfileImageWrapperReact').jsComponent,k=c('messengerThreadImageReact').jsComponent,l=function p(q){var r=q.displayAddMemberWarning,s=q.participants,t=q.thread,u=q.viewerID;return c('React').createElement('div',{className:"_5y31"},c('React').createElement(k,{className:"_5y32",participants:s,thread:t,viewer:u}),c('React').createElement('div',{className:"_5y34"},c('React').createElement(c('MercuryThreadTitle.react'),{className:"_5y37",thread:t,viewer:u}),c('React').createElement(n,{displayAddMemberWarning:r})))},m=function p(q){var r=q.displayAddMemberWarning,s=q.participants,t=q.thread,u=q.viewerID;return c('React').createElement('div',{className:"_5y31"},c('React').createElement(j,{className:"_5y32",showBadge:false,size:50},c('React').createElement(c('MercuryParticipantsImage.react'),{participants:Object.keys(s.toJS())})),c('React').createElement('div',{className:"_5y34"},c('React').createElement(c('RTCCallTitle.react'),{className:"_5y37",participants:s,viewer:u}),c('React').createElement(n,{displayAddMemberWarning:r})))},n=function p(q){var r=q.displayAddMemberWarning;return r?c('React').createElement('div',{className:"_1apf"},i._("People you add to this group video will see previous messages in this conversation.")):null},o=function p(q){var r=q.thread,s=babelHelpers.objectWithoutProperties(q,['thread']);return r?c('React').createElement(l,babelHelpers['extends']({thread:r},s)):c('React').createElement(m,babelHelpers['extends']({thread:r},s))};f.exports=o}),null);
__d('MessengerRTCGroupCallParticipantsPickerDialog.react',['cx','fbt','FBRTCCore','immutable','ImmutableObject','MessengerDialog.react','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogHeader.react','MessengerDialogTitle.react','MessengerRTCGroupCallContactList.react','MessengerRTCGroupCallRingParticipantsRow.react','MessengerRTCGroupCallThreadRow.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=460,n=5;j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={isParticipantSelected:this.props.participants.mapEntries(function(u){var v=u[0],w=u[1];return [v,this.props.participants.size<=n]}.bind(this))},this.$MessengerRTCGroupCallParticipantsPickerDialog1=function(){var u=this.$MessengerRTCGroupCallParticipantsPickerDialog2().map(function(v){return v.fbid});if(this.props.handleCall){this.props.handleCall(u)}else c('FBRTCCore').startGroupCall({conferenceName:this.props.conferenceName,hasVideo:this.props.hasVideo,trigger:this.props.trigger,usersToRing:u});this.props.onUnmount()}.bind(this),q}o.prototype.render=function(){var p=this.props,q=p.participants,r=p.thread,s=p.viewerID;return c('React').createElement(c('MessengerDialog.react'),{onToggle:this.props.onUnmount,type:'default',width:m},c('React').createElement('div',{className:"_2m1r"},c('React').createElement(c('MessengerDialogHeader.react'),null,c('React').createElement(c('MessengerDialogCancelButton.react'),null),c('React').createElement(c('MessengerDialogTitle.react'),null,i._("Ring Group Members")),c('React').createElement(c('MessengerDialogButton.react'),{label:i._("Call"),onClick:this.$MessengerRTCGroupCallParticipantsPickerDialog1,disabled:this.$MessengerRTCGroupCallParticipantsPickerDialog2().length===0,type:'primary'})),c('React').createElement(c('MessengerRTCGroupCallThreadRow.react'),{participants:q,thread:r,viewerID:s}),c('React').createElement(c('MessengerRTCGroupCallRingParticipantsRow.react'),{names:this.$MessengerRTCGroupCallParticipantsPickerDialog2().map(function(t){var u=t.name;return u}).sort(function(t,u){return t.localeCompare(u)})}),c('React').createElement(c('MessengerRTCGroupCallContactList.react'),{participants:q.toArray().sort(function(t,u){return t.name.localeCompare(u.name)}),isParticipantSelected:this.state.isParticipantSelected,onClick:function(t){return this.setState({isParticipantSelected:this.state.isParticipantSelected.set(t,!this.state.isParticipantSelected.get(t))})}.bind(this)})))};o.prototype.$MessengerRTCGroupCallParticipantsPickerDialog2=function(){return this.props.participants.filter(function(p,q){return this.state.isParticipantSelected.get(q)}.bind(this)).toArray()};o.propTypes={participants:l.instanceOf(c('immutable').Map).isRequired,thread:l.instanceOf(c('ImmutableObject')),viewerID:l.string.isRequired,trigger:l.string.isRequired,conferenceName:l.string.isRequired,hasVideo:l.bool.isRequired,handleCall:l.func,onUnmount:l.func.isRequired};f.exports=o}),null);
__d('MessengerRTCGroupCallParticipantsPickerDialogController',['DOM','MessengerRTCGroupCallParticipantsPickerDialog.react','React','ReactDOM'],(function a(b,c,d,e,f,g){'use strict';var h={_container:c('DOM').create('div'),render:function i(j){var k=j.participants,l=j.thread,m=j.viewerID,n=j.trigger,o=j.conferenceName,p=j.hasVideo,q=j.handleCall;c('ReactDOM').render(c('React').createElement(c('MessengerRTCGroupCallParticipantsPickerDialog.react'),{participants:k,thread:l,viewerID:m,trigger:n,conferenceName:o,hasVideo:p,handleCall:q,onUnmount:function(){return this._onUnmount()}.bind(this)}),this._container)},_onUnmount:function i(){c('ReactDOM').unmountComponentAtNode(this._container)}};f.exports=h}),null);
__d('P2PPaymentRequest',['P2PPaymentRequestStatus','immutable'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=Math.round(Date.now()/1000);h=babelHelpers.inherits(k,c('immutable').Record({amount:'',amountWithSymbol:'',creationTime:j,currency:'',currentStatus:c('P2PPaymentRequestStatus').INITED,groupThreadFBID:'',id:'',individualRequests:[],memoText:'',requestee:{},requester:{},statusDescription:'',transfer:{},transferID:'',updatedTime:j}));i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d('P2PPaymentRequestsStore',['P2PActionConstants','Arbiter','ChannelConstants','CurrentUser','EventEmitter','immutable','ImmutableObject','P2PActions','P2PAPI','P2PChannelType','P2PDispatcher','P2PPaymentRequest','P2PPaymentRequestStatus'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('immutable').List,k=null,l=false,m=null,n=false,o=null,p=j(),q=false,r=false;h=babelHelpers.inherits(s,c('EventEmitter'));i=h&&h.prototype;function s(){i.constructor.call(this);c('Arbiter').subscribe(c('ChannelConstants').getArbiterType(c('P2PChannelType').PAYMENT_REQUEST_STATUS_CHANGED),this.handleChannelPaymentRequestStatusChanged.bind(this));c('P2PDispatcher').register(this.onEventDispatched.bind(this))}s.prototype.onEventDispatched=function(t){var u=t.data,v=t.type;switch(v){case c('P2PActionConstants').PAYMENT_REQUEST_INITIATED:q=true;o=null;this.emit('change');break;case c('P2PActionConstants').PAYMENT_REQUEST_INITIATED_COMPLETE:q=false;this.emit('change');break;case c('P2PActionConstants').PAYMENT_REQUEST_CREATED:this.handlePaymentRequestCreated(u);this.emit('change');break;case c('P2PActionConstants').PAYMENT_REQUEST_CREATED_ERROR:o=new (c('ImmutableObject'))(u.error);this.emit('change');break;case c('P2PActionConstants').PAYMENT_REQUEST_UPDATED:this.handlePaymentRequestUpdated(u);this.emit('change');break;case c('P2PActionConstants').PAYMENT_REQUEST_DECLINE_INITIATED:n=true;m=null;this.emit('change');break;case c('P2PActionConstants').PAYMENT_REQUEST_DECLINED:n=false;m=null;this.handlePaymentRequestDeclined(u);this.emit('change');break;case c('P2PActionConstants').PAYMENT_REQUEST_DECLINE_ERROR:n=false;m=new (c('ImmutableObject'))(u.error);this.emit('change');break;case c('P2PActionConstants').PAYMENT_REQUEST_CANCEL_INITIATED:l=true;k=null;this.emit('change');break;case c('P2PActionConstants').PAYMENT_REQUEST_CANCELED:l=false;k=null;this.handlePaymentRequestCanceled(u);this.emit('change');break;case c('P2PActionConstants').PAYMENT_REQUEST_CANCEL_ERROR:l=false;k=new (c('ImmutableObject'))(u.error);this.emit('change');break;case c('P2PActionConstants').DIALOG_CLOSED:m=null;this.emit('change');break;case c('P2PActionConstants').PAYMENT_REQUESTS_FETCHED:this.handlePaymentRequestsFetched(u);this.emit('change');break;}};s.prototype.handlePaymentRequestCreated=function(t){var u=p.toArray();u.push(new (c('P2PPaymentRequest'))(t));u.sort(function(v,w){return v.creationTime-w.creationTime});p=j(u)};s.prototype.handlePaymentRequestUpdated=function(t){if(t.groupRequestID)this.updateIndividualRequest(t);delete t.groupRequestID;this.updateRequest(t.id,t)};s.prototype.handlePaymentRequestDeclined=function(t){this.updateRequest(t,{currentStatus:c('P2PPaymentRequestStatus').DECLINED})};s.prototype.handlePaymentRequestCanceled=function(t){this.updateRequest(t,{currentStatus:c('P2PPaymentRequestStatus').CANCELED})};s.prototype.handleChannelPaymentRequestStatusChanged=function(t,u){var v=u.obj;c('P2PActions').paymentRequestUpdated({id:v.id,currentStatus:v.current_status,groupRequestID:v.group_request_id,transfer:v.transfer})};s.prototype.handlePaymentRequestsFetched=function(t){this.$P2PPaymentRequestsStore1(t)};s.prototype.$P2PPaymentRequestsStore1=function(t){t=t.sort(function(v,w){return v.creationTime-w.creationTime});t.forEach(function(v,w){if(!this.getPaymentRequestByID(v.id))p=p.push(new (c('P2PPaymentRequest'))(v));}.bind(this));var u=p.toArray();u.sort(function(v,w){return v.creationTime-w.creationTime});p=j(u)};s.prototype.isPaymentRequestInitiated=function(){return q};s.prototype.isPaymentRequestDeclining=function(){return n};s.prototype.isPaymentRequestCanceling=function(){return l};s.prototype.getPaymentRequestByID=function(t){return p.find(function(u){return t===u.id})};s.prototype.getPaymentRequestError=function(){return o};s.prototype.getPaymentRequestDeclineError=function(){return m};s.prototype.getPaymentRequestCancelError=function(){return k};s.prototype.getPendingPaymentRequest=function(){if(!r){r=true;c('P2PAPI').getPendingPaymentRequests()}return p.filter(function(t){return t.requestee.id===c('CurrentUser').getID()&&t.currentStatus===c('P2PPaymentRequestStatus').INITED}).last()};s.prototype.updateRequest=function(t,u){p.forEach(function(v,w){if(t===v.id)p=p.set(w,v.merge(v,u));})};s.prototype.updateIndividualRequest=function(t){var u=t.id,v=t.groupRequestID,w=p.findIndex(function(ca){return v===ca.id}),x=p.get(w),y=x.individualRequests.findIndex(function(ca){return u===ca.id}),z=x.individualRequests.slice(0),aa=z[y],ba=babelHelpers['extends']({},aa,t);z[y]=ba;x=x.set('individualRequests',z);p=p.set(w,x)};s.prototype.getPaymentRequests=function(){return p};f.exports=new s()}),null);
__d('P2PSimpleDialog.react',['fbt','FBPaymentsErrorNotice_DEPRECATED.react','P2PButton.react','P2PDialog.react','P2PDialogBody.react','P2PDialogFooter.react','P2PDialogTitle.react','P2PLoadingMask.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.handleToggle=function(r){if(!r)this.props.onCancel();}.bind(this),n}l.prototype.render=function(){var m=void 0;if(this.props.error)m=c('React').createElement(c('FBPaymentsErrorNotice_DEPRECATED.react'),{error:this.props.error});return c('React').createElement(c('P2PDialog.react'),{behaviors:this.props.behaviors,layerHideOnBlur:false,onToggle:this.handleToggle,repositionOnUpdate:true,shown:true,width:this.props.width},c('React').createElement(c('P2PDialogTitle.react'),null,this.props.title),c('React').createElement(c('P2PDialogBody.react'),null,m,this.props.bodyText,c('React').createElement(c('P2PLoadingMask.react'),{visible:this.props.loading})),c('React').createElement(c('P2PDialogFooter.react'),null,c('React').createElement(c('P2PButton.react'),{disabled:this.props.loading,label:this.props.cancelButtonText,onClick:this.props.onCancel,size:'medium'}),c('React').createElement(c('P2PButton.react'),{disabled:this.props.loading,label:this.props.confirmButtonText,onClick:this.props.onConfirm,size:'medium',use:'confirm'})))};l.propTypes={bodyText:k.string.isRequired,cancelButtonText:k.string,confirmButtonText:k.string,error:k.object,loading:k.bool,onCancel:k.func.isRequired,onConfirm:k.func.isRequired,title:k.string.isRequired,width:k.number};l.defaultProps={cancelButtonText:h._("Cancel"),confirmButtonText:h._("Confirm"),width:300};f.exports=l}),null);
__d('P2PPaymentRequestCancelDialogContainer.react',['fbt','P2PActions','P2PAPI','P2PLogger','P2PPaymentLoggerEvent','P2PPaymentLoggerEventFlow','P2PPaymentRequest','P2PPaymentRequestsStore','P2PSimpleDialog.react','React','StoreAndPropBasedStateMixin'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=c('React').createClass({displayName:'P2PPaymentRequestCancelDialogContainer',mixins:[c('StoreAndPropBasedStateMixin')(c('P2PPaymentRequestsStore'))],propTypes:{paymentRequest:i.instanceOf(c('P2PPaymentRequest')).isRequired},statics:{calculateState:function k(l){return {error:c('P2PPaymentRequestsStore').getPaymentRequestCancelError(),loading:c('P2PPaymentRequestsStore').isPaymentRequestCanceling()}}},log:function k(l,m){c('P2PLogger').log(l,{www_event_flow:c('P2PPaymentLoggerEventFlow').UI_FLOW_P2P_REQUEST,request_id:this.props.paymentRequest.id})},componentDidMount:function k(){this.log(c('P2PPaymentLoggerEvent').UI_ACTN_INITIATE_CANCEL_REQUEST)},handleCancel:function k(){c('P2PActions').hideDialog()},handleConfirm:function k(){c('P2PAPI').cancelPaymentRequest({error:function(){this.log(c('P2PPaymentLoggerEvent').UI_ACTN_CANCEL_REQUEST_FAIL)}.bind(this),paymentRequestID:this.props.paymentRequest.id,success:function(){this.log(c('P2PPaymentLoggerEvent').UI_ACTN_CANCEL_REQUEST_SUCCESS)}.bind(this)});this.log(c('P2PPaymentLoggerEvent').UI_ACTN_CONFIRM_CANCEL_REQUEST)},renderBodyText:function k(){var l=this.props.paymentRequest.requestee.name;return h._("{Name of requestee} will be notified that the request was canceled.",[h.param('Name of requestee',l)])},render:function k(){return c('React').createElement(c('P2PSimpleDialog.react'),{bodyText:this.renderBodyText(),error:this.state.error,loading:this.state.loading,cancelButtonText:h._("Back"),confirmButtonText:h._("Cancel"),onCancel:this.handleCancel,onConfirm:this.handleConfirm,title:h._("Cancel Request?")})}});f.exports=j}),null);
__d('P2PPaymentRequestDeclineDialogContainer.react',['fbt','P2PActions','P2PAPI','P2PLogger','P2PPaymentLoggerEvent','P2PPaymentLoggerEventFlow','P2PPaymentRequest','P2PPaymentRequestsStore','P2PSimpleDialog.react','React','StoreAndPropBasedStateMixin'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=c('React').createClass({displayName:'P2PPaymentRequestDeclineDialogContainer',mixins:[c('StoreAndPropBasedStateMixin')(c('P2PPaymentRequestsStore'))],propTypes:{paymentRequest:i.instanceOf(c('P2PPaymentRequest')).isRequired},statics:{calculateState:function k(l){return {error:c('P2PPaymentRequestsStore').getPaymentRequestDeclineError(),loading:c('P2PPaymentRequestsStore').isPaymentRequestDeclining()}}},log:function k(l,m){c('P2PLogger').log(l,{www_event_flow:c('P2PPaymentLoggerEventFlow').UI_FLOW_P2P_REQUEST,request_id:this.props.paymentRequest.id})},componentDidMount:function k(){this.log(c('P2PPaymentLoggerEvent').UI_ACTN_INITIATE_DECLINE_REQUEST)},handleCancel:function k(){c('P2PActions').hideDialog()},handleConfirm:function k(){c('P2PAPI').declinePaymentRequest({error:function(){this.log(c('P2PPaymentLoggerEvent').UI_ACTN_DECLINE_REQUEST_FAIL)}.bind(this),paymentRequestID:this.props.paymentRequest.id,success:function(){this.log(c('P2PPaymentLoggerEvent').UI_ACTN_DECLINE_REQUEST_SUCCESS)}.bind(this)});this.log(c('P2PPaymentLoggerEvent').UI_ACTN_CONFIRM_DECLINE_REQUEST)},renderBodyText:function k(){var l=this.props.paymentRequest.requester.name;return h._("{Name of requester} will be notified that the request was declined.",[h.param('Name of requester',l)])},render:function k(){return c('React').createElement(c('P2PSimpleDialog.react'),{bodyText:this.renderBodyText(),error:this.state.error,loading:this.state.loading,cancelButtonText:h._("Back"),confirmButtonText:h._("Decline"),onCancel:this.handleCancel,onConfirm:this.handleConfirm,title:h._("Decline Request?")})}});f.exports=j}),null);
__d('P2PPaymentRequestActionHelper',['fbt','MercuryIDs','P2PActions','P2PPaymentRequest','P2PPaymentRequestCancelDialogContainer.react','P2PPaymentRequestStatus','P2PPaymentRequestDeclineDialogContainer.react','P2PTransferParam','P2PTransferStatus'],(function a(b,c,d,e,f,g,h){'use strict';var i=function k(l){switch(l){case c('P2PTransferStatus').CANCELED_DECLINED:return c('P2PPaymentRequestStatus').DECLINED;case c('P2PTransferStatus').CANCELED_EXPIRED:return c('P2PPaymentRequestStatus').EXPIRED;case c('P2PTransferStatus').CANCELED_RECIPIENT_RISK:case c('P2PTransferStatus').CANCELED_SAME_CARD:case c('P2PTransferStatus').CANCELED_SENDER_RISK:case c('P2PTransferStatus').CANCELED_SYSTEM_FAIL:return c('P2PPaymentRequestStatus').CANCELED;case c('P2PTransferStatus').COMPLETED:return c('P2PPaymentRequestStatus').TRANSFER_COMPLETED;case c('P2PTransferStatus').INTERMEDIATE_PROCESSING:case c('P2PTransferStatus').PENDING_PUSH_FAIL:case c('P2PTransferStatus').PENDING_SENDER_INITED:case c('P2PTransferStatus').PENDING_RECIPIENT_NUX:case c('P2PTransferStatus').PENDING_SENDER_VERIFICATION:case c('P2PTransferStatus').PENDING_SENDER_MANUAL_REVIEW:case c('P2PTransferStatus').PENDING_RECIPIENT_PROCESSING:case c('P2PTransferStatus').PENDING_RECIPIENT_VERIFICATION:case c('P2PTransferStatus').PENDING_RECIPIENT_MANUAL_REVIEW:case c('P2PTransferStatus').PENDING_SENDER_VERIFICATION_PROCESSING:case c('P2PTransferStatus').PENDING_RECIPIENT_VERIFICATION_PROCESSING:default:return c('P2PPaymentRequestStatus').TRANSFER_INITED;}},j={initDeclinePaymentRequestFlow:function k(l){c('P2PActions').showDialog(c('P2PPaymentRequestDeclineDialogContainer.react'),{paymentRequest:l})},initPayForPaymentRequestFlow:function k(l,m){var n=[],o=l.groupThreadFBID,p=void 0;if(o){n.push(l.requester.id);p=c('MercuryIDs').getThreadIDFromThreadFBID(o)}else p=c('MercuryIDs').getThreadIDFromUserID(l.requester.id);c('P2PActions').chatSendViewOpened({amount:l.amount,memoText:l.memoText,paymentRequestID:l.id,threadID:p,useModal:true,referrer:m,groupSendRecipientUserIDs:n,groupThreadFBID:o})},initCancelPaymentRequestFlow:function k(l){c('P2PActions').showDialog(c('P2PPaymentRequestCancelDialogContainer.react'),{paymentRequest:l})},getPaymentRequest:function k(l){return new (c('P2PPaymentRequest'))({amount:l.amount,amountWithSymbol:l.amountWithSymbol,creationTime:l.creationTime,currency:l.currency,currentStatus:i(l[c('P2PTransferParam').STATUS]),groupThreadFBID:l.groupThreadFBID,individualRequests:[],memoText:l.memoText,requestee:l.sender,requester:l.receiver,statusDescription:l.statusDescription,trnasfer:l,transferID:l[c('P2PTransferParam').TRANSFER_ID],updatedTime:l.updatedTime})},getStatusText:function k(l){var m=l.currentStatus,n=h._("Canceled"),o=h._("Paid"),p=h._("Declined"),q=h._("Pending"),r=void 0;switch(m){case c('P2PPaymentRequestStatus').DECLINED:r=p;break;case c('P2PPaymentRequestStatus').CANCELED:case c('P2PPaymentRequestStatus').TRANSFER_FAILED:r=n;break;case c('P2PPaymentRequestStatus').TRANSFER_COMPLETED:r=o;break;default:r=q;break;}return r}};f.exports=j}),null);
__d('P2PAcceptMoneyDialog.react',['cx','BootloadedComponent.react','Bootloader','MessengerEnvironment','P2PDialog.react','P2PLoadingMask.react','JSResource','React','Run'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=c('MessengerEnvironment').messengerui;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$P2PAcceptMoneyDialog1=function(){return c('React').createElement(c('P2PDialog.react'),{className:"_309"+(l?' '+"_5ktw":''),layerHideOnBlur:false,repositionOnUpdate:true,shown:true,width:l?400:350},c('React').createElement('div',{className:"_3w2b"},c('React').createElement(c('P2PLoadingMask.react'),{visible:true})))},o}m.preload=function(){c('Run').onAfterLoad(function(){c('Bootloader').loadModules(["P2PAcceptMoneyDialogImpl.react"],function(){},'P2PAcceptMoneyDialog.react')})};m.prototype.render=function(){return c('React').createElement(c('BootloadedComponent.react'),babelHelpers['extends']({bootloadLoader:c('JSResource')('P2PAcceptMoneyDialogImpl.react').__setRef('P2PAcceptMoneyDialog.react'),bootloadPlaceholder:this.$P2PAcceptMoneyDialog1()},this.props))};m.propTypes={creditCards:k.array.isRequired,useRedesignForm:k.bool,onClose:k.func,transfer:k.object};f.exports=m}),null);
__d('P2PVerificationFlowHelper',['AsyncDialog','AsyncRequest','P2PAPI','P2PTransferParam','emptyFunction'],(function a(b,c,d,e,f,g){var h=null,i=null,j=null,k={startVerificationFlow:function l(m,n,o){h=m;i=n;j=o||c('emptyFunction');c('AsyncDialog').send(new (c('AsyncRequest'))('/p2p/verify/dialog/?id='+m))},setupFlowExitHandler:function l(m,n,o,p){var q=function t(u){j(u);h=null;i=null;j=null;m.destroy();n.destroy()};if(o){m.subscribe('hide',function(){q(p)})}else{var r=false,s=false;m.subscribe('confirm',function(){r=true});m.subscribe('hide',function(){if(r){m.destroy();n.destroy()}else if(i){n.show()}else q(false);});n.subscribe('confirm',function(){s=true;var t={};t[c('P2PTransferParam').TRANSFER_ID]=h;c('P2PAPI').cancelTransaction({formData:t});q(false)});n.subscribe('hide',function(){if(!s)m.show();})}}};f.exports=k}),null);
__d("MessengerPaymentProductType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({P2P:"p2p",PAGES_COMMERCE:"pages_commerce",NMOR_PAGES_COMMERCE:"nmor_pages_commerce",MESSENGER_COMMERCE:"messenger_commerce"})}),null);
__d('P2PCreditCardStore',['P2PActionConstants','Arbiter','CreditCardFormParam','ChannelConstants','EventEmitter','ImmutableObject','MessengerPaymentProductType','P2PActions','P2PAPI','P2PChannelType','P2PCreditCard','P2PDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=void 0,k=void 0,l=void 0,m=void 0,n=void 0,o=void 0,p=null,q=false,r=false;function s(v,w){if(v)o[v]=new (c('ImmutableObject'))(w);}function t(v,w){p=w;if(v)o[v]={error:w};}h=babelHelpers.inherits(u,c('EventEmitter'));i=h&&h.prototype;function u(){i.constructor.call(this);l=false;m=false;j=[];n=true;o={};k=c('P2PDispatcher').register(this.onEventDispatched.bind(this));c('Arbiter').subscribe(c('ChannelConstants').getArbiterType(c('P2PChannelType').CREDIT_CARD_CHANGED),this.handleChannelCreditCardChanged.bind(this));c('Arbiter').subscribe(c('ChannelConstants').getArbiterType(c('P2PChannelType').CREDIT_CARD_DELETED),this.handleChannelCreditCardDeleted.bind(this))}u.prototype.onEventDispatched=function(v){var w=v.data,x=v.type;switch(x){case c('P2PActionConstants').CREDIT_CARD_SAVING:this.handleCreditCardSaving();this.emit('change');break;case c('P2PActionConstants').CREDIT_CARDS_UPDATED:this.handleCreditCardsUpdated(w);this.emit('change');break;case c('P2PActionConstants').CREDIT_CARDS_UPDATED_ERROR:this.handleCreditCardsUpdatedError();this.emit('change');break;case c('P2PActionConstants').CHANNEL_EVENTS_ALLOWED:this.handleChannelEventsAllowed();break;case c('P2PActionConstants').CHANNEL_EVENTS_IGNORED:this.handleChannelEventsIgnored();break;case c('P2PActionConstants').CREDIT_CARD_ADDED:this.handleCreditCardAdded(w);this.emit('change');break;case c('P2PActionConstants').CREDIT_CARD_ADDED_ERROR:this.handleCreditCardAddedError(w);this.emit('change');break;case c('P2PActionConstants').CREDIT_CARD_ADDED_ERROR_CLEARED:this.handleCreditCardAddedErrorCleared();this.emit('change');break;case c('P2PActionConstants').CREDIT_CARD_DELETED:this.handleCreditCardDeleted(w);this.emit('change');break;case c('P2PActionConstants').CREDIT_CARD_DELETED_ERROR:this.handleCreditCardDeletedError(w);this.emit('change');break;case c('P2PActionConstants').CREDIT_CARD_UPDATED:this.handleCreditCardUpdated(w);this.emit('change');break;case c('P2PActionConstants').CREDIT_CARD_UPDATED_ERROR:this.handleCreditCardUpdatedError(w);this.emit('change');break;case c('P2PActionConstants').PRESET_CREDIT_CARD_UPDATED:this.handlePresetCreditCardUpdated(w);this.emit('change');break;case c('P2PActionConstants').PRESET_CREDIT_CARD_UPDATED_ERROR:this.handlePresetCreditCardUpdatedError(w);this.emit('change');break;case c('P2PActionConstants').CREDIT_CARD_VERIFIED:this.handleCreditCardVerified(w);this.emit('change');break;case c('P2PActionConstants').CREDIT_CARD_VERIFIED_ERROR:this.handleCreditCardVerifiedError(w);this.emit('change');break;case c('P2PActionConstants').BIN_NUMBER_VALIDATED:this.handleBINNumberValidated(w);this.emit('change');break;case c('P2PActionConstants').BIN_NUMBER_VALIDATED_ERROR:this.handleBINNumberValidatedError(w);this.emit('change');break;}};u.prototype.handleCreditCardSaving=function(){q=true;p=null};u.prototype.getAsyncRequestState=function(){return o};u.prototype.isCreditCardsFetchComplete=function(){return l};u.prototype.handleCreditCardsUpdated=function(v){l=true;r=false;j=v.map(function(w){return new (c('P2PCreditCard'))(w)})};u.prototype.handleCreditCardsUpdatedError=function(){l=true;r=true};u.prototype.handleCreditCardAdded=function(v){q=false;s(v.requestID,v);if(!this.getCreditCardByCredentialID(v[c('CreditCardFormParam').CREDENTIAL_ID]))j.push(new (c('P2PCreditCard'))(v));};u.prototype.handleChannelEventsIgnored=function(){n=false};u.prototype.handleChannelEventsAllowed=function(){n=true};u.prototype.handleChannelCreditCardChanged=function(v,w){if(n&&!this.getCreditCardByCredentialID(w[c('CreditCardFormParam').CREDENTIAL_ID]))c('P2PAPI').getAllCreditCards();};u.prototype.handleCreditCardAddedError=function(v){q=false;t(v.requestID,v.errors)};u.prototype.handleCreditCardAddedErrorCleared=function(){p=null};u.prototype.handleCreditCardDeleted=function(v){var w=v[c('CreditCardFormParam').CREDENTIAL_ID];s(v.requestID,v);j=j.filter(function(x){return x.getCredentialId()!==w})};u.prototype.handleChannelCreditCardDeleted=function(v,w){w=w.obj;c('P2PActions').deleteCreditCard(w)};u.prototype.handleCreditCardDeletedError=function(v){t(v.requestID,v.error)};u.prototype.handleCreditCardUpdated=function(v){s(v.requestID,v);var w=this.getCreditCardByCredentialID(v[c('CreditCardFormParam').CREDENTIAL_ID]);if(w){w.setExp(v[c('CreditCardFormParam').CARD_EXPIRATION]);w.setZipCode(v[c('CreditCardFormParam').ZIP])}};u.prototype.handleCreditCardUpdatedError=function(v){t(v.requestID,v.errors)};u.prototype.handlePresetCreditCardUpdated=function(v){var w=v[c('CreditCardFormParam').CREDENTIAL_ID];s(v.requestID,v);var x=j.filter(function(z){return z.getIsPreset()})[0];if(x)x.setIsPreset(false);var y=this.getCreditCardByCredentialID(w);if(y)y.setIsPreset(true);};u.prototype.handlePresetCreditCardUpdatedError=function(v){t(v.requestID,v.error)};u.prototype.handleCreditCardVerified=function(v){s(v.requestID,v);var w=this.getCreditCardByCredentialID(v[c('CreditCardFormParam').CREDENTIAL_ID]);if(w)w.setIsVerified(true);};u.prototype.handleCreditCardVerifiedError=function(v){t(v.requestID,v.error)};u.prototype.handleBINNumberValidated=function(v){s(v.requestID,v)};u.prototype.handleBINNumberValidatedError=function(v){t(v.requestID,v.error)};u.prototype.getAll=function(v){v=v===undefined?c('MessengerPaymentProductType').P2P:v;if(!m){m=true;c('P2PAPI').getAllCreditCards()}return j.filter(function(w){if(v===c('MessengerPaymentProductType').P2P)return w.getIsPersonalTransferEligible();return w})};u.prototype.getCreditCardByCredentialID=function(v){return j.filter(function(w){return w.getCredentialId()===v})[0]};u.prototype.getDispatchToken=function(){return k};u.prototype.getSaveErrors=function(){return p};u.prototype.isSaving=function(){return q};u.prototype.failedCreditCardFetch=function(){return r};f.exports=new u()}),null);
__d('PhotoUtils',['Event','URI'],(function a(b,c,d,e,f,g){var h={getImagesFromData:function i(j){var k=[];for(var l in j)if(l.indexOf('image')===0)k.push(j[l]);return k},getFBIDFromData:function i(j){return j&&j.id},getOriginalImageFromData:function i(j){return j.original||j.download_image},getDownloadURLFromData:function i(j){var k=this.getOriginalImageFromData(j);if(!k)return null;var l=new (c('URI'))(k.uri);l.addQueryData({dl:1});return l},getPermalinkFromData:function i(j){return j.permalink},canViewerMakeCoverPhoto:function i(j){return !!j.can_viewer_make_cover_photo},getCoverPhotoURLFromData:function i(j){return new (c('URI'))('/profile.php').addQueryData({preview_cover:h.getFBIDFromData(j)})},preload:function i(j,k,l){var m=j.getDimensions();for(var n=0;n<k.length;++n){var o=m.getBestFitImageFromPhoto(k[n],m.getMaxStageDimensions()),p=new Image();l&&c('Event').listen(p,'load',l.bind(null,k[n]));j.getLogger().log(o.uri);p.src=o.uri}}};f.exports=h}),null);
__d('SpotlightViewer',['cx','React','Spotlight.react'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';if(!this.props.open)return null;var l="_n3";if(this.props.className)l+=' '+this.props.className;return c('React').createElement(c('Spotlight.react'),{onBeforeHide:this.props.onBeforeHide,onHide:this.props.onHide,rootClassName:this.props.rootClassName,shown:this.props.open,key:'photoLayer'},c('React').createElement('div',{className:l,onClick:this.props.onClick,role:'presentation'},this.props.children))};function k(){'use strict';i.apply(this,arguments)}f.exports=k}),null);
__d('SpotlightViewerImage',['cx','Image.react','React','XUISpinner.react'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(l){'use strict';j.constructor.call(this,l);this.$SpotlightViewerImage3=function(){this.setState({loading:false})}.bind(this);this.state={loading:true}}k.prototype.componentWillReceiveProps=function(l){'use strict';if(l.src!==this.props.src)this.setState({loading:true});};k.prototype.render=function(){'use strict';return c('React').createElement('div',{className:"_4-od"},this.$SpotlightViewerImage1(),this.$SpotlightViewerImage2())};k.prototype.$SpotlightViewerImage1=function(){'use strict';if(!this.state.loading)return null;return c('React').createElement(c('XUISpinner.react'),{className:"_enh",size:'large'})};k.prototype.$SpotlightViewerImage2=function(){'use strict';return c('React').createElement('div',{className:this.state.loading?"_eni":''},c('React').createElement(c('Image.react'),{onLoad:this.$SpotlightViewerImage3,src:this.props.src,style:{width:this.props.dimensions.x,height:this.props.dimensions.y}}))};f.exports=k}),null);
__d('SpotlightViewport',['csx','cx','Locale','Parent','React','ReactDOM','Vector','joinClasses'],(function a(b,c,d,e,f,g,h,i){var j=c('React').PropTypes,k=c('React').createClass({displayName:'SpotlightViewport',propTypes:{stageDimensions:j.object.isRequired,useWidth:j.bool},PAGE_TO_PREV_PERCENTAGE:.2,sections:{NONE:null,FORWARD:1,BACKWARD:2},timer:null,getInitialState:function l(){return {currentActiveSection:this.sections.NONE,active:true}},componentDidMount:function l(){this._onMouseEnter()},componentWillUnmount:function l(){if(this.props.fadeInNOut)clearTimeout(this.timer);},_onMouseMove:function l(event){var m=c('ReactDOM').findDOMNode(this),n=c('Vector').getEventPosition(event.nativeEvent),o=c('Vector').getElementPosition(m),p=this.props.useWidth?this.props.stageDimensions.x:c('Vector').getElementDimensions(m).x;if(this.props.fadeInNOut)if(this._isMouseOverActionBars(n)){clearTimeout(this.timer)}else this._onMouseEnter();var q,r=n.x-o.x,s=r/p;if(c('Locale').isRTL()){q=s>1-this.PAGE_TO_PREV_PERCENTAGE}else q=s<this.PAGE_TO_PREV_PERCENTAGE;if(q){this.setState({currentActiveSection:this.sections.BACKWARD})}else this.setState({currentActiveSection:this.sections.FORWARD});},_onClick:function l(event){var m=this.state.currentActiveSection==this.sections.FORWARD,n=event.target;if(!c('Parent').bySelector(n,"._51an"))this.props.onClick&&this.props.onClick(m,event);},_isMouseOverActionBars:function l(m){return m.y<70||m.y>this.props.stageDimensions.y-70},_onMouseEnter:function l(){this.setState({active:true});if(this.props.fadeInNOut){clearTimeout(this.timer);this.timer=setTimeout(this._onMouseLeave,1000)}},_onMouseLeave:function l(){this.setState({active:false})},makeActive:function l(){this._onMouseEnter()},render:function l(){var m="_4-of"+(!this.state.active&&!this.props.active?' '+"_50-l":'')+(this.state.currentActiveSection===this.sections.BACKWARD?' '+"_516a":'')+(this.state.currentActiveSection===this.sections.FORWARD?' '+"_516b":'')+(this.props.showLoadingIndicator?' '+"_51jp":'');if(this.props.className)m=c('joinClasses')(m,this.props.className);var n={};if(this.props.stageDimensions){n={height:this.props.stageDimensions.y};if(this.props.useWidth)n.width=this.props.stageDimensions.x;}return c('React').createElement('div',{className:m,onClick:this._onClick,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave,onMouseMove:this._onMouseMove,role:'presentation',style:n},this.props.children,c('React').createElement('div',{className:"_4-og"},c('React').createElement('span',{className:"_4-oh"}),this.props.media,c('React').createElement('div',{className:"_4-oi"})))}});f.exports=k}),null);
__d('AbstractDialogFitHeight',['csx','cx','CSS','DOM','Event','Style','SubscriptionsHandler','Vector','throttle'],(function a(b,c,d,e,f,g,h,i){var j=450,k=100,l=67,m=67;function n(o){'use strict';this.$AbstractDialogFitHeight1=o}n.prototype.enable=function(){'use strict';this.$AbstractDialogFitHeight2=new (c('SubscriptionsHandler'))();this.$AbstractDialogFitHeight2.addSubscriptions(this.$AbstractDialogFitHeight1.subscribe('beforeshow',this.$AbstractDialogFitHeight3.bind(this)),c('Event').listen(window,'resize',c('throttle')(this.$AbstractDialogFitHeight3.bind(this))));this.$AbstractDialogFitHeight4=c('DOM').find(this.$AbstractDialogFitHeight1.getRoot(),"._4-i2");c('CSS').addClass(this.$AbstractDialogFitHeight4,"_5pfh");c('CSS').addClass(this.$AbstractDialogFitHeight1.getRoot(),"_3thl");this.$AbstractDialogFitHeight5=k;if(c('DOM').scry(this.$AbstractDialogFitHeight1.getRoot(),"._4-i0").length)this.$AbstractDialogFitHeight5+=l;if(c('DOM').scry(this.$AbstractDialogFitHeight1.getRoot(),"._5a8u").length)this.$AbstractDialogFitHeight5+=m;};n.prototype.disable=function(){'use strict';this.$AbstractDialogFitHeight2.release();this.$AbstractDialogFitHeight2=null;c('CSS').removeClass(this.$AbstractDialogFitHeight4,"_5pfh");c('CSS').removeClass(this.$AbstractDialogFitHeight1.getRoot(),"_3thl")};n.prototype.$AbstractDialogFitHeight3=function(){'use strict';var o=c('Vector').getViewportDimensions().y,p=o-this.$AbstractDialogFitHeight5;c('Style').set(this.$AbstractDialogFitHeight4,this.getHeightProperty(),Math.max(j,p)+'px');this.$AbstractDialogFitHeight1.updatePosition()};f.exports=n}),null);
__d('DialogFitHeight',['AbstractDialogFitHeight'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('AbstractDialogFitHeight'));i=h&&h.prototype;j.prototype.getHeightProperty=function(){'use strict';return 'height'};function j(){'use strict';h.apply(this,arguments)}f.exports=j}),null);
__d('StickersStoreController',['cx','Bootloader','DialogFitHeight','DOM','LayerAutoFocus','LayerFadeOnHide','LayerHideOnEscape','PureStoreBasedStateMixin','React','ReactDOM','StickersActions','StickersDispatcher','StickersStateStore','XUIDialog.react','XUIDialogBody.react','XUISpinner.react','isSocialPlugin','requestAnimationFrame'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=688,k=320,l=null,m=c('React').createClass({displayName:'StoreLayer',mixins:[c('PureStoreBasedStateMixin')(c('StickersStateStore'))],propTypes:{isComposer:i.bool,onToggle:i.func.isRequired,shown:i.bool.isRequired},getDefaultProps:function r(){return {isComposer:false}},statics:{calculateState:function r(){return {packID:c('StickersStateStore').getState().get('storePackID')}}},getInitialState:function r(){return {renderStore:function s(){return c('React').createElement('div',{className:"_5r5e"},c('React').createElement(c('XUISpinner.react'),{background:'light',size:'large'}))}}},componentWillMount:function r(){c('StickersDispatcher').explicitlyRegisterStores([c('StickersStateStore')])},shouldComponentUpdate:function r(s){return !!s.shown},componentDidMount:function r(){c('Bootloader').loadModules(["StickersStore.react","RelayRootContainer","StickersStorePackListRoute","StickersStorePackDetailRoute"],function(s,t,u,v){this.setState({renderStore:function(){var w=this.state.packID?new v({packID:this.state.packID}):new u();return c('React').createElement(t,{Component:s,route:w,renderFetched:function(x){return c('React').createElement(s,babelHelpers['extends']({},x,{isComposer:this.props.isComposer,packID:this.state.packID,shown:this.props.shown}))}.bind(this)})}.bind(this)})}.bind(this),'StickersStoreController')},_onToggle:function r(s){c('requestAnimationFrame')(function(){return this.props.onToggle(s)}.bind(this))},render:function r(){var s=c('isSocialPlugin')()&&document.body.offsetWidth<j?k:j;return c('React').createElement(c('XUIDialog.react'),{behaviors:{DialogFitHeight:c('DialogFitHeight'),LayerAutoFocus:c('LayerAutoFocus'),LayerFadeOnHide:c('LayerFadeOnHide'),LayerHideOnEscape:c('LayerHideOnEscape')},onToggle:this._onToggle,shown:this.props.shown,width:s},c('React').createElement(c('XUIDialogBody.react'),{className:"_5rq- autofocus"},this.state.renderStore()))}}),n=function r(s){if(!l){l=c('DOM').create('div');c('DOM').appendContent(document.body,l)}c('ReactDOM').render(c('React').createElement(m,{isComposer:s,onToggle:p,shown:true}),l)},o=function r(){if(!l)return;c('ReactDOM').render(c('React').createElement(m,{shown:false,onToggle:p}),l)},p=function r(s){s?n():o()},q={showStore:function r(s,t){c('StickersActions').selectStorePack(s);n(!!t)}};f.exports=q}),null);
__d('getVisibleValueForContentState',['DraftEntity','emptyFunction'],(function a(b,c,d,e,f,g){function h(i){var j=i.getBlockMap().map(function(k){var l=k.getText(),m='';k.findEntityRanges(c('emptyFunction').thatReturnsTrue,function(n,o){var p=k.getEntityAt(n);if(p===null){m+=l.slice(n,o)}else{var q=c('DraftEntity').get(p);if(q.getType()==='EMOTICON'){m+=q.getData().originalEmoticon}else if(q.getType()==='EMOJI'){m+=q.getData().emoji.join('')}else m+=l.slice(n,o);}});return m});return j.join('\n')}f.exports=h}),null);
__d("XShareScrapeAttachmentAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/message_share_attachment\/fromURI\/",{})}),null);