if (self.CavalryLogger) { CavalryLogger.start_js(["GObOo"]); }

__d("ComposerPublisherSupportedParameters",[],(function a(b,c,d,e,f,g){f.exports=["xhpc_message","xc_sticker_id","is_welcome_to_group_post","privacyx","composer_source_surface","composer_entry_time","composer_session_duration","num_keystrokes","num_pastes","composer_type"]}),null);
__d("ComposerStoryCreateMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1931212663571278"};j.getQueryID=function(){"use strict";return "576284395828557"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d('ComposerPublisher',['ReactComposerFilteredFalseyParameters','ComposerStoryCreateMutationWebGraphQLMutation','ComposerPublisherSupportedParameters','GraphQLStoryCreateSource','WebGraphQL','WebGraphQLComposerGK','randomInt'],(function a(b,c,d,e,f,g){var h={publish:function i(j,k){c('WebGraphQL').exec(new (c('ComposerStoryCreateMutationWebGraphQLMutation'))({input:this.translateData(j,k)})).done()},translateData:function i(j,k){k=this._getSupportedFeaturesData(k);var l={};Object.assign(l,{actor_id:j,audience:{web_privacyx:k.privacyx},client_mutation_id:c('randomInt')(0,4294967296),source:c('GraphQLStoryCreateSource').WWW});if(k.xhpc_message)l.message={text:k.xhpc_message,ranges:{}};if(k.xc_sticker_id)l.referenced_sticker_id=k.xc_sticker_id;if(k.is_welcome_to_group_post)l.is_welcome_to_group_post=k.is_welcome_to_group_post;if(k.composer_source_surface)l.composer_source_surface=k.composer_source_surface;if(k.composer_entry_time)l.composer_entry_time=k.composer_entry_time;var m={};if(k.composer_session_duration)m.composition_duration=k.composer_session_duration;if(k.num_keystrokes)m.number_of_keystrokes=k.num_keystrokes;if(k.num_pastes)m.number_of_copy_pastes=k.num_pastes;if('composer_session_duration' in k||'num_keystrokes' in k||'num_pastes' in k)l.composer_session_events_log=m;if(k.composer_type)l.composer_type=k.composer_type;return l},getShouldUseGraphQLForStatus:function i(j){if(!this._getTextPostGK())return false;return this._getShouldUseGraphQL(j)},getShouldUseGraphQLForMedia:function i(j){if(!this._getMediaPostGK())return false;return this._getShouldUseGraphQL(j)},_getShouldUseGraphQL:function i(j){j=this._getSupportedFeaturesData(j);for(var k in j)if(!c('ComposerPublisherSupportedParameters').includes(k))return false;return true},_getTextPostGK:function i(){return c('WebGraphQLComposerGK').web_graphml_text_post},_getMediaPostGK:function i(){return c('WebGraphQLComposerGK').web_graphml_media_post},_getSupportedFeaturesData:function i(j){c('ReactComposerFilteredFalseyParameters').parameter_names.forEach(function(m){if(m in j&&!j[m])delete j[m];});var k={};for(var l in j)if(c('ComposerPublisherSupportedParameters').includes(l))k[l]=j[l];return k}};f.exports=h}),null);
__d('ReactComposerFileActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({RESET:null,SAVE_DROPBOX_FILE:null,SAVE_FILE:null,SET_FILE_CONFIG:null},'ReactComposerFileActionType')}),null);
__d('ReactComposerFileStore',['fbt','ReactComposerFileActionType','ReactComposerStoreBase'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('ReactComposerStoreBase'));j=i&&i.prototype;function k(){'use strict';var l;j.constructor.call(this,function(){return {dialogAppURL:null,dropboxActionEndpoint:null,dropboxAppID:null,dropboxEnabled:null,dropboxFileID:null,file:null,maxFileUploadString:null,selectedDropboxFileName:l&&l.$ReactComposerFileStore1(),selectedFileName:l&&l.$ReactComposerFileStore1()}},function(m){switch(m.type){case c('ReactComposerFileActionType').RESET:l&&l.$ReactComposerFileStore2(m);break;case c('ReactComposerFileActionType').SAVE_DROPBOX_FILE:l&&l.$ReactComposerFileStore3(m);break;case c('ReactComposerFileActionType').SAVE_FILE:l&&l.$ReactComposerFileStore4(m);break;case c('ReactComposerFileActionType').SET_FILE_CONFIG:l&&l.$ReactComposerFileStore5(m);break;}});l=this}k.prototype.getDialogAppURL=function(l){'use strict';return this.getComposerData(l).dialogAppURL};k.prototype.getDropboxActionEndpoint=function(l){'use strict';return this.getComposerData(l).dropboxActionEndpoint};k.prototype.getDropboxAppID=function(l){'use strict';return this.getComposerData(l).dropboxAppID};k.prototype.getDropboxEnabled=function(l){'use strict';return this.getComposerData(l).dropboxEnabled};k.prototype.getDropboxFileID=function(l){'use strict';return this.getComposerData(l).dropboxFileID};k.prototype.getFile=function(l){'use strict';return this.getComposerData(l).file};k.prototype.getMaxFileUploadSize=function(l){'use strict';return this.getComposerData(l).maxFileUploadSize};k.prototype.getMaxFileUploadString=function(l){'use strict';return this.getComposerData(l).maxFileUploadString};k.prototype.getSelectedDropboxFileName=function(l){'use strict';return this.getComposerData(l).selectedDropboxFileName};k.prototype.getSelectedFileName=function(l){'use strict';return this.getComposerData(l).selectedFileName};k.prototype.getURI=function(l){'use strict';return this.hasFile(l)?'/ajax/groups/files/upload':'/ajax/groups/files/dropbox_publish'};k.prototype.hasDropboxFile=function(l){'use strict';return !!this.getComposerData(l).dropboxFileID};k.prototype.hasFile=function(l){'use strict';return !!this.getComposerData(l).file};k.prototype.isFileSelected=function(l){'use strict';var m=this.getComposerData(l);return !!m.file||!!m.dropboxFileID};k.prototype.$ReactComposerFileStore1=function(){'use strict';return h._("No file chosen")};k.prototype.$ReactComposerFileStore2=function(l){'use strict';var m=this.validateAction(l,'composerID'),n=this.getComposerData(m);n.file=n.dropboxFileID=null;n.selectedFileName=n.selectedDropboxFileName=this.$ReactComposerFileStore1();this.emitChange(l.composerID)};k.prototype.$ReactComposerFileStore3=function(l){'use strict';var m=this.validateAction(l,['composerID','id','name']),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);q.dropboxFileID=o;q.selectedDropboxFileName=p;this.emitChange(n)};k.prototype.$ReactComposerFileStore4=function(l){'use strict';var m=this.validateAction(l,['composerID','file','name']),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);q.file=o;q.selectedFileName=p;this.emitChange(l.composerID)};k.prototype.$ReactComposerFileStore5=function(l){'use strict';var m=this.validateAction(l,['composerID','config']),n=m[0],o=m[1],p=this.getComposerData(n);p.dialogAppURL=o.dialogAppURL;p.dropboxActionEndpoint=o.dropboxActionEndpoint;p.dropboxAppID=o.dropboxAppID;p.dropboxEnabled=o.dropboxEnabled;p.maxFileUploadSize=o.maxFileUploadSize;p.maxFileUploadString=o.maxFileUploadString;this.emitChange(l.composerID)};f.exports=new k()}),null);
__d('ReactComposerFileActions',['ReactComposerDispatcher','ReactComposerFileActionType','ReactComposerFileStore'],(function a(b,c,d,e,f,g){c('ReactComposerFileStore');h.prototype.reset=function(i){'use strict';var j={composerID:i,type:c('ReactComposerFileActionType').RESET};c('ReactComposerDispatcher').dispatch(j)};h.prototype.saveDropboxFile=function(i,j,k){'use strict';var l={composerID:i,type:c('ReactComposerFileActionType').SAVE_DROPBOX_FILE,id:j,name:k};c('ReactComposerDispatcher').dispatch(l)};h.prototype.saveFile=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerFileActionType').SAVE_FILE,name:j.name,file:j.file};c('ReactComposerDispatcher').dispatch(k)};h.prototype.setConfig=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerFileActionType').SET_FILE_CONFIG,config:j};c('ReactComposerDispatcher').dispatch(k)};function h(){'use strict'}f.exports=new h()}),null);
__d('ReactComposerCanvasActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({HIDE_CANVAS_SELECTOR:null,SHOW_CANVAS_SELECTOR:null},'ReactComposerCanvasActionType')}),null);
__d('ReactComposerPhotoCarouselActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({SELECT_PHOTO_CAROUSEL:null,UNSELECT_PHOTO_CAROUSEL:null,PREVIEW_COMPLETED:null,PREVIEW_INCOMPLETED:null,HIDE_CAROUSEL_URL_INPUT_AREA:null,SHOW_CAROUSEL_URL_INPUT_AREA:null,SEEN_NUX:null},'ReactComposerPhotoCarouselActionType')}),null);
__d("CarouselPagesComposerSource",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CAROUSEL_CAMERA_ICON:"carousel_camera_icon"})}),null);
__d('ReactComposerPhotoCarouselStore',['CarouselPagesComposerSource','PagesComposerActionsLogger','PagesComposerPostActionsLoggerEvent','ReactComposerAttachmentActionType','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerPhotoCarouselActionType','ReactComposerScrapedAttachmentActionType','ReactComposerStoreBase'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {isPhotoCarouselSelected:false,isCarouselPreviewCompleted:true,shouldShowURLEditArea:false,seenNux:false}},function(l){switch(l.type){case c('ReactComposerPhotoCarouselActionType').SELECT_PHOTO_CAROUSEL:k&&k.$ReactComposerPhotoCarouselStore1(l);break;case c('ReactComposerPhotoCarouselActionType').UNSELECT_PHOTO_CAROUSEL:k&&k.$ReactComposerPhotoCarouselStore2(l);break;case c('ReactComposerPhotoCarouselActionType').PREVIEW_COMPLETED:k&&k.$ReactComposerPhotoCarouselStore3(l);break;case c('ReactComposerPhotoCarouselActionType').PREVIEW_INCOMPLETED:k&&k.$ReactComposerPhotoCarouselStore4(l);break;case c('ReactComposerPhotoCarouselActionType').SHOW_CAROUSEL_URL_INPUT_AREA:k&&k.$ReactComposerPhotoCarouselStore5(l);break;case c('ReactComposerPhotoCarouselActionType').HIDE_CAROUSEL_URL_INPUT_AREA:k&&k.$ReactComposerPhotoCarouselStore6(l);break;case c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT:k&&k.$ReactComposerPhotoCarouselStore7(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPED:k&&k.$ReactComposerPhotoCarouselStore6(l);break;case c('ReactComposerPhotoCarouselActionType').SEEN_NUX:k&&k.$ReactComposerPhotoCarouselStore8(l);break;default:}});k=this}j.prototype.$ReactComposerPhotoCarouselStore1=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.isPhotoCarouselSelected=true;this.emitChange(l)};j.prototype.$ReactComposerPhotoCarouselStore2=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.isPhotoCarouselSelected=false;this.emitChange(l)};j.prototype.$ReactComposerPhotoCarouselStore3=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.isCarouselPreviewCompleted=true;this.emitChange(l)};j.prototype.$ReactComposerPhotoCarouselStore4=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.isCarouselPreviewCompleted=false;this.emitChange(l)};j.prototype.$ReactComposerPhotoCarouselStore5=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.shouldShowURLEditArea=true;var n=k.source;if(n===c('CarouselPagesComposerSource').CAROUSEL_CAMERA_ICON)c('PagesComposerActionsLogger').log({event:c('PagesComposerPostActionsLoggerEvent').CLICK_CAROUSEL_CAMERA_ICON,target_id:k.targetID});this.emitChange(l)};j.prototype.$ReactComposerPhotoCarouselStore6=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.shouldShowURLEditArea=false;this.emitChange(l)};j.prototype.$ReactComposerPhotoCarouselStore7=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l),n=c('ReactComposerAttachmentStore').getSelectedAttachmentID(l);if(m.shouldShowURLEditArea&&n!==c('ReactComposerAttachmentType').MEDIA)m.shouldShowURLEditArea=false;if(m.isPhotoCarouselSelected&&n!==c('ReactComposerAttachmentType').MEDIA){m.isPhotoCarouselSelected=false;m.isCarouselPreviewCompleted=false}this.emitChange(l)};j.prototype.$ReactComposerPhotoCarouselStore8=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.seenNux=true;this.emitChange(l)};j.prototype.shouldShowURLEditArea=function(k){'use strict';return this.getComposerData(k).shouldShowURLEditArea};j.prototype.seenNux=function(k){'use strict';return this.getComposerData(k).seenNux};j.prototype.isPhotoCarouselSelected=function(k){'use strict';return this.getComposerData(k).isPhotoCarouselSelected};j.prototype.isCarouselPreviewCompleted=function(k){'use strict';return this.getComposerData(k).isCarouselPreviewCompleted};f.exports=new j()}),null);
__d('ReactComposerCollectionActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({ATTACHMENT_SELECT_COLLECTION:null,ATTACHMENT_CANCEL_COLLECTION:null,SET_COLLECTION:null,SET_DEFAULT_CANVAS_AND_TEMPLATE_ID:null,SET_POST_TITLE:null,SET_PRODUCT_SET_ID:null,SET_FEATURED_PRODUCT_IDS:null,SHOW_FEATURED_PRODUCT_DIALOG:null,HIDE_FEATURED_PRODUCT_DIALOG:null,UPDATE_COLLECTION_DIALOG_VISIBILITY:null},'ReactComposerCollectionActionType')}),null);
__d("XReactComposerCollectionAttachmentBootstrapController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/react_composer\/collection\/bootstrap\/",{composer_id:{type:"String",required:true},canvas_id:{type:"FBID",required:true},target_id:{type:"FBID",required:true}})}),null);
__d("XReactComposerCollectionAttachmentPublishController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/react_composer\/collection\/publish\/",{canvas_id:{type:"FBID",required:true},featured_retailer_ids:{type:"StringSet",required:true}})}),null);
__d('ReactComposerCollectionStore',['Bootloader','ActorURI','AsyncRequest','ReactComposerActionTypes','ReactComposerCollectionActionType','ReactComposerStoreBase','XReactComposerCollectionAttachmentBootstrapController','XReactComposerCollectionAttachmentPublishController','AdsCollectionsConstants'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('AdsCollectionsConstants').EMPTY_COLLECTIONS_RETAIL_ID;h=babelHelpers.inherits(k,c('ReactComposerStoreBase'));i=h&&h.prototype;function k(){var l=void 0;i.constructor.call(this,function(){return {actorID:null,attachmentConfig:{},canvasID:null,defaultCanvasID:null,featuredRetailerIDs:j,featuredRetailerImages:[],heroImage:null,heroVideo:null,isCollectionSelected:false,isLoading:false,itemIDs:[],itemImages:[],productCatalogVertical:null,productSetID:null,templateID:null}},function(m){switch(m.type){case c('ReactComposerCollectionActionType').ATTACHMENT_SELECT_COLLECTION:l&&l.$ReactComposerCollectionStore1(m);break;case c('ReactComposerCollectionActionType').ATTACHMENT_CANCEL_COLLECTION:l&&l.$ReactComposerCollectionStore2(m);break;case c('ReactComposerCollectionActionType').SET_COLLECTION:l&&l.$ReactComposerCollectionStore3(m);break;case c('ReactComposerCollectionActionType').SET_POST_TITLE:l&&l.$ReactComposerCollectionStore4(m);break;case c('ReactComposerCollectionActionType').SET_PRODUCT_SET_ID:l&&l.$ReactComposerCollectionStore5(m);break;case c('ReactComposerCollectionActionType').SET_FEATURED_PRODUCT_IDS:l&&l.$ReactComposerCollectionStore6(m);break;case c('ReactComposerCollectionActionType').SHOW_FEATURED_PRODUCT_DIALOG:l&&l.$ReactComposerCollectionStore7(m,true);break;case c('ReactComposerCollectionActionType').HIDE_FEATURED_PRODUCT_DIALOG:l&&l.$ReactComposerCollectionStore7(m,false);break;case c('ReactComposerCollectionActionType').UPDATE_COLLECTION_DIALOG_VISIBILITY:l&&l.$ReactComposerCollectionStore8(m);break;case c('ReactComposerCollectionActionType').SET_DEFAULT_CANVAS_AND_TEMPLATE_ID:l&&l.$ReactComposerCollectionStore9(m);break;case c('ReactComposerActionTypes').POST_STARTED:l&&l.$ReactComposerCollectionStore10(m);break;case c('ReactComposerActionTypes').PUBLISH_STARTED:l&&l.$ReactComposerCollectionStore11(m);break;default:break;}});l=this}k.prototype.$ReactComposerCollectionStore12=function(l,m){var n=this.getComposerData(l),o=Object.entries(m).filter(function(w){var x=w[0],y=w[1];return n[x]!==y});if(o.length){for(var p=o,q=Array.isArray(p),r=0,p=q?p:p[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var s;if(q){if(r>=p.length)break;s=p[r++]}else{r=p.next();if(r.done)break;s=r.value}var t=s,u=t[0],v=t[1];n[u]=v}this.emitChange(l)}};k.prototype.$ReactComposerCollectionStore2=function(l){var m=this.validateAction(l,'composerID');this.clearComposerData(m);this.emitChange(m)};k.prototype.$ReactComposerCollectionStore1=function(l){var m=this.validateAction(l,['actorID','composerID','canvasID','targetID']),n=m[0],o=m[1],p=m[2],q=m[3],r=c('XReactComposerCollectionAttachmentBootstrapController').getURIBuilder().setString('composer_id',o).setFBID('canvas_id',p).setFBID('target_id',q).getURI();r=c('ActorURI').create(r,n);new (c('AsyncRequest'))(r).send();this.$ReactComposerCollectionStore12(o,{attachmentConfig:{},canvasID:p,isCollectionSelected:!!p,isLoading:true})};k.prototype.$ReactComposerCollectionStore10=function(l){var m=this.validateAction(l,['actorID','composerID']),n=m[0],o=m[1],p=this.getComposerData(o);if(!p.isCollectionSelected)return;p.actorID=n};k.prototype.$ReactComposerCollectionStore11=function(l){var m=this.validateAction(l,'composerID'),n=this.getComposerData(m);if(!n.actorID)return;var o=c('XReactComposerCollectionAttachmentPublishController').getURIBuilder().setFBID('canvas_id',n.canvasID).setStringSet('featured_retailer_ids',n.featuredRetailerIDs).getURI();o=c('ActorURI').create(o,n.actorID);new (c('AsyncRequest'))(o).send();n.actorID=null;this.$ReactComposerCollectionStore8({composerID:m,isVisible:false,canvasID:null})};k.prototype.$ReactComposerCollectionStore3=function(l){var m=l.composerID,n=l.postTitle,o=babelHelpers.objectWithoutProperties(l,['composerID','postTitle']),p=o.attachmentConfig.params;p.title=n;if(o.heroImage){p.images.push(o.heroImage)}else if(o.heroVideo)p.video.push(o.heroVideo);o.isLoading=false;this.$ReactComposerCollectionStore12(m,o)};k.prototype.$ReactComposerCollectionStore4=function(l){var m=this.validateAction(l,['composerID','postTitle']),n=m[0],o=m[1],p=this.getComposerData(n);p.attachmentConfig.params.title=o;this.emitChange(n)};k.prototype.$ReactComposerCollectionStore5=function(l){var m=this.validateAction(l,['composerID','productSetID','productCatalogVertical']),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);q.productSetID=o;q.productCatalogVertical=p;this.emitChange(n)};k.prototype.$ReactComposerCollectionStore7=function(l,m){var n=this.validateAction(l,'composerID'),o=this.getComposerData(n);o.shouldShowFeaturedProductDialog=m;this.emitChange(n)};k.prototype.$ReactComposerCollectionStore6=function(l){var m=this.validateAction(l,['composerID','featuredRetailerIDs','featuredRetailerImages']),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);q.featuredRetailerIDs=o;q.featuredRetailerImages=p;this.emitChange(n)};k.prototype.$ReactComposerCollectionStore8=function(l){c('Bootloader').loadModules(["AdsCanvasInlineBuilderActions"],function(m){var n=this.validateAction(l,['composerID','isVisible']),o=n[0],p=n[1],q=l.canvasID,r=this.getComposerData(o),s=r.defaultCanvasID,t=r.templateID;m.setShowInlineModal(p,q||s,t)}.bind(this),'ReactComposerCollectionStore')};k.prototype.$ReactComposerCollectionStore9=function(l){var m=this.validateAction(l,['composerID','defaultCanvasID','templateID']),n=m[0],o=m[1],p=m[2];this.$ReactComposerCollectionStore12(n,{defaultCanvasID:o,templateID:p})};k.prototype.shouldShowFeaturedProductDialog=function(l){return this.getComposerData(l).shouldShowFeaturedProductDialog};k.prototype.isCollectionSelected=function(l){return this.getComposerData(l).isCollectionSelected};k.prototype.isLoading=function(l){return this.getComposerData(l).isLoading};k.prototype.getAttachmentConfig=function(l){var m=this.getComposerData(l),n=m.attachmentConfig;return n.params?n:null};k.prototype.getCanvasID=function(l){return this.getComposerData(l).canvasID};k.prototype.getHeroImage=function(l){return this.getComposerData(l).heroImage};k.prototype.getHeroVideo=function(l){return this.getComposerData(l).heroVideo};k.prototype.getItemImages=function(l){var m=this.getComposerData(l),n=m.featuredRetailerIDs,o=m.featuredRetailerImages,p=m.itemIDs,q=m.itemImages,r=n.reduce(function(t,u){t[u]=true;return t},{}),s=q.filter(function(t,u){return !r[p[u]]});return o.concat(s).slice(0,4)};k.prototype.getPostTitle=function(l){var m=this.getComposerData(l),n=m.attachmentConfig.params;return n?n.title:''};k.prototype.getProductCatalogVertical=function(l){return this.getComposerData(l).productCatalogVertical};k.prototype.getProductSetID=function(l){return this.getComposerData(l).productSetID};f.exports=new k()}),null);
__d('ReactComposerAttachmentPreview.react',['DOMContainer.react','React'],(function a(b,c,d,e,f,g){var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;k.prototype.render=function(){'use strict';if(!this.props.markup)return c('React').createElement('noscript',null);return c('React').createElement(c('DOMContainer.react'),null,this.props.markup)};function k(){'use strict';h.apply(this,arguments)}k.propTypes={markup:j.instanceOf(HTMLElement).isRequired};f.exports=k}),null);
__d('ReactComposerLocationAttachmentActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({LOCATION_ATTACHMENT_ENABLED:null,FETCH_LOCATION_ATTACHMENT:null,SET_MINUTIAE_ACTION_CONTEXT:null,SET_LOCATION_MARKUP:null},'ReactComposerLocationAttachmentActionType')}),null);
__d("XReactComposerLocationAttachmentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/react_composer\/location\/attachment\/",{composer_id:{type:"String",required:true},location_id:{type:"String",required:true},target_id:{type:"String",required:true}})}),null);
__d('ReactComposerLocationAttachmentStore',['AsyncRequest','ReactComposerAttachmentActionType','ReactComposerAttachmentType','ReactComposerLocationAttachmentActionType','ReactComposerStoreBase','XReactComposerLocationAttachmentController'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {isEnabled:false,isFetching:false,markup:null,pendingRequest:null,minutiaeTaggedPlace:null,isTimeline:false}},function(l){switch(l.type){case c('ReactComposerLocationAttachmentActionType').LOCATION_ATTACHMENT_ENABLED:k&&k.$ReactComposerLocationAttachmentStore1(l);break;case c('ReactComposerLocationAttachmentActionType').FETCH_LOCATION_ATTACHMENT:k&&k.$ReactComposerLocationAttachmentStore2(l);break;case c('ReactComposerLocationAttachmentActionType').SET_MINUTIAE_ACTION_CONTEXT:k&&k.$ReactComposerLocationAttachmentStore3(l);break;case c('ReactComposerLocationAttachmentActionType').SET_LOCATION_MARKUP:k&&k.$ReactComposerLocationAttachmentStore4(l);break;case c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT:k&&k.$ReactComposerLocationAttachmentStore5(l);break;}});k=this}j.prototype.isEnabled=function(k){'use strict';return this.getComposerData(k).isEnabled};j.prototype.getMarkup=function(k){'use strict';return this.getComposerData(k).markup};j.prototype.getMinutiaeTaggedPlace=function(k){'use strict';return this.getComposerData(k).minutiaeTaggedPlace};j.prototype.getIsTimeline=function(k){'use strict';return this.getComposerData(k).isTimeline};j.prototype.isFetching=function(k){'use strict';return this.getComposerData(k).isFetching};j.prototype.$ReactComposerLocationAttachmentStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','enabled']),m=l[0],n=l[1],o=this.getComposerData(m);o.isEnabled=n};j.prototype.$ReactComposerLocationAttachmentStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','locationID','targetID']),m=l[0],n=l[1],o=l[2];if(!this.isEnabled(m))return;var p=this.getComposerData(m);p.isFetching=true;var q=c('XReactComposerLocationAttachmentController').getURIBuilder().setString('composer_id',m).setString('location_id',n).setString('target_id',o).getURI();p.pendingRequest=new (c('AsyncRequest'))(q).setFinallyHandler(function(){p.isFetching=false;p.pendingRequest=null;this.emitChange(m)}.bind(this));p.pendingRequest.send();this.emitChange(m)};j.prototype.$ReactComposerLocationAttachmentStore3=function(k){'use strict';var l=this.validateAction(k,['composerID','objectID','isTimeline']),m=l[0],n=l[1],o=l[2],p=this.getComposerData(m);p.minutiaeTaggedPlace=n;p.isTimeline=o;this.emitChange(m)};j.prototype.$ReactComposerLocationAttachmentStore4=function(k){'use strict';var l=this.validateAction(k,['composerID','markup']),m=l[0],n=l[1],o=this.getComposerData(m);o.markup=n;this.emitChange(m)};j.prototype.$ReactComposerLocationAttachmentStore5=function(k){'use strict';var l=this.validateAction(k,['composerID','id']),m=l[0],n=l[1];if(n===c('ReactComposerAttachmentType').STATUS)return;var o=this.getComposerData(m);o.markup=null;o.isFetching=false;o.pendingRequest&&o.pendingRequest.abandon();this.emitChange(m)};f.exports=new j()}),null);
__d('ReactComposerLocationAttachmentActions',['ReactComposerDispatcher','ReactComposerLocationAttachmentActionType','ReactComposerLocationAttachmentStore'],(function a(b,c,d,e,f,g){c('ReactComposerLocationAttachmentStore');h.prototype.enabled=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerLocationAttachmentActionType').LOCATION_ATTACHMENT_ENABLED,enabled:j})};h.prototype.fetchLocationAttachment=function(i,j,k){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerLocationAttachmentActionType').FETCH_LOCATION_ATTACHMENT,locationID:j,targetID:k})};h.prototype.setMinutiaeActionContext=function(i,j,k){'use strict';var l={composerID:i,type:c('ReactComposerLocationAttachmentActionType').SET_MINUTIAE_ACTION_CONTEXT,objectID:j,isTimeline:k};c('ReactComposerDispatcher').dispatch(l)};h.prototype.setMarkup=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerLocationAttachmentActionType').SET_LOCATION_MARKUP,markup:j})};function h(){'use strict'}f.exports=new h()}),null);
__d('ReactComposerMinutiaeAttachmentActions',['ReactComposerDispatcher','ReactComposerMinutiaeAttachmentActionType','ReactComposerMinutiaeAttachmentStore'],(function a(b,c,d,e,f,g){c('ReactComposerMinutiaeAttachmentStore');h.prototype.fetchMinutiaeAttachment=function(i,j,k,l,m,n){'use strict';var o={composerID:i,type:c('ReactComposerMinutiaeAttachmentActionType').FETCH_ATTACHMENT,actionID:j,objectID:k,targetID:l,actorID:m,isTimeline:n};c('ReactComposerDispatcher').dispatch(o)};h.prototype.setExplicitLocation=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerMinutiaeAttachmentActionType').SET_EXPLICIT_LOCATION,explicitLocation:j};c('ReactComposerDispatcher').dispatch(k)};h.prototype.setMarkup=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerMinutiaeAttachmentActionType').SET_MARKUP,markup:j};c('ReactComposerDispatcher').dispatch(k)};h.prototype.setHideAttachment=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerMinutiaeAttachmentActionType').SET_HIDE_OBJECT_ATTACHMENT,hideAttachment:j};c('ReactComposerDispatcher').dispatch(k)};function h(){'use strict'}f.exports=new h()}),null);
__d('ReactComposerScrapedAttachmentActions',['ReactComposerDispatcher','ReactComposerScrapedAttachmentActionType','ReactComposerScrapedAttachmentStore'],(function a(b,c,d,e,f,g){c('ReactComposerScrapedAttachmentStore');h.prototype.enabled=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPE_ENABLED,enabled:j};c('ReactComposerDispatcher').dispatch(k)};h.prototype.setScrapedAttachment=function(i,j,k,l,m,n){'use strict';var o={composerID:i,type:c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPED,markup:j,attachmentConfig:k,sourceLoggingName:l,postConfirmationDialog:m,hasDisputedWarning:n};c('ReactComposerDispatcher').dispatch(o)};h.prototype.setScrapedAttachmentWithoutLogging=function(i,j,k,l,m){'use strict';var n={composerID:i,type:c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPED,markup:j,attachmentConfig:k,suppressWaterfallLogging:true,postConfirmationDialog:l,hasDisputedWarning:m};c('ReactComposerDispatcher').dispatch(n)};h.prototype.setPermissiveMatch=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_PERMISSIVE_MATCH_SETTED,permissiveMatch:j};c('ReactComposerDispatcher').dispatch(k)};h.prototype.scrapeAttachment=function(i,j,k,l,m,n){'use strict';var o={composerID:i,type:c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPE_INTENDED,targetID:j,value:k,entryPoint:l,actorID:m,sourceLoggingName:n};c('ReactComposerDispatcher').dispatch(o)};h.prototype.setShareAttachment=function(i,j,k,l,m,n){'use strict';var o={composerID:i,type:c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SHARE_SELECTED,targetID:j,actorID:k,shareType:l,shareParams:m,isFbPhotoShare:n};c('ReactComposerDispatcher').dispatch(o)};h.prototype.uploadImagesForCarousel=function(i){'use strict';var j={composerID:i.composerID,type:c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_CAROUSEL_UPLOAD,targetID:i.targetID,scrapeUrl:i.scrapeUrl,carouselParams:i.carouselParams,entryPoint:i.entryPoint,actorID:i.actorID};c('ReactComposerDispatcher').dispatch(j)};function h(){'use strict'}f.exports=new h()}),null);
__d('ReactComposerAttachmentPreviewContainer.react',['csx','cx','fbt','Arbiter','DOM','Event','React','ReactComponentWithPureRenderMixin','ReactComposerAttachmentPreview.react','ReactComposerEvents','ReactComposerLocationAttachmentActions','ReactComposerLocationAttachmentStore','ReactComposerLoggingName','ReactComposerMinutiaeAttachmentActions','ReactComposerMinutiaeAttachmentStore','ReactComposerPrefillStore','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerScrapedAttachmentActions','ReactComposerScrapedAttachmentStore','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerTaggerActions','ReactComposerWorkFileStore','ReactDOM','XUICloseButton.react'],(function a(b,c,d,e,f,g,h,i,j){var k=c('ReactComposerWorkFileStore').module,l=c('React').PropTypes,m=[c('ReactComposerScrapedAttachmentStore'),c('ReactComposerMinutiaeAttachmentStore'),c('ReactComposerLocationAttachmentStore')];if(k)m.push(k);var n=c('React').createClass({displayName:'ReactComposerAttachmentPreviewContainer',_buttonEvent:undefined,_prefillSubscription:undefined,mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin').apply(undefined,m)],propTypes:{markup:l.instanceOf(HTMLElement),spinner:l.element},statics:{calculateState:function o(p,q){var r,s=c('ReactComposerScrapedAttachmentStore').getMarkup(p),t=c('ReactComposerScrapedAttachmentStore').isReadOnly(p),u=c('ReactComposerMinutiaeAttachmentStore').getMarkup(p),v=c('ReactComposerLocationAttachmentStore').getMarkup(p),w=c('ReactComposerScrapedAttachmentStore').isScraping(p)||c('ReactComposerMinutiaeAttachmentStore').isFetching(p)||c('ReactComposerLocationAttachmentStore').isFetching(p),x=null;if(k)(function(){var ba=c('ReactComposerScrapedAttachmentStore').getPermissiveMatch(p),ca=k.getSelectedAppsFiles(p).find(function(da){return da.url===ba});x=ca?ca.name:null})();var y=c('ReactComposerTaggerStore').getTaggerData(p,c('ReactComposerTaggerType').FUN_FACT),z=c('ReactComposerTaggerStore').getTaggerData(p,c('ReactComposerTaggerType').FUNDRAISER),aa=z&&z.charityID;if(y&&y.promptID||aa){u=null;v=null;w=c('ReactComposerScrapedAttachmentStore').isScraping(p)}return {markup:s||u||v,showSpinner:w,showRemoveButton:s&&t,title:x}}},componentDidMount:function o(){this._prefillSubscription=c('Arbiter').subscribe(c('ReactComposerEvents').SET_PREFILL_DATA+this.context.composerID,this._handlePrefill);this._cleanupButtonEvent();this._setButtonEvent()},componentDidUpdate:function o(){this._setButtonEvent()},componentWillUnmount:function o(){this._prefillSubscription&&this._prefillSubscription.unsubscribe();this._prefillSubscription=null;this._cleanupButtonEvent()},render:function o(){var p=this.state.markup?c('React').createElement('div',{className:"_2ane"},c('React').createElement(c('ReactComposerAttachmentPreview.react'),{ref:'attachment',markup:this.state.markup}),this._renderRemoveButton()):null;return c('React').createElement('div',{'data-testid':'attachment-preview'},this._renderSpinner(),p)},_handlePrefill:function o(){var p=c('ReactComposerPrefillStore').getAndEraseField(this.context.composerID,'attachmentPreviewData');if(p)if(p.scrapedAttachment){if(p.scrapedAttachment.markup){c('ReactComposerScrapedAttachmentActions').setScrapedAttachmentWithoutLogging(this.context.composerID,p.scrapedAttachment.markup,p.scrapedAttachment.attachmentConfig)}else if(p.minutiaeAttachment.markup)c('ReactComposerMinutiaeAttachmentActions').setMarkup(this.context.composerID,p.minutiaeAttachment.markup);}else if(p.scrapedURL)c('ReactComposerScrapedAttachmentActions').scrapeAttachment(this.context.composerID,this.context.targetID,p.scrapedURL,this.context.composerType,this.context.actorID,c('ReactComposerLoggingName').INLINE_COMPOSER);},_renderRemoveButton:function o(){if(!this.state.markup||!this.state.showRemoveButton)return null;return c('React').createElement('div',{className:"_2anf"},c('React').createElement(c('XUICloseButton.react'),{className:"_2anh",size:'medium',shade:'light',onClick:this._clearAttachment}))},_renderSpinner:function o(){if(!this.state.showSpinner)return null;var p=this.state.title?c('React').createElement('span',{className:"_239x"},this.state.title):null;return c('React').createElement('div',{className:"_239z"},this.props.spinner,c('React').createElement('div',{className:"_3-8y"},p,j._("Fetching preview")))},_setButtonEvent:function o(){if(this.refs.attachment){var p=c('DOM').scry(c('ReactDOM').findDOMNode(this.refs.attachment),"._9s")[0];if(p)this._buttonEvent=c('Event').listen(p,'click',function(event){event.preventDefault();this._clearAttachment();this._buttonEvent&&this._buttonEvent.remove();this._buttonEvent=null}.bind(this));c('Arbiter').inform('react_composer_dom_ready/'+this.context.composerID)}},_clearAttachment:function o(){c('ReactComposerScrapedAttachmentActions').setScrapedAttachment(this.context.composerID,null,{},c('ReactComposerLoggingName').LINK_REMOVE_BUTTON);c('ReactComposerMinutiaeAttachmentActions').setMarkup(this.context.composerID,null);c('ReactComposerLocationAttachmentActions').setMarkup(this.context.composerID,null);c('ReactComposerTaggerActions').setTaggerData(this.context.composerID,c('ReactComposerLoggingName').LINK_REMOVE_BUTTON,c('ReactComposerTaggerType').GIF,{hasGIF:false});c('ReactComposerMinutiaeAttachmentActions').setHideAttachment(this.context.composerID,true)},_cleanupButtonEvent:function o(){this._buttonEvent&&this._buttonEvent.remove()}});f.exports=n}),null);
__d('ReactComposerPeopleTaggerTokenizerToken.react',['cx','React','SearchableEntry','TokenizerToken.react','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.$ReactComposerPeopleTaggerTokenizerToken1=function(){'use strict';return c('React').createElement('span',{className:"_jsa"})};l.prototype.render=function(){'use strict';var m=this.props.entry&&this.props.entry.getAuxiliaryData().isFacebox,n=(m?"_jsb":'')+(' '+"_jsc");return c('React').createElement(c('TokenizerToken.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,n),glyph:this.$ReactComposerPeopleTaggerTokenizerToken1()}))};function l(){'use strict';i.apply(this,arguments)}l.propTypes={label:k.string.isRequired,entry:k.instanceOf(c('SearchableEntry')).isRequired,onRemove:k.func,highlighted:k.bool};f.exports=l}),null);
__d('ReactComposerPhotoTaggerButton.react',['cx','fbt','ComposerTargetData','React','ReactComponentWithPureRenderMixin','ReactComposerMediaUtils','TooltipLink.react','VideoUploadConfig','XUIAmbientNUX.react','joinClasses'],(function a(b,c,d,e,f,g,h,i){var j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactComposerPhotoTaggerButton',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{photoLimit:j.number.isRequired,hasData:j.bool,selected:j.bool,multimediaNuxShown:j.bool,onNUXCloseButtonClick:j.func},getDefaultProps:function l(){return {hasData:false,selected:false}},render:function l(){var m=c('joinClasses')("_2vwi"+(' '+"_lnh")+(this.props.hasData?' '+"_6xe":''),this.props.className),n=this._renderMultimediaAttachmentsNux(),o,p=this.props.photoLimit>1,q=c('VideoUploadConfig').allowMultimedia&&this.props.targetData.targetSupportsMultiMedia;if(p){if(q){o=i._("Add photos and videos to your post")}else o=i._("Add photos or a video to your post");}else o=i._("Add a photo or a video to your post");return c('React').createElement(c('TooltipLink.react'),{className:"_3xem",'data-testid':'react-composer-photo-tagger',onClick:this._onSelect,tooltip:o},c('React').createElement('span',{className:"accessible_elem"},this.props.photoLimit>1?i._("Add photos"):i._("Add photo")),c('React').createElement('div',{className:m}),n)},_renderMultimediaAttachmentsNux:function l(){return c('React').createElement(c('XUIAmbientNUX.react'),{position:'below',width:'custom',contextRef:function(){return this.refs.fileInput}.bind(this),customwidth:400,shown:this.props.multimediaNuxShown,onCloseButtonClick:this.props.onNUXCloseButtonClick},i._("You can now add photos and videos to the same post."))}});f.exports=k}),null);
__d('ReactComposerAsyncRequest',['AsyncRequest','ReactComposerActions','ReactComposerPostUtilsCore'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('AsyncRequest'));i=h&&h.prototype;function j(k,l){'use strict';i.constructor.call(this,l);this.$ReactComposerAsyncRequest1=k;i.setHandler.call(this,this.$ReactComposerAsyncRequest4.bind(this));i.setErrorHandler.call(this,this.$ReactComposerAsyncRequest5.bind(this));i.setFinallyHandler.call(this,this.$ReactComposerAsyncRequest6.bind(this))}j.prototype.setHandler=function(k){'use strict';this.$ReactComposerAsyncRequest2=k;return this};j.prototype.setErrorHandler=function(k){'use strict';this.$ReactComposerAsyncRequest3=k;return this};j.prototype.$ReactComposerAsyncRequest4=function(k){'use strict';setTimeout(function(){var l=k.payload&&k.payload.isPostPending;if(!l)c('ReactComposerPostUtilsCore').handlePostSucceeded(this.$ReactComposerAsyncRequest1);this.$ReactComposerAsyncRequest2&&this.$ReactComposerAsyncRequest2(k)}.bind(this),0)};j.prototype.$ReactComposerAsyncRequest5=function(k){'use strict';setTimeout(function(){c('ReactComposerActions').postError(this.$ReactComposerAsyncRequest1,k);this.$ReactComposerAsyncRequest3&&this.$ReactComposerAsyncRequest3(k)}.bind(this),0)};j.prototype.$ReactComposerAsyncRequest6=function(k){'use strict';setTimeout(function(){return c('ReactComposerActions').postFinally(this.$ReactComposerAsyncRequest1,k)}.bind(this),0)};f.exports=j}),null);
__d('ReactComposerFileUtils',['fbt','ExceptionDialog','ReactComposerWorkFileAttachmentUploadContainer'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('ReactComposerWorkFileAttachmentUploadContainer').module,j={selectFileOrWorkFileModule:function k(l,m){return i?m:l},hasExceededFileSize:function k(l){var m=arguments.length<=1||arguments[1]===undefined?Infinity:arguments[1],n=l.size>m;if(n)c('ExceptionDialog').show(h._("File Too Large").toString(),h._("The file you uploaded is too large.").toString());return n}};f.exports=j}),null);
__d("XComposerXMediaInterceptController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/composerx\/intercept\/media\/",{xhpc_composerid:{type:"String",required:true},xhpc_message:{type:"String"},xhpc_targetid:{type:"Int"}})}),null);
__d("XComposerXMediaMarkdownInterceptController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/composerx\/markdown_intercept\/media\/",{xhpc_composerid:{type:"String",required:true},markdown_enabled:{type:"Bool",defaultValue:false},xhpc_message:{type:"String"}})}),null);
__d("XComposerXStatusInterceptController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/composerx\/intercept\/status\/",{xhpc_composerid:{type:"String",required:true},xhpc_message:{type:"String"},xhpc_targetid:{type:"Int"}})}),null);
__d("XComposerXStatusMarkdownInterceptController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/composerx\/markdown_intercept\/status\/",{xhpc_composerid:{type:"String",required:true},markdown_enabled:{type:"Bool",defaultValue:false},xhpc_message:{type:"String"}})}),null);
__d("XGamesFindPlayersSaveController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/find_players\/save\/",{})}),null);
__d("XGroupTaskSaveController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/grouptask\/save\/",{})}),null);
__d("XMarketplaceCreatePostController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ajax\/marketplace\/create_post\/",{xhpc_composerid:{type:"String",required:true},xhpc_message:{type:"String"},xhpc_targetid:{type:"Int",required:true}})}),null);
__d("XRedEnvelopeSaveController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/redenv\/save\/",{xhpc_targetid:{type:"Int",required:true},xhpc_composerid:{type:"String",required:true},composer_attachment_message:{type:"String"},distribution:{type:"String",required:true},total_amount:{type:"Int",required:true},number_of_envelopes:{type:"Int",required:true}})}),null);
__d("XSalesPromoCreateAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/sales_promo\/create\/",{availability_location:{type:"Enum",required:true,enumType:1},description:{type:"String",defaultValue:""},destination_uri:{type:"String",defaultValue:""},discount_code:{type:"String",defaultValue:""},expiration_time:{type:"Int",required:true},group_id:{type:"FBID"},owner_id:{type:"FBID",required:true},page_id:{type:"FBID"},photo_ids:{type:"FBIDVector"},referrer:{type:"String"},schedule_time:{type:"Int"},start_time:{type:"Int"},terms_and_conditions:{type:"String",defaultValue:""},use_boost:{type:"Bool",defaultValue:false},video_ids:{type:"FBIDVector"}})}),null);
__d("XVideoEditDialogSaveController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/edit\/dialog\/save\/",{v:{type:"Int",required:true}})}),null);
__d('ReactComposerPostUtils',['invariant','ActorURI','Arbiter','ComposerEntryPointRef','DateConsts','HTML','ReactComposerActions','ReactComposerAsyncRequest','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerFileStore','ReactComposerMediaUploadStore','ReactComposerPhotoStore','ReactComposerPostDataUtils','ComposerPublisher','ReactComposerSlideshowStore','ReactComposerStatusStore','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerStore','ReactComposerVideoUploadStore','ReactComposerWorkFileStore','URI','VideoEditSource','XComposerXMediaInterceptController','XComposerXMediaMarkdownInterceptController','XComposerXStatusInterceptController','XComposerXStatusMarkdownInterceptController','XGamesFindPlayersSaveController','XGroupTaskSaveController','XMarketplaceCreatePostController','XRedEnvelopeSaveController','XRedEnvelopeCreationController','XVideoEditDialogSaveController','XSalesPromoCreateAsyncController','formatDate','ifRequired'],(function a(b,c,d,e,f,g,h){var i=c('ReactComposerWorkFileStore').module,j=!!i,k=i||c('ReactComposerFileStore'),l={publish:function m(n,o){c('ReactComposerActions').publishStarted(n);o=o||{};o.composer_id=n;if(o.streamNode){o.streamStory=o.streamNode}else if(o.streamMarkup)o.streamStory=c('HTML')(o.streamMarkup).getRootNode();if(o.contentID)o.matchData={content_id:o.contentID};c('Arbiter').inform('composer/publish',o)},isPostButtonDisabled:function m(n,o){var p=c('ReactComposerPhotoStore').isLimitExceeded(n,o),q=c('ReactComposerMediaUploadStore').isUploading(n),r=c('ReactComposerPhotoStore').isRecognizing(n),s=!!c('ReactComposerVideoUploadStore').getVideo(n)&&c('ReactComposerStore').isPosting(n),t=c('ReactComposerPhotoStore').isSphericalPhotoUpdating(n);return p||q||r||s||t},post:function m(n){var o,p,q;!!n.actorID||h(0);!!n.composerConfig||h(0);!!n.composerConfig.contextInfo||h(0);!!n.composerID||h(0);!!n.targetID||h(0);var r=n.actorID,s=n.composerID,t=false,u=false,v=c('ReactComposerAttachmentStore').getIsAttachmentSelected(s,c('ReactComposerAttachmentType').MEDIA),w=c('ReactComposerAttachmentStore').getIsAttachmentSelected(s,c('ReactComposerAttachmentType').AUDIENCE_SELECTOR);v=v||w;var x=c('ReactComposerAttachmentStore').getIsAttachmentSelected(s,c('ReactComposerAttachmentType').QANDA),y=c('ReactComposerAttachmentStore').getIsAttachmentSelected(s,c('ReactComposerAttachmentType').FILE),z=c('ReactComposerAttachmentStore').getIsAttachmentSelected(s,c('ReactComposerAttachmentType').QUESTION),aa=c('ReactComposerAttachmentStore').getIsAttachmentSelected(s,c('ReactComposerAttachmentType').RED_ENVELOPE),ba=c('ReactComposerAttachmentStore').getIsAttachmentSelected(s,c('ReactComposerAttachmentType').SELL)||c('ifRequired')('ReactComposerSellStore',function(bc){return bc.getInterceptSell(s)},function(){return false}),ca=false;c('ifRequired')('ReactComposerCTAAttachmentUtils',function(bc){ca=bc.isCTAAttachmentSelected(s)});var da=c('ReactComposerAttachmentStore').getIsAttachmentSelected(s,c('ReactComposerAttachmentType').TASK),ea=c('ReactComposerSlideshowStore').isSlideshowSelected(s),fa=c('ReactComposerAttachmentStore').getIsAttachmentSelected(s,c('ReactComposerAttachmentType').PROFILE_PIC_FRAME),ga=c('ReactComposerAttachmentStore').getIsAttachmentSelected(s,c('ReactComposerAttachmentType').PLACE_LIST),ha=c('ReactComposerAttachmentStore').getIsAttachmentSelected(s,c('ReactComposerAttachmentType').QA),ia=c('ReactComposerAttachmentStore').getIsAttachmentSelected(s,c('ReactComposerAttachmentType').FIND_PLAYERS),ja=c('ReactComposerAttachmentStore').getIsAttachmentSelected(s,c('ReactComposerAttachmentType').LEARNING_COURSE),ka=c('ReactComposerAttachmentStore').getIsAttachmentSelected(s,c('ReactComposerAttachmentType').PAGE_RECOMMENDATION),la=c('ReactComposerAttachmentStore').getIsAttachmentSelected(s,c('ReactComposerAttachmentType').TOPIC_DISCUSSION),ma=c('ReactComposerAttachmentStore').getIsAttachmentSelected(s,c('ReactComposerAttachmentType').MEDIA_EFFECT_SHARE),na=c('ReactComposerAttachmentStore').getIsAttachmentSelected(s,c('ReactComposerAttachmentType').SALES_PROMO),oa=n.composerConfig.attachmentsConfig||{},pa=oa[c('ReactComposerAttachmentType').STATUS]||{},qa=c('ifRequired')('ReactComposerSellStore',function(bc){return bc.showURLIntercept(s)},function(){return false}),ra=pa.attemptIntercept&&pa.sellIntercept&&!ba&&!qa,sa=c('ReactComposerPostDataUtils').getPostData(n);c('ifRequired')('ReactComposerStatusDonateButtonStore',function(bc){if(bc.getEnabled(s))Object.assign(sa,{cta_data:{type:'DONATE',value:{fundraiser_campaign_id:bc.getFundraiserCampaignID(s),link_title:bc.getTitle(s),link_description:bc.getDescription(s)}}});});c('ifRequired')('ReactComposerCTAStore',function(bc){var cc=bc.getCTAData(s);if(cc&&cc.type==='MESSAGE_PAGE')Object.assign(sa,{cta_data:cc});});var ta=c('ReactComposerVideoUploadStore').getVideo(s);if(v&&!!ta){var ua=c('ReactComposerVideoUploadStore').getUploader(s);ua&&ua.uploadFromFile(ta.file,sa);return}var va=j?k.hasFile(s):k.isFileSelected(s),wa,xa=c('ReactComposerPhotoStore').getPhotos(s),ya=c('ReactComposerMediaUploadStore').getUploads(s);c('ifRequired')('ReactComposerFormattedTextStore',function(bc){var cc=bc.getTextFormatPresetID(s);if(cc)Object.assign(sa,{text_format_preset_id:cc});});c('ifRequired')('ReactComposerPromptsStore',function(bc){var cc=bc.getMemeCategoryID(s);if(cc)Object.assign(sa,{meme_category_id:cc});});if(ba){c('ifRequired')('ReactComposerSellStore',function(bc){Object.assign(sa,{composer_attachment_sell_title:bc.getTitleText(s),composer_attachment_sell_price:bc.getPrice(s),composer_attachment_sell_price_type:bc.getPriceType(s),composer_attachment_sell_currency:bc.getCurrency(s),composer_attachment_sell_quantity:bc.getQuantity(s),composer_attachment_sell_condition:bc.getConditionID(s),composer_attachment_sell_category:bc.getCategoryID(s),composer_attachment_sell_location_page_id:bc.getLocationID(s),composer_attachment_sell_pickup_note:bc.getPickupNoteText(s),post_to_marketplace:bc.isNearbyLocationChecked(s),cross_post_checked:bc.isCrossPostChecked(s),composer_attachment_sell_audience_target_ids:Array.from(bc.getAudienceTargetIDs(s)).join(',')})});c('ifRequired')('ReactComposerAutosSellStore.react',function(bc){Object.assign(sa,{composer_attachment_sell_autos_make:bc.getMake(s),composer_attachment_sell_autos_model:bc.getModel(s),composer_attachment_sell_autos_vin:bc.getVIN(s),composer_attachment_sell_autos_year:bc.getYear(s),composer_attachment_sell_autos_odometer:bc.getOdometerValue(s),composer_attachment_sell_autos_odometer_units:bc.getOdometerUnits(s)})})}if(ca)c('ifRequired')('ReactComposerCTAStore',function(bc){Object.assign(sa,{cta_data:bc.getCTAData(s)})});if(ga)c('ifRequired')('ReactComposerPlaceListStore.react',function(bc){Object.assign(sa,{is_placelist_post:true,placelist_within_page:bc.getPageID(s),should_redirect_place_list_on_create:bc.getShouldRedirectOnCreate(s)});if(bc.getGroupID(s))Object.assign(sa,{target_id:bc.getGroupID(s),xhpc_targetid:bc.getGroupID(s)});});if(ka)c('ifRequired')('ReactComposerPageRecommendationStore.react',function(bc){Object.assign(sa,{page_recommendation_ids:[bc.getPageID(s)]})});var za=ya.size>0,ab=v||x||ba||ja||da,bb=ea||ab&&za,cb=c('ifRequired')('PagesComposerBoostedPostsStore',function(bc){return bc.getConfig(s)},function(){return null}),db=sa.blocks,eb=pa.attemptMarkdownIntercept&&!ba&&!db;c('ifRequired')('ReactComposerMarkdownStore',function(bc){eb=eb&&!bc.interceptAttempted(s)});var fb=c('ifRequired')('ReactComposerSellStore',function(bc){return bc.getPostDirectlyToMarketplace(s)},function(){return false}),gb=null;if(z||ha){var hb=c('ReactComposerStore').getRef(s);switch(hb){case c('ComposerEntryPointRef').GROUP:gb='group';break;case c('ComposerEntryPointRef').EVENT:case c('ComposerEntryPointRef').EVENT_ABOUT:gb='event';break;case c('ComposerEntryPointRef').PAGES_FEED:gb='composer';break;default:gb=hb;}}if(bb){if(ra){wa=c('XComposerXMediaInterceptController').getURIBuilder().setString('xhpc_message',c('ReactComposerStatusStore').getMessageText(s)).setString('xhpc_composerid',n.composerID).setInt('xhpc_targetid',n.targetID).getURI()}else if(eb){wa=c('XComposerXMediaMarkdownInterceptController').getURIBuilder().setString('xhpc_message',c('ReactComposerStatusStore').getMessageText(s)).setString('xhpc_composerid',n.composerID).setBool('markdown_enabled',sa.is_markdown).getURI()}else if(fb){wa=c('XMarketplaceCreatePostController').getURIBuilder().setString('xhpc_message',c('ReactComposerStatusStore').getMessageText(s)).setString('xhpc_composerid',n.composerID).setInt('xhpc_targetid',n.targetID).getURI()}else{u=c('ComposerPublisher').getShouldUseGraphQLForMedia(sa);wa=new (c('URI'))('/media/upload/photos/composer/')}var ib=c('ReactComposerPostDataUtils').getMediaUploadsData(s,ya);Object.assign(sa,ib)}else if(y&&va){var jb=j||typeof k.getDropboxFileID!=='function'?null:k.getDropboxFileID(s);wa=new (c('URI'))(k.getURI(s));Object.assign(sa,{transaction_id:jb})}else if(z){wa=new (c('URI'))('/ajax/questions/save.php');c('ifRequired')('ReactComposerQuestionStore',function(bc){var cc=bc.getOptionStrings(s),dc=bc.getOptionImageIndices(s);Object.assign(sa,{composerAttachmentQuestion:c('ReactComposerStatusStore').getMessage(s),question_options:cc,question_option_image_indices:dc,source:gb,create_eigenpoll:bc.canChooseMultiplePollOptions(s),anyone_add_options:bc.canAnyoneAddPollOptions(s)})});Object.assign(sa,c('ReactComposerPostDataUtils').getMediaUploadsData(s,ya))}else if(aa){c('ifRequired')('ReactComposerRedEnvelopeStore',function(bc){Object.assign(sa,{composer_attachment_message:c('ReactComposerStatusStore').getMessageText(s),message:c('ReactComposerStatusStore').getMessage(s),type:bc.getType(s),theme:bc.getTheme(s),total_amount:bc.getTotalAmount(s),credential_id:bc.getCredentialId(s),distribution:bc.getDistribution(s),number_of_envelopes:bc.getNumberOfEnvelopes(s)})});if(sa.type==='v1'){wa=c('XRedEnvelopeSaveController').getURIBuilder().setString('composer_attachment_message',sa.composer_attachment_message).setString('distribution',sa.distribution).setInt('total_amount',sa.total_amount*100).setInt('number_of_envelopes',sa.number_of_envelopes).setInt('xhpc_targetid',n.targetID).setString('xhpc_composerid',n.composerID).getURI()}else{var kb=c('ReactComposerTaggerStore').getTaggerData(s,c('ReactComposerTaggerType').PEOPLE),lb=kb.map(function(bc){return bc.getUniqueID()});wa=c('XRedEnvelopeCreationController').getURIBuilder().setString('message',sa.composer_attachment_message).setInt('amount',sa.total_amount*100).setInt('credential_id',sa.credentialID).setInt('photo_id',sa.theme).setInt('target_id',n.targetID).setFBIDVector('tagged_ids',lb).getURI()}}else if(ba){wa=new (c('URI'))('/ajax/groups/sell/save.php')}else if(fa){var mb=void 0,nb=void 0;c('ifRequired')('ReactComposerProfilePictureFrameStore',function(bc){mb=bc.getSelectedOverlayID(s);nb=bc.getScheduledPostDate(s);ib=c('ReactComposerPostDataUtils').getMediaDataWithoutFiltering(s,bc.getCroppedPhotoForUpload(s))});var ob=void 0,pb=void 0,qb=void 0,rb=false;if(nb){ob=c('formatDate')(nb,'m/d/Y',{skipPatternLocalization:true});var sb=nb.getHours()*c('DateConsts').MIN_PER_HOUR+nb.getMinutes();pb=c('DateConsts').SEC_PER_MIN*sb;qb=nb.getTime()/1000;rb=true}wa=new (c('URI'))('/media/upload/photos/composer/');Object.assign(sa,babelHelpers['extends']({},ib,{scheduled:rb,sticker_id:mb,future_date:ob,future_time:pb,scheduled_publish_time:qb}))}else if(la){c('ifRequired')('ReactComposerGroupTopicDiscussionStore',function(bc){wa=new (c('URI'))('/group_topic_discussion/save/');Object.assign(sa,{composer_topic_title:bc.getTitle(s),composer_topic_description:bc.getDescription(s)})})}else if(ha){c('ifRequired')('ReactComposerGroupQAStore',function(bc){wa=new (c('URI'))('/group_qa/save/');Object.assign(sa,{composer_question_title:bc.getTitle(s),composer_question_description:bc.getDescription(s),source:gb})});Object.assign(sa,c('ReactComposerPostDataUtils').getMediaUploadsData(s,ya))}else if(na){c('ifRequired')('ReactComposerSalesPromoStore',function(bc){Object.assign(sa,{availability_location:bc.getAvailabilityLocation(s),description:bc.getDescription(s),destination_uri:bc.getDestinationURI(s),discount_code:bc.getDiscountCode(s),expiration_time:bc.getExpirationTime(s),photo_ids:c('ReactComposerPostDataUtils').getMediaUploadsData(s,ya).composer_unpublished_photo,terms_and_conditions:bc.getTermsAndConditions(s)})});wa=c('XSalesPromoCreateAsyncController').getURIBuilder().setEnum('availability_location',sa.availability_location).setString('description',sa.description).setString('destination_uri',sa.destination_uri).setString('discount_code',sa.discount_code).setInt('expiration_time',sa.expiration_time).setFBID('group_id',n.targetID).setFBID('owner_id',r).setFBIDVector('photo_ids',sa.photo_ids).setString('referrer','www_group_composer').setString('terms_and_conditions',sa.terms_and_conditions).getURI();Object.assign(sa,c('ReactComposerPostDataUtils').getMediaUploadsData(s,ya))}else if(ia){c('ifRequired')('ReactComposerFindPlayersStore',function(bc){wa=new (c('URI'))(c('XGamesFindPlayersSaveController').getURIBuilder().getURI());Object.assign(sa,{composer_find_players_title:bc.getTitle(s),composer_find_players_tags:bc.getTags(s),composer_find_players_name:bc.getName(s),composer_find_players_description:c('ReactComposerStatusStore').getMessage(s)})})}else if(ma){(function(){var bc=void 0,cc=true;c('ifRequired')('ReactComposerMediaEffectShareStore',function(dc){ib=c('ReactComposerPostDataUtils').getMediaDataWithoutFiltering(s,dc.getEffectPhotoForUpload(s));var ec=dc.getComposerData(s).effectStatus;bc=dc.getEffectToApply(s);if(ec==='active')cc=false;var fc=dc.getUploadedVideoID(s);if(fc){Object.assign(sa,{draft:cc});dc.postVideo(s,sa);return}});wa=new (c('URI'))('/media/upload/photos/composer/');Object.assign(sa,babelHelpers['extends']({},ib,{scheduled:false,sticker_id:bc,draft:cc}))})()}else if(sa.attachment&&sa.attachment.params.canvas_video){(function(){wa=c('XVideoEditDialogSaveController').getURIBuilder().setInt('v',sa.attachment.params.canvas_video.video_id).getURI();var bc=c('ifRequired')('PagesComposerUnpublishedPostsStore',function(ec){return ec.getScheduledPublishTime(n.composerID)},function(){return null});bc=bc?Math.round(bc.getTime()/1000):null;var cc=bc===null&&!sa.draft;Object.assign(sa,sa.attachment.params.canvas_video);Object.assign(sa,{description:sa.xhpc_message,is_canvas_video:true,publish:cc,scheduled_publish_time:bc,source:c('VideoEditSource').PAGE_VIDEO_LPP_PUBLISH});var dc={content_id:sa.attachment.params.canvas_video.video_id,event:'publish',is_old_composer:false,scraped_url:sa.attachment.params.url,target_id:n.targetID};c('ifRequired')('PagesComposerActionsLogger',function(ec){ec.log(dc)})})()}else if(sa.attachment&&sa.attachment.params.carousel_video_lpp){(function(){wa=c('XVideoEditDialogSaveController').getURIBuilder().setInt('v',sa.attachment.params.carousel_video_lpp.video_id).getURI();var bc=c('ifRequired')('PagesComposerUnpublishedPostsStore',function(ec){return ec.getScheduledPublishTime(n.composerID)},function(){return null});bc=bc?Math.round(bc.getTime()/1000):null;var cc=bc===null&&!sa.draft;Object.assign(sa,sa.attachment.params.carousel_video_lpp);Object.assign(sa,{description:sa.xhpc_message,scheduled_publish_time:bc,publish:cc,source:c('VideoEditSource').PAGE_VIDEO_LPP_PUBLISH});var dc={child_attachments:sa.attachment.params.child_attachments,event:'publish',target_id:n.targetID,content_id:sa.attachment.params.carousel_video_lpp.video_id,is_old_composer:false,scraped_url:sa.attachment.params.url};c('ifRequired')('PagesComposerActionsLogger',function(ec){ec.log(dc)})})()}else if(ra){wa=c('XComposerXStatusInterceptController').getURIBuilder().setString('xhpc_message',c('ReactComposerStatusStore').getMessageText(s)).setString('xhpc_composerid',n.composerID).setInt('xhpc_targetid',n.targetID).getURI()}else if(eb){wa=c('XComposerXStatusMarkdownInterceptController').getURIBuilder().setString('xhpc_message',c('ReactComposerStatusStore').getMessageText(s)).setString('xhpc_composerid',n.composerID).setBool('markdown_enabled',sa.is_markdown).getURI();if(n.composerConfig.attachmentsConfig)if(n.composerConfig.attachmentsConfig[c('ReactComposerAttachmentType').STATUS])n.composerConfig.attachmentsConfig[c('ReactComposerAttachmentType').STATUS].defaultMarkdownOn=sa.is_markdown;}else{t=c('ComposerPublisher').getShouldUseGraphQLForStatus(sa);wa=new (c('URI'))('/ajax/updatestatus.php')}if(ja)c('ifRequired')('ReactComposerGroupLearningCourseStore',function(bc){Object.assign(sa,{xhpc_composerid:s,xhpc_targetid:bc.getGroupID(s),target_id:bc.getGroupID(s),xhpc_learning_course:true,module_name:bc.getModuleName(s),xhpc_unit_id:bc.getUnitID(s)})});if(da){wa=c('XGroupTaskSaveController').getURIBuilder().getURI();c('ifRequired')('ReactComposerTaskStore',function(bc){Object.assign(sa,bc.getTaskData(s))})}var tb=n.composerConfig.pagePremadePostData;if(tb)Object.assign(sa,{page_premade_post:tb});c('ifRequired')('ReactComposerWorkOnboardingStore',function(bc){if(bc.isBotResponseEnabled(s))Object.assign(sa,{work_bot_response:true});});var ub=c('ReactComposerAttachmentStore').getAttachment(s,c('ReactComposerAttachmentType').LEARNING_COURSE);if(y&&ub){var vb=new (c('URI'))(window.location.href).getQueryData().filter,wb=k.getSelectedFileName(s);if(vb)Object.assign(sa,{xhpc_unit_id:vb,xhpc_learning_course:true,module_name:wb?wb:'New file'});}var xb=false;c('ifRequired')('ReactComposerVideoXEditDialogStore',function(bc){var cc;xb=bc.hasSelectedCustomThumbnails(n.composerID);if(xb)(function(){var dc=ya.map(function(wc){return wc.id}),ec=bc.getThumbnailTypes(dc.toArray(),n.composerID),fc={};ya.forEach(function(wc){return fc[wc.id]=wc.photoID});var gc={};for(var hc=ec,ic=Array.isArray(hc),jc=0,hc=ic?hc:hc[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var kc;if(ic){if(jc>=hc.length)break;kc=hc[jc++]}else{jc=hc.next();if(jc.done)break;kc=jc.value}var lc=kc,mc=lc[0],nc=lc[1];gc[fc[mc]]=nc}Object.assign(sa,{thumb_types:gc});var oc=bc.getUploadsWithTextOnThumbnail(dc.toArray(),n.composerID),pc=[];for(var qc=oc,rc=Array.isArray(qc),sc=0,qc=rc?qc:qc[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var tc;if(rc){if(sc>=qc.length)break;tc=qc[sc++]}else{sc=qc.next();if(sc.done)break;tc=sc.value}var uc=tc;pc=pc.concat(fc[uc])}Object.assign(sa,{videos_with_text_thumbnails:pc});var vc=c('ReactComposerPostDataUtils').createFormData(sa);bc.getThumbnails(dc.toArray(),n.composerID).then(function(wc){wc.forEach(function(zc){vc.append('thumb'+fc[zc[0]],zc[1])});if(y&&k.hasFile(s)){var xc=k.getFile(s);vc.append('file1',xc)}wa=c('ActorURI').create(wa,r);var yc=new (c('ReactComposerAsyncRequest'))(n.composerID,wa).setRawData(vc).setHandler(n.onPostSuccess).setErrorHandler(n.onPostFailure);yc.send()}).done()})();});if(t||u){c('ComposerPublisher').publish(r,sa);return}if(!xb){wa=c('ActorURI').create(wa,r);var yb=new (c('ReactComposerAsyncRequest'))(n.composerID,wa).setData(sa).setHandler(n.onPostSuccess).setErrorHandler(n.onPostFailure);if(y&&k.hasFile(s)){var zb=k.getFile(s),ac=new FormData();ac.append('file1',zb);yb.setRawData(ac)}yb.send()}}};f.exports=l}),null);
__d('ReactComposerStatusUtils',['Bootloader','PUWMethods','ReactComposerAttachmentActions','ReactComposerAttachmentType','ReactComposerFileActions','ReactComposerFileUtils','ReactComposerLoggingActions','ReactComposerLoggingName','ReactComposerScrapedAttachmentActions','ReactComposerScrapedAttachmentStore','ReactComposerStatusStore','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerWorkFileActions','URLMatcher','URLScraper','uniqueID'],(function a(b,c,d,e,f,g){var h=c('ReactComposerWorkFileActions').module,i={scrapeLink:function j(k,l,m,n,o,p){if(!c('ReactComposerScrapedAttachmentStore').isEnabled(k))return;if(c('ReactComposerScrapedAttachmentStore').getMarkup(k))return;var q=c('URLMatcher').permissiveMatch(m);if(q!==c('ReactComposerScrapedAttachmentStore').getPermissiveMatch(k)){c('ReactComposerScrapedAttachmentActions').setPermissiveMatch(k,q);var r=i.validateUrl(c('URLScraper').match(m)||q);if(r)c('ReactComposerScrapedAttachmentActions').scrapeAttachment(k,l,r,n,o,p);}},uploadPastedFile:function j(k,l,m){c('ReactComposerLoggingActions').mediaFilePasted(k);l.uploadID=c('uniqueID')();l.name='';m&&m.enqueueAsyncUploadRequest(k,[l],{},{},false);c('ReactComposerLoggingActions').mediaFilePasteFinished(k)},uploadDroppedMedia:function j(k,l,m,n,o,p){c('ReactComposerLoggingActions').mediaFileDropped(k);c('ReactComposerAttachmentActions').selectAttachment(k,c('ReactComposerAttachmentType').MEDIA,true,c('ReactComposerLoggingName').MEDIA_FILE_DROPPED);c('Bootloader').loadModules(["ReactComposerMediaUtils"],function(q){var r=q.getFileNames(l),s=q.hasVideos(r);if(o.enableVideoUploadDialogForDropppedFiles&&l.length==1&&s){q.handleVideoUploadForDroppedFiles(l,o,p)}else q.uploadPhotosOrVideo(k,l,m,true,c('PUWMethods').DRAGDROP,n);c('ReactComposerLoggingActions').mediaFileDropFinished(k)},'ReactComposerStatusUtils')},loadDroppedFile:function j(k,l){c('ReactComposerAttachmentActions').selectAttachment(k,c('ReactComposerAttachmentType').FILE,true,c('ReactComposerLoggingName').FILE_DROPPED);c('ReactComposerFileUtils').selectFileOrWorkFileModule(c('ReactComposerFileActions'),h).saveFile(k,{file:l,name:l.name})},handleMarkdownPreview:function j(k,l,m,n){if(!m)return;var o=m.action;if(!n)n=c('ReactComposerStatusStore').getEditorState(k);if(!n)return;var p=!!c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').MARKDOWN).isMarkdown;if(p)o.updatePreview(k,l,n.getCurrentContent());},validateUrl:function j(k){if(!k||k=='about:blank'||k=='http://'||i.validateUrlHasNoHostnameOrIp(k)){return null}else return k;},validateUrlHasNoHostnameOrIp:function j(k){if(k.indexOf('.')>=0)return false;if(k.indexOf('[')>=0&&k.indexOf(']')>=0&&k.indexOf(':')>=0)return false;return true}};f.exports=i}),null);
__d("CommerceProductTaggerType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NONE:"none",SHOP_PAGE:"shop_page",NON_SHOP_PAGE:"non_shop_page",INFLUENCER_PAGE:"influencer_page"})}),null);