if (self.CavalryLogger) { CavalryLogger.start_js(["LNn4f"]); }

__d('CircularProgressBar.react',['cx','React'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=c('React').createClass({displayName:'CircularProgressBar',propTypes:{percentComplete:i.number.isRequired},render:function k(){var l=360*this.props.percentComplete/100,m=Math.max(l,180)-180,n=Math.min(l,180),o=this.props.percentComplete<100?'1':'0';return c('React').createElement('div',{className:"_1_bj",style:{opacity:o}},c('React').createElement('div',{className:"_1_bk"},c('React').createElement('div',{className:"_1_bl",style:{opacity:o}}),c('React').createElement('div',{className:"_1_bp _1_bq"},c('React').createElement('div',{className:"_1_br",style:{transform:'translateX(-100%) rotate('+m+'deg)',opacity:o}})),c('React').createElement('div',{className:"_1_bs _1_bq"},c('React').createElement('div',{className:"_1_br",style:{transform:'translateX(-100%) rotate('+n+'deg)',opacity:o}}))))}});f.exports=j}),null);
__d('ScrollColumn.react',['cx','invariant','joinClasses','throttle','tidyEvent','Arbiter','Event','React','ReactDOM','Vector','ViewportBounds'],(function a(b,c,d,e,f,g,h,i){var j=c('React').PropTypes,k='ScrollColumn/adjust',l=c('React').createClass({displayName:'ScrollColumn',propTypes:{left:j.string,topOffset:j.number,zIndex:j.number},getDefaultProps:function m(){return {left:'',topOffset:0,zIndex:0}},_scroll:0,_scrollDelta:0,getInitialState:function m(){return {fixed:null,fixedBottom:0,fixedTop:this.props.topOffset,top:0}},render:function m(){var n='auto',o=this.state.fixedLeft,p='auto';if(this.state.fixed==='bottom'){n=this.state.fixedBottom}else if(this.state.fixed==='top'){p=this.state.fixedTop}else{o='auto';p=this.state.top}var q=c('joinClasses')(this.props.className,"_5ss7");return c('React').createElement('div',{className:q,ref:'container'},c('React').createElement('div',{className:"_5ss8"+(this.state.fixed?' '+"fixed_always":''),ref:'column',style:{bottom:n,left:o,top:p,zIndex:this.props.zIndex}},this.props.children))},componentDidMount:function m(){this.setState({adjustEventListener:c('tidyEvent')(c('Arbiter').subscribe(k,function(){this._adjust()}.bind(this))),resizeListener:c('tidyEvent')(c('Event').listen(window,'resize',c('throttle')(this._adjust))),scrollListener:c('tidyEvent')(c('Event').listen(window,'scroll',this._onScroll)),viewportBoundsUpdateListener:c('tidyEvent')(c('ViewportBounds').subscribe('change',this._adjust))});this._adjust()},componentDidUpdate:function m(n,o){if(o.fixed!==this.state.fixed)c('Arbiter').inform('reflow');},componentWillUnmount:function m(){this.state.adjustEventListener.unsubscribe();this.state.resizeListener.remove();this.state.scrollListener.remove()},_onScroll:function m(event){var n=c('Vector').getScrollPosition().y;this._scrollDelta=n-this._scroll;this._scroll=n;this._adjust()},_adjust:function m(){if(!this.isMounted())return;this._updateContainerHeight();this._updateColumnWidth();if(this._isContainerBelowViewportTop()){this._setNotFixed(0);return}if(!this._isColumnLargerThanViewport()){this._setFixedToTop();return}if(this._scrollDelta>0)if(this._isBottomOfColumnVisible()){this._setFixedToBottom();return}if(this._scrollDelta<0)if(this._isTopOfColumnVisible()){this._setFixedToTop();return}var n=this._getTopPositionForRef('column'),o=this._getTopPositionForRef('container'),p=n-o;this._setNotFixed(p)},_getTopPositionForRef:function m(n){var o=this.refs[n];o||i(0);var p=c('Vector').getElementPosition(c('ReactDOM').findDOMNode(o),'viewport').y;if(this._scroll<0)p+=this._scroll;return p},_getTopBoundWithOffset:function m(){return c('ViewportBounds').getTop()+this.props.topOffset},_isContainerBelowViewportTop:function m(){var n=this._getTopPositionForRef('container');return n>=this._getTopBoundWithOffset()},_isColumnLargerThanViewport:function m(){var n=c('Vector').getViewportDimensions().y-c('ViewportBounds').getBottom()-this._getTopBoundWithOffset();return c('ReactDOM').findDOMNode(this.refs.column).offsetHeight>n},_isBottomOfColumnVisible:function m(){var n=this._getTopPositionForRef('column'),o=c('Vector').getElementDimensions(c('ReactDOM').findDOMNode(this.refs.column),'viewport').y,p=n+o;return p<=c('Vector').getViewportDimensions().y-c('ViewportBounds').getBottom()},_isTopOfColumnVisible:function m(){var n=this._getTopPositionForRef('column');return n>=this._getTopBoundWithOffset()},_getFixedLeft:function m(){return c('Vector').getElementPosition(c('ReactDOM').findDOMNode(this.refs.container),'viewport').x},_setFixedToBottom:function m(){this.setState({fixed:'bottom',fixedBottom:c('ViewportBounds').getBottom(),fixedLeft:this.props.left===''?this._getFixedLeft():this.props.left})},_setFixedToTop:function m(){this.setState({fixed:'top',fixedLeft:this.props.left===''?this._getFixedLeft():this.props.left,fixedTop:this._getTopBoundWithOffset()})},_setNotFixed:function m(n){this.setState({fixed:false,top:n})},_updateContainerHeight:function m(){c('ReactDOM').findDOMNode(this.refs.container).style.height=c('ReactDOM').findDOMNode(this.refs.column).offsetHeight+this.state.top+'px'},_updateColumnWidth:function m(){c('ReactDOM').findDOMNode(this.refs.column).style.width=c('ReactDOM').findDOMNode(this.refs.container).offsetWidth+'px'}});l.EVENT_SHOULD_ADJUST=k;f.exports=l}),null);
__d("createExponentialMovingAverage",[],(function a(b,c,d,e,f,g){function h(k){var l=arguments.length<=1||arguments[1]===undefined?0:arguments[1],m=l;return function(n){return m+=k*(n-m)}}function i(k){return function(l){return 1-Math.exp(-l/k)}}function j(k){var l=arguments.length<=1||arguments[1]===undefined?0:arguments[1],m=l,n=i(k);return function(o,p){return m+=n(p)*(o-m)}}h.createContinuous=j;f.exports=h}),null);
__d('VelocityTracker',['createExponentialMovingAverage','performanceNow'],(function a(b,c,d,e,f,g){function h(){var i=arguments.length<=0||arguments[0]===undefined?50:arguments[0],j=arguments.length<=1||arguments[1]===undefined?{x:0,y:0}:arguments[1];'use strict';this.$VelocityTracker5=j.x;this.$VelocityTracker6=j.y;this.$VelocityTracker1=c('performanceNow')();this.$VelocityTracker2=c('createExponentialMovingAverage').createContinuous(i,this.$VelocityTracker5);this.$VelocityTracker3=c('createExponentialMovingAverage').createContinuous(i,this.$VelocityTracker6)}h.prototype.update=function(i,j){'use strict';var k=0;if(this.$VelocityTracker4){k=c('performanceNow')()-this.$VelocityTracker1;k=this.updateVelocity((i-this.$VelocityTracker4.x)*1000/k,(j-this.$VelocityTracker4.y)*1000/k)}else this.$VelocityTracker1=c('performanceNow')();this.$VelocityTracker4={x:i,y:j};return k};h.prototype.updateVelocity=function(i,j){'use strict';var k=c('performanceNow')(),l=k-this.$VelocityTracker1;this.$VelocityTracker1=k;this.$VelocityTracker5=this.$VelocityTracker2(i,l);this.$VelocityTracker6=this.$VelocityTracker3(j,l);return l};h.prototype.getVelocityX=function(){'use strict';return Math.trunc(this.$VelocityTracker5)};h.prototype.getVelocityY=function(){'use strict';return Math.trunc(this.$VelocityTracker6)};h.prototype.getSpeed=function(){'use strict';return Math.trunc(Math.sqrt(this.$VelocityTracker5*this.$VelocityTracker5+this.$VelocityTracker6*this.$VelocityTracker6))};f.exports=h}),null);
__d('LeftFillRightFitLayout.react',['invariant','Layout.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('Layout.react').Column,l=c('Layout.react').FillColumn;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(n){j.constructor.call(this,n)}m.prototype.$LeftFillRightFitLayout1=function(){var n=[],o=this.props.children;o&&o.length===2||h(0);c('React').Children.forEach(this.props.children,function(p){return n.push(p)},this);return {firstChild:n[0],secondChild:n[1]}};m.prototype.render=function(){var n=this.$LeftFillRightFitLayout1();return c('React').createElement(c('Layout.react'),{className:this.props.className,style:this.props.style},c('React').createElement(l,{className:this.props.fillColumnClassName},n.firstChild),c('React').createElement(k,{className:this.props.fitColumnClassName},n.secondChild))};f.exports=m}),null);
__d('TimelineCapsuleUtilities',['CSS'],(function a(b,c,d,e,f,g){var h={setFirstUnit:function i(j){var k=true;for(var l=0;l<j.childNodes.length;++l){var m=j.childNodes[l];if(m.id.indexOf('tl_unit_')===0)if(k){k=false;c('CSS').addClass(m,'firstUnit')}else{c('CSS').removeClass(m,'firstUnit');break}}}};f.exports=h}),null);
__d('TimelineComposer',['csx','Arbiter','Bootloader','ComposerXMarauderLogger','ComposerXStore','CSS','DOM','DOMQuery','Event','Parent','ReloadPage','Run','TimelineCapsuleUtilities','$','getObjectValues','goURI','tidyEvent'],(function a(b,c,d,e,f,g,h){var i=void 0,j=void 0;function k(){c('ComposerXMarauderLogger').logCompleted(i.id)}function l(n){if(n.hidePost){k();return}if(n.redirect){var o=c('ComposerXStore').getAllForComposer(i.id);c('getObjectValues')(o).forEach(function(p){if(p.reset)p.reset(p);});c('goURI')(n.redirect);k();return}if(!n.streamStory){c('ReloadPage').now();return}if(n.backdatedTime){c('Bootloader').loadModules(["TimelineStoryPublisher"],function(p){p.publish(n)},'TimelineComposer');k();return}m.renderCapsuleBasedStory(i,n.streamStory);c('Arbiter').inform('TimelineComposer/on_after_publish',n.streamStory,c('Arbiter').BEHAVIOR_PERSISTENT);k()}var m={init:function n(o){i=c('$')(o);j=c('Arbiter').subscribe('composer/publish',function(event,p){if(p.composer_id===i.id)l(p);});c('Run').onLeave(m.destroy)},destroy:function n(){j&&j.unsubscribe()},renderCapsuleBasedStory:function n(o,p){var q=c('Parent').byClass(o,'fbTimelineCapsule');if(!q)return;var r=c('DOMQuery').scry(q,".fbTimelineUnit")[0],s=r.nextSibling;if(s&&s.getAttribute('data-spine'))r=r.nextSibling;var t=c('DOM').insertAfter(r,p)[0];if(c('CSS').hasClass(t,'fbTimelineUnit'))t=c('DOM').find(t,'div.timelineUnitContainer');c('Bootloader').loadModules(["Animation"],function(u){new u(t).from('backgroundColor','#fff8dd').to('backgroundColor','#fff').duration(2000).ease(u.ease.both).go()},'TimelineComposer');c('TimelineCapsuleUtilities').setFirstUnit(q)},getRoot:function n(){return i},initNUX:function n(o,p){c('tidyEvent')(c('Event').listen(o,'click',function(){var q=c('DOM').scry(p,'textarea')[0];q&&q.focus()}))}};f.exports=b.TimelineComposer||m}),null);
__d('WebAsyncPlusRegexSearchSource',['invariant','AbstractSearchSource'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('AbstractSearchSource'));j=i&&i.prototype;function k(l){'use strict';j.constructor.call(this);this.$WebAsyncPlusRegexSearchSource1=l.asyncSource;this.$WebAsyncPlusRegexSearchSource2=l.regexSource;this.$WebAsyncPlusRegexSearchSource3=!!l.appendRegexEntries;this.$WebAsyncPlusRegexSearchSource4=!!l.preferRegexEntries;!!this.$WebAsyncPlusRegexSearchSource1||h(0);!!this.$WebAsyncPlusRegexSearchSource2||h(0)}k.prototype.bootstrapImpl=function(l){'use strict';this.$WebAsyncPlusRegexSearchSource1.bootstrap(l)};k.prototype.$WebAsyncPlusRegexSearchSource5=function(l,m){'use strict';var n=[],o=false,p;for(var q=0;q<l.length;q++){p=l[q].getTitle();for(var r=0;r<m.length;r++)if(p===m[r].getTitle()){o=true;break}if(!o){n.push(l[q])}else o=false;}return n};k.prototype.searchImpl=function(l,m,n){'use strict';var o=this.$WebAsyncPlusRegexSearchSource1,p=this.$WebAsyncPlusRegexSearchSource3,q=this.$WebAsyncPlusRegexSearchSource4,r=this.$WebAsyncPlusRegexSearchSource5;this.$WebAsyncPlusRegexSearchSource2.search(l,function(s){m(s,l);o.search(l,function(t){var u=[],v=[];if(q){u=s;v=r(t,s)}else{v=t;u=r(s,t)}var w=p?v.concat(u):u.concat(v);m(w,l)},n)},n)};f.exports=k}),null);
__d('ProgressBarBase',['emptyFunction','requestAnimationFrame','removeFromArray'],(function a(b,c,d,e,f,g){var h=[];function i(j,k){'use strict';this._min=j||0;this._max=k||100;this._initialPosition=0;this._position=0;this._initialVelocity=0;this._velocity=0;this._acceleration=0;this.useAcceleration=true;this._targetPosition=0;this._targetTime=0;this._startTime=null;this._onComplete=c('emptyFunction')}i.prototype.setPosition=function(j){'use strict';j=this._normalizePosition(j);this._initialPosition=j;this._position=j;this.updateMeter(this._position);this.stop();return this};i.prototype.setCompleteHandler=function(j){'use strict';this._onComplete=j||c('emptyFunction');return this};i.prototype.setTarget=function(j,k){'use strict';this._stopAnimating();this._clearOnCompleteTimeout();this._targetPosition=j;var l=this._normalizePosition(j);this._targetTime=k;this._initialVelocity=this._velocity;this._initialPosition=this._position;if(this.useAcceleration){this._acceleration=2*(l-this._initialPosition-this._initialVelocity*k)/(k*k)}else{this._acceleration=0;this._velocity=this._initialVelocity=(l-this._initialPosition)/k}if(this._position>=l){this._onComplete()}else this._start();return this};i.prototype.setNoAcceleration=function(j){'use strict';this.useAcceleration=!j;return this};i.prototype._clearOnCompleteTimeout=function(){'use strict';b.clearTimeout(this._onCompleteTimeout)};i.prototype.stop=function(){'use strict';this._clearOnCompleteTimeout();this._velocity=0;this._initialVelocity=0;this._acceleration=0;this._stopAnimating();return this};i.prototype._start=function(){'use strict';this._startTime=Date.now();this._onCompleteTimeout=b.setTimeout(function(){this.setPosition(this._targetPosition);this._onComplete()}.bind(this),this._targetTime);this._startAnimating();return this};i.prototype._loop=function(){'use strict';var j=Date.now()-this._startTime;this._position=.5*this._acceleration*j*j+this._initialVelocity*j+this._initialPosition;var k=this._velocity;this._velocity=this._acceleration*j+this._initialVelocity;var l=k<0!==this._velocity<0;if(this._position>this._normalizePosition(this._targetPosition)||l){this.setPosition(this._targetPosition);this._onComplete()}else this.updateMeter(this._position);};i.prototype.updateMeter=function(j){'use strict';throw new Error("Unimplemented function: updateMeter")};i.prototype._normalizePosition=function(j){'use strict';return Math.min(Math.max((j-this._min)/(this._max-this._min),0),1)};i.prototype._startAnimating=function(){'use strict';if(!h.includes(this)){h.push(this);if(h.length===1)c('requestAnimationFrame')(i.prototype._requestAnimationFrameCallback);}};i.prototype._stopAnimating=function(){'use strict';c('removeFromArray')(h,this)};i.prototype._requestAnimationFrameCallback=function(){'use strict';h.forEach(function(j){j._loop()});if(h.length)c('requestAnimationFrame')(i.prototype._requestAnimationFrameCallback);};i.setPosition=function(j,k){'use strict';j.setPosition(k)};i.setTarget=function(j,k,l){'use strict';j.setTarget(k,l)};f.exports=i}),null);
__d('ProgressBar',['cx','csx','ProgressBarBase','CSS','Style','DOM'],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c('ProgressBarBase'));k=j&&j.prototype;function l(m,n,o){'use strict';k.constructor.call(this,n,o);this._root=m;this._meter=c('DOM').find(m,"div._5e4k");this._meter2=c('DOM').scry(m,"div._5e2g")[0]}l.prototype.getRoot=function(){'use strict';return this._root};l.prototype.updateMeter=function(m){'use strict';var n=Math.min(Math.max(m,0),1);c('CSS').conditionClass(this._meter,"_5e2d",n<=0);c('CSS').conditionClass(this._meter,"_5e4j",n>=1);this._root.setAttribute('aria-valuenow',n*100);n=n*100+'%';c('Style').set(this._meter,'width',n);if(this._meter2){c('Style').set(this._meter2,'left',n);c('Style').set(this._meter2,'width',n)}};l.prototype.changeLabel=function(m){'use strict';var n=c('DOM').scry(this._root,"span._5e2h");n.forEach(function(o){c('DOM').setContent(o,m)});return this};f.exports=l}),null);
__d('ContextualLayerAsyncRelative',['Event','Parent'],(function a(b,c,d,e,f,g){function h(i){'use strict';this._layer=i}h.prototype.enable=function(){'use strict';this._layerSubscription=this._layer.subscribe('show',this._attachListener.bind(this));if(this._layer.isShown())this._attachListener();};h.prototype.disable=function(){'use strict';this._layerSubscription.unsubscribe();this._layerSubscription=null;if(this._listener){this._listener.remove();this._listener=null}};h.prototype._attachListener=function(){'use strict';this._listener=c('Event').listen(this._layer.getRoot(),'click',this._onclick.bind(this))};h.prototype._onclick=function(i){'use strict';var j=c('Parent').byTag(i.getTarget(),'A');if(!j)return;var k=j.getAttribute('ajaxify'),l=j.href,m=k||l;if(j.rel==='async'||j.rel==='async-post'){e(['AsyncRequest'],function(n){n.bootstrap(m,this._layer.getContext(),j.rel==='async-post')}.bind(this));return false}};Object.assign(h.prototype,{_layerSubscription:null,_listener:null});f.exports=h}),null);
__d('CanvasVideoThumbnail',['Promise','DOM','EventListener','VideoThumbnail','canvasToBlob'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('VideoThumbnail'));i=h&&h.prototype;function j(k,l,m){'use strict';i.constructor.call(this,null);this.$CanvasVideoThumbnail1=k;this.$CanvasVideoThumbnail2=l;this.$CanvasVideoThumbnail3=m}j.prototype.getTime=function(){'use strict';return this.$CanvasVideoThumbnail3?this.$CanvasVideoThumbnail3:0};j.prototype.getURL=function(){'use strict';if(!this.$CanvasVideoThumbnail4)this.$CanvasVideoThumbnail4=this.$CanvasVideoThumbnail1.toDataURL('image/jpeg');return this.$CanvasVideoThumbnail4};j.prototype.getData=function(){'use strict';var k=c('DOM').create('canvas'),l=k.getContext('2d'),m=this.$CanvasVideoThumbnail2;return new (c('Promise'))(function(n,o){var p=c('EventListener').listen(m,'seeked',function(){p.remove();k.width=m.videoWidth;k.height=m.videoHeight;l.drawImage(m,0,0,k.width,k.height);c('canvasToBlob')(k,'image/jpeg').then(n,o)});m.currentTime=this.$CanvasVideoThumbnail3}.bind(this))};j.prototype.getDataWithText=function(k,l,m,n,o,p,q,r){'use strict';var s=c('DOM').create('canvas'),t=s.getContext('2d'),u=this.$CanvasVideoThumbnail2;return new (c('Promise'))(function(v,w){var x=c('EventListener').listen(u,'seeked',function(){x.remove();s.width=u.videoWidth;s.height=u.videoHeight;t.fillStyle=q;t.textAlign=r;t.drawImage(u,0,0,s.width,s.height);t=c('VideoThumbnail').addTextToCanvasContext(t,k,l,m,n,o,p,q,r);c('canvasToBlob')(s,'image/jpeg').then(v,w).done()});u.currentTime=this.$CanvasVideoThumbnail3}.bind(this))};f.exports=j}),null);
__d('generateVideoThumbnails',['Promise','CanvasVideoThumbnail','EventListener','VideoFrameBuffer','VideoThumbnail'],(function a(b,c,d,e,f,g){function h(i,j,k,l){var m=arguments.length<=4||arguments[4]===undefined?'contain':arguments[4],n=arguments.length<=5||arguments[5]===undefined?0:arguments[5];return new (c('Promise'))(function(o,p){var q=document.createElement('canvas'),r=[],s=0,t=(i.duration-n)/l,u=new (c('VideoThumbnail'))(''),v=new (c('VideoFrameBuffer'))(q,i,m),w;q.width=j;q.height=k;var x=function z(){v.updateFrameBuffer();var aa=new (c('CanvasVideoThumbnail'))(q,i,n+(s-1)*t);r.push(aa);if(aa.getURL().length>u.getURL().length)u=aa;y()},y=function z(){if(s===0)w=c('EventListener').listen(i,'seeked',x);if(s<l){i.currentTime=n+s*t;s++}else{if(w)w.remove();o({thumbnails:r,selectedThumbnail:u})}};if(i.videoWidth===0||i.videoHeight===0){p();return}y()})}f.exports=h}),null);
__d("ComposerNUXType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CAMERA_NUX:"camera_nux_seen",ADD_MORE_NUX:"add_more_nux_seen",OGCOMPOSER_NUX:"ogcomposer_nux_seen",FACEREC_SUGGESTIONS_NUX:"facerec_suggestions_nux_seen",TAGGING_FLYOUT_NUX:"tagging_flyout_nux_seen",SHARER_MINUTIAE_NUX:"sharer_minutiae_nux_seen",ADD_STICKERS_NUX:"add_stickers_nux_seen",UPCOMING_BIRTHDAYS_NUX:"upcoming_birthdays_nux_seen",CROSS_POST_NUX:"cross_post_nux_seen",SLIDESHOW_NUX:"slideshow_nux_seen"})}),null);
__d('QE',['Banzai','Cache'],(function a(b,c,d,e,f,g){var h='qe_log_exposure',i=60,j=new (c('Cache'))(),k={logExposure:function l(m,n){var o=n?m+'|'+n:m;if(j.has(o))return;var p={signal:true},q={name:m,id:null};if(n)q.id=n;c('Banzai').post(h,q,p);j.set(o,true,1,i)}};f.exports=k}),null);