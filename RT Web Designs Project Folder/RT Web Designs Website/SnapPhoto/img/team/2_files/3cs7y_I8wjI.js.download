if (self.CavalryLogger) { CavalryLogger.start_js(["2DifX"]); }

__d('ReactComposerFundraiserAttachmentActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({FETCH_ATTACHMENT:null,SET_MARKUP:null},'ReactComposerFundriserAttachmentActionType')}),null);
__d("XReactComposerFundraiserAttachmentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/react_composer\/fundraiser\/attachment\/",{av:{type:"FBID"},composer_id:{type:"String",required:true},charity_id:{type:"String",required:true}})}),null);
__d('ReactComposerFundraiserAttachmentStore',['ActorURI','AsyncRequest','ReactComposerFundraiserAttachmentActionType','ReactComposerStoreBase','XReactComposerFundraiserAttachmentController'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {isFetching:false,markup:null}},function(l){switch(l.type){case c('ReactComposerFundraiserAttachmentActionType').FETCH_ATTACHMENT:k&&k.$ReactComposerFundraiserAttachmentStore1(l);break;case c('ReactComposerFundraiserAttachmentActionType').SET_MARKUP:k&&k.$ReactComposerFundraiserAttachmentStore2(l);break;}});k=this}j.prototype.getMarkup=function(k){'use strict';return this.getComposerData(k).markup};j.prototype.isFetching=function(k){'use strict';return this.getComposerData(k).isFetching};j.prototype.$ReactComposerFundraiserAttachmentStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','charityID','actorID']),m=l[0],n=l[1],o=l[2],p=this.getComposerData(m);p.isFetching=true;p.markup=null;var q=c('XReactComposerFundraiserAttachmentController').getURIBuilder().setString('composer_id',m).setString('charity_id',n),r=c('ActorURI').create(q.getURI(),o),s=new (c('AsyncRequest'))(r).setFinallyHandler(function(){p.isFetching=false;this.emitChange(m)}.bind(this));s.send();this.emitChange(m)};j.prototype.$ReactComposerFundraiserAttachmentStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','markup']),m=l[0],n=l[1],o=this.getComposerData(m);o.markup=n;o.isFetching=false;this.emitChange(m)};f.exports=new j()}),null);
__d('ReactComposerFundraiserAttachmentActions',['ReactComposerDispatcher','ReactComposerFundraiserAttachmentActionType','ReactComposerFundraiserAttachmentStore'],(function a(b,c,d,e,f,g){c('ReactComposerFundraiserAttachmentStore');h.prototype.fetchFundraiserAttachment=function(i,j,k){'use strict';var l={composerID:i,type:c('ReactComposerFundraiserAttachmentActionType').FETCH_ATTACHMENT,charityID:j,actorID:k};c('ReactComposerDispatcher').dispatch(l)};h.prototype.setMarkup=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerFundraiserAttachmentActionType').SET_MARKUP,markup:j};c('ReactComposerDispatcher').dispatch(k)};function h(){'use strict'}f.exports=new h()}),null);
__d('ReactComposerFundraiserAttachmentContainer.react',['cx','fbt','ReactComposerContextMixin','FluxContainer','FluxStore','React','ReactComposerAttachmentPreview.react','ReactComposerFundraiserAttachmentActions','ReactComposerFundraiserAttachmentStore','ReactComposerLoggingName','ReactComposerTaggerActions','ReactComposerTaggerType','XUICloseButton.react','XUISpinner.react'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('ReactComposerContextMixin').contextTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;'use strict';for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$ReactComposerFundraiserAttachmentContainer3=function(){c('ReactComposerTaggerActions').setTaggerData(this.context.composerID,c('ReactComposerLoggingName').FUNDRAISER_SPROUT,c('ReactComposerTaggerType').FUNDRAISER,{});c('ReactComposerFundraiserAttachmentActions').setMarkup(this.context.composerID,null)}.bind(this),o}m.getStores=function(){'use strict';return [c('ReactComposerFundraiserAttachmentStore')]};m.calculateState=function(n,o,p){'use strict';var q=p.composerID,r=c('ReactComposerFundraiserAttachmentStore').getMarkup(q),s=c('ReactComposerFundraiserAttachmentStore').isFetching(q);return {markup:r,showLoadingIndicator:s}};m.prototype.render=function(){'use strict';var n=this.state.markup?c('React').createElement('div',{className:"_2ane"},c('React').createElement(c('ReactComposerAttachmentPreview.react'),{markup:this.state.markup}),this.$ReactComposerFundraiserAttachmentContainer1()):null;return c('React').createElement('div',null,this.$ReactComposerFundraiserAttachmentContainer2(),n)};m.prototype.$ReactComposerFundraiserAttachmentContainer2=function(){'use strict';if(!this.state.showLoadingIndicator)return null;return c('React').createElement('div',{className:"_jg1 _239z"},c('React').createElement(c('XUISpinner.react'),{background:'light',size:'large'}),i._("Fetching preview"))};m.prototype.$ReactComposerFundraiserAttachmentContainer1=function(){'use strict';if(!this.state.markup)return null;return c('React').createElement('div',{className:"_40_q"},c('React').createElement(c('XUICloseButton.react'),{size:'medium',shade:'light',onClick:this.$ReactComposerFundraiserAttachmentContainer3}))};m.contextTypes=l;f.exports=c('FluxContainer').create(m,{withContext:true,withProps:true})}),null);