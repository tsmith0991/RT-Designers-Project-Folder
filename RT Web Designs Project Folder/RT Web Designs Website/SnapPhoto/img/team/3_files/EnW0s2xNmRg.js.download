if (self.CavalryLogger) { CavalryLogger.start_js(["9unwD"]); }

__d("FBRTCParticipantCallState",[],(function a(b,c,d,e,f,g){f.exports={UNKNOWN:0,DISCONNECTED:1,NO_ANSWER:2,REJECTED:3,UNREACHABLE:4,CONNECTION_DROPPED:5,CONTACTING:6,RINGING:7,CONNECTING:8,CONNECTED:9,PARTICIPANT_LIMIT_REACHED:10,IN_ANOTHER_CALL:11,RING_TYPE_UNSUPPORTED:12}}),null);
__d('PhotoResizeMath',[],(function a(b,c,d,e,f,g){var h={getScaledPhotoDimensions:function i(j,k,l,m,n){var o=j/k,p=l/m;if(l&&m&&n==='stretch')return {width:l,height:m};if(!l&&m||n==='contain'!==o>=p)return {width:m*o,height:m};if(l)return {width:l,height:l/o};return {width:j,height:k}}};f.exports=h}),null);
__d('PixelzFocus',[],(function a(b,c,d,e,f,g){'use strict';var h={search:function i(j,k){var l=0,m=j.length-1;while(l<=m){var n=l+Math.floor((m-l)/2),o=j[n];if(o>k){m=n-1}else if(o<k){l=n+1}else return n;}return Math.min(l,m)},forceSpecificPoint:function i(j,k,l){var m=1e-9,n=h.search(j,k-l-m)+1,o=h.search(j,k+l);return j.slice(n,o+1)},findBiggestSets:function i(j,k){var l=[],m=-1;for(var n=0;n<j.length;++n){var o=j[n],p=n,q=h.search(j,o+k),r=q-p;if(r>m)l=[];if(r>=m){m=r;l.push({low:p,high:q})}}return l},getBestSet:function i(j,k,l){var m=-1,n=null;for(var o=0;o<k.length;++o){var p=k[o],q=j[p.low],r=j[p.high],s=q+(r-q)/2,t=Math.min(q-(s-l),s+l-r);if(t>m){m=t;n=p}}return n},getFocusFromSet:function i(j,k){var l=j[k.low],m=j[k.high];return l+(m-l)/2},clampFocus:function i(j,k){var l=k/2,m=1-k/2;if(j<l)return l;if(j>m)return m;return j},convertFromCenterToCSS:function i(j,k){if(Math.abs(1-k)<1e-5)return 0;return (j-k/2)/(1-k)},convertFromCSSToCenter:function i(j,k){return j*(1-k)+k/2},getVisible:function i(j,k){if(j<k)return j/k;return k/j},getHidden:function i(j,k){return 1-h.getVisible(j,k)},focusHorizontally:function i(j,k){return j<k},convertVectorFromCenterToCSS:function i(j,k,l){var m=h.focusHorizontally(k,l),n=void 0;if(m){n=j.x/100}else n=j.x/100;var o=h.convertFromCenterToCSS(n,h.getVisible(k,l));if(m){return {x:o,y:0}}else return {x:0,y:o};},getCropRect:function i(j,k,l){var m=h.focusHorizontally(k,l),n=h.getVisible(k,l);if(m){var o=(1-n)*j.x;return {left:o,top:0,width:n,height:1}}else{var p=(1-n)*j.y;return {left:0,top:p,width:1,height:n}}}};f.exports=h}),null);
__d('loadImage',['Promise'],(function a(b,c,d,e,f,g){'use strict';function h(i,j){var k=new Image();k.onload=function(){j(k.width,k.height,k)};k.src=i}h.loadImagePromise=function(i){return new (c('Promise'))(function(j,k){var l=new Image();l.onerror=k;l.onload=function(){return j(l)};l.src=i})};f.exports=h}),null);
__d('Pixelz.react',['cx','loadImage','joinClasses','React','PhotoResizeMath','PixelzFocus'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=c('React').createClass({displayName:'Pixelz',propTypes:{width:i.number,height:i.number,resizeMode:i.oneOf(['contain','cover','stretch']),alt:i.string,letterbox:i.bool,borderRadius:i.number,insetBorderColor:i.string,animated:i.bool,upscale:i.bool,cropRect:function k(l,m,n){var o=l[m],p='Invalid prop `'+m+'` supplied to `'+n+'`, expected a rectangle with values normalized '+'between 0 and 1.';if(o.left<0||o.top<0||o.width<0||o.height<0||o.left+o.width>1||o.top+o.height>1)return new Error(p);},focus:function k(l,m,n){var o=l[m],p='Invalid prop `'+m+'` supplied to `'+n+'`, expected either a {x, y, type} vector where type '+'is `css` or `center` or an array of {x, y} vectors. All the vectors '+'have with values normalized between 0 and 1.';if(Array.isArray(o)){for(var q=0;q<o.length;++q)if(!(o[q].x>=0&&o[q].x<=1)||!(o[q].y>=0&&o[q].y<=1))return new Error(p);}else{if(!o.type)o.type='css';if(!(o.x>=0&&o.x<=1)||!(o.y>=0&&o.y<=1)||!['center','css'].includes(o.type))return new Error(p);}}},getDefaultProps:function k(){return {resizeMode:'cover',alt:'',letterbox:true,upscale:true,cropRect:{width:1,height:1,top:0,left:0},focus:{x:.5,y:.5,type:'css'}}},getInitialState:function k(){return {srcDimensions:{}}},getSrcDimensions:function k(){var l=this.props.src,m=this.state.srcDimensions[l];if(m)return m;c('loadImage')(l,function(n,o){var p={};p[l]={width:n,height:o};this.isMounted()&&this.setState({srcDimensions:p})}.bind(this));return null},getCropSrcDimensions:function k(){var l=this.getSrcDimensions();return {width:l.width*this.props.cropRect.width,height:l.height*this.props.cropRect.height}},getUpscaleCropDimensions:function k(){var l=this.getCropSrcDimensions();return c('PhotoResizeMath').getScaledPhotoDimensions(l.width,l.height,this.props.width,this.props.height,this.props.resizeMode)},getCropDimensions:function k(){var l=this.getUpscaleCropDimensions(),m=this.getCropSrcDimensions();if(!this.props.upscale)return {width:Math.min(l.width,m.width),height:Math.min(l.height,m.height)};return l},getCropAspectRatio:function k(){var l=this.getCropDimensions();return l.width/l.height},getContainerDimensions:function k(){if(this.props.letterbox&&this.props.width&&this.props.height)return {width:this.props.width,height:this.props.height};return this.getCropDimensions()},getContainerAspectRatio:function k(){var l=this.getContainerDimensions();return l.width/l.height},getContainerPosition:function k(){return {left:0,top:0}},getFocus:function k(){var l=this.props.focus;if(!Array.isArray(l)&&l.type==='css')return {x:l.x,y:l.y};var m=this.getContainerAspectRatio(),n=this.getCropAspectRatio(),o=c('PixelzFocus').getVisible(m,n),p=c('PixelzFocus').focusHorizontally(m,n),q=void 0;if(!Array.isArray(l)){q=c('PixelzFocus').convertFromCenterToCSS(p?l.x:l.y,o)}else{var r=l.map(function(u){return p?u.x:u.y});r.sort();var s=c('PixelzFocus').findBiggestSets(r,o),t=c('PixelzFocus').getBestSet(r,s,o);q=c('PixelzFocus').getFocusFromSet(r,t)}return {x:p?q:.5,y:p?.5:q}},getCropPosition:function k(){var l=this.getCropDimensions(),m=this.getContainerDimensions(),n=this.getFocus();return {left:n.x*(m.width-l.width),top:n.y*(m.height-l.height)}},getScaleDimensions:function k(){var l=this.getCropDimensions();return {width:l.width/this.props.cropRect.width,height:l.height/this.props.cropRect.height}},getScalePosition:function k(){var l=this.getScaleDimensions();return {left:-l.width*this.props.cropRect.left,top:-l.height*this.props.cropRect.top}},getClipCropRectangle:function k(){var l=this.getContainerDimensions(),m=this.getCropDimensions(),n=this.getContainerPosition(),o=this.getCropPosition(),p=Math.max(n.left,o.left),q=Math.max(n.top,o.top),r=Math.min(n.top+l.height,o.top+m.height),s=Math.min(n.left+l.width,o.left+m.width);return {left:p,top:q,width:s-p,height:r-q}},getClipCropPosition:function k(){var l=this.getClipCropRectangle();return {left:l.left,top:l.top}},getClipCropDimensions:function k(){var l=this.getClipCropRectangle();return {width:l.width,height:l.height}},getClipScalePosition:function k(){var l=this.getScalePosition(),m=this.getClipCropPosition(),n=this.getCropPosition();return {left:l.left+(n.left-m.left),top:l.top+(n.top-m.top)}},getClipScaleDimensions:function k(){return this.getScaleDimensions()},areDimensionsEqual:function k(l,m){return l.width===m.width&&l.height===m.height},shouldAddAllNodesAndStyles:function k(){return this.props.animated},hasCrop:function k(){if(this.shouldAddAllNodesAndStyles())return true;var l=this.getContainerDimensions(),m=this.getClipCropDimensions(),n=this.getClipScaleDimensions();if(this.areDimensionsEqual(l,m)||this.areDimensionsEqual(m,n))return false;return true},hasContainer:function k(){if(this.shouldAddAllNodesAndStyles()||this.hasInsetBorder())return true;var l=this.getContainerDimensions(),m=this.getClipScaleDimensions();if(this.areDimensionsEqual(l,m))return false;return true},hasInsetBorder:function k(){return this.shouldAddAllNodesAndStyles()||this.props.insetBorderColor},applyPositionStyle:function k(l,m){if(this.shouldAddAllNodesAndStyles()||m.left)l.left=Math.round(m.left);if(this.shouldAddAllNodesAndStyles()||m.top)l.top=Math.round(m.top);},applyDimensionsStyle:function k(l,m){l.width=Math.round(m.width);l.height=Math.round(m.height)},applyBorderRadiusStyle:function k(l){if(this.shouldAddAllNodesAndStyles()||this.props.borderRadius)l.borderRadius=this.props.borderRadius||0;},getScaleStyle:function k(){var l={},m=this.getClipCropDimensions(),n=this.getClipScaleDimensions();if(this.shouldAddAllNodesAndStyles()||!this.areDimensionsEqual(m,n)){this.applyPositionStyle(l,this.getClipScalePosition())}else this.applyPositionStyle(l,this.getClipCropPosition());this.applyDimensionsStyle(l,this.getClipScaleDimensions());this.applyBorderRadiusStyle(l);return l},getCropStyle:function k(){var l={};this.applyPositionStyle(l,this.getClipCropPosition());this.applyDimensionsStyle(l,this.getClipCropDimensions());this.applyBorderRadiusStyle(l);return l},getInsetBorderStyle:function k(){var l={borderColor:this.props.insetBorderColor||'transparent'};this.applyPositionStyle(l,this.getClipCropPosition());this.applyDimensionsStyle(l,this.getClipCropDimensions());this.applyBorderRadiusStyle(l);return l},getContainerStyle:function k(){var l={};this.applyDimensionsStyle(l,this.getContainerDimensions());this.applyBorderRadiusStyle(l);return l},getScale:function k(){var l=this.getScaleStyle(),m=l.width,n=l.height;l=babelHelpers['extends']({},l);delete l.width;delete l.height;return c('React').createElement('img',babelHelpers['extends']({},this.props,{alt:this.props.alt,className:c('joinClasses')(this.props.className,"_56wb"+(this.shouldAddAllNodesAndStyles()?' '+"_56t5":'')),src:this.props.src,style:babelHelpers['extends']({},this.props.style||{},l),width:m,height:n}))},getCrop:function k(){var l=this.getScale();if(!this.hasCrop())return l;return c('React').createElement('div',{className:"_56ma"+(this.shouldAddAllNodesAndStyles()?' '+"_56t5":''),style:this.getCropStyle()},l)},getInsetBorder:function k(){if(!this.hasInsetBorder())return null;return c('React').createElement('div',{className:"_56lv"+(this.shouldAddAllNodesAndStyles()?' '+"_56t5":''),style:this.getInsetBorderStyle()})},getContainer:function k(){var l=this.getCrop();if(!this.hasContainer())return l;var m=this.getInsetBorder();return c('React').createElement('div',{className:"_56jj"+(this.shouldAddAllNodesAndStyles()?' '+"_56t5":''),'data-skipchecker':null,style:this.getContainerStyle()},l,m)},render:function k(){var l=this.getSrcDimensions();if(!l)return c('React').createElement('span',{'data-skipchecker':null});return this.getContainer()}});f.exports=j}),null);
__d('MessengerAdsWebTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear()}h.prototype.log=function(){c('GeneratedLoggerUtils').log('messenger_ads_web:MessengerAdsWebLoggerConfig',this.$MessengerAdsWebTypedLogger1,c('Banzai').BASIC)};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('messenger_ads_web:MessengerAdsWebLoggerConfig',this.$MessengerAdsWebTypedLogger1,c('Banzai').VITAL)};h.prototype.clear=function(){this.$MessengerAdsWebTypedLogger1={};return this};h.prototype.updateData=function(j){this.$MessengerAdsWebTypedLogger1=babelHelpers['extends']({},this.$MessengerAdsWebTypedLogger1,j);return this};h.prototype.setEvent=function(j){this.$MessengerAdsWebTypedLogger1.event=j;return this};h.prototype.setIsSponsored=function(j){this.$MessengerAdsWebTypedLogger1.is_sponsored=j;return this};h.prototype.setItemID=function(j){this.$MessengerAdsWebTypedLogger1.item_id=j;return this};h.prototype.setMessageID=function(j){this.$MessengerAdsWebTypedLogger1.message_id=j;return this};h.prototype.setMessageTimestamp=function(j){this.$MessengerAdsWebTypedLogger1.message_timestamp=j;return this};h.prototype.setPageID=function(j){this.$MessengerAdsWebTypedLogger1.page_id=j;return this};h.prototype.setVC=function(j){this.$MessengerAdsWebTypedLogger1.vc=j;return this};var i={event:true,is_sponsored:true,item_id:true,message_id:true,message_timestamp:true,page_id:true,vc:true};f.exports=h}),null);
__d('MessengerSharedPhoto.react',['React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$MessengerSharedPhoto1=function(q){q.preventDefault();this.props.onClick(this.props.fbid)}.bind(this),m}k.prototype.render=function(){return c('React').createElement('a',{className:this.props.className,href:this.props.uri,onClick:this.$MessengerSharedPhoto1,style:{backgroundImage:'url('+this.props.uri+')'}})};k.propTypes={className:j.string.isRequired,fbid:j.string.isRequired,onClick:j.func.isRequired,uri:j.string.isRequired};f.exports=k}),null);
__d('ChatPhotoViewFooterHScroll.react',['cx','Animation','MessengerSharedPhoto.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=200,m=74,n=140,o=30;i=babelHelpers.inherits(p,c('React').Component);j=i&&i.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=j.constructor).call.apply(q,[this].concat(t)),this.$ChatPhotoViewFooterHScroll1=null,this.state={currentPhoto:'',prevScrollLeft:0,scrollLeft:0},this.$ChatPhotoViewFooterHScroll2=function(v){return v?Math.ceil((v-n*2)/m):o},r}p.prototype.componentDidMount=function(){if(this.props.width)this.props.updateNumberInOneBatch(this.$ChatPhotoViewFooterHScroll2(this.props.width));this.$ChatPhotoViewFooterHScroll1=new (c('Animation'))(this.refs.childContainer).to('scrollLeft',0).duration(l).go()};p.prototype.componentWillReceiveProps=function(q){if(q.photoID!=this.state.currentPhoto||this.props.sharedPhotos.length!==q.sharedPhotos.length){var r=q.width?(q.width-m)/2-n:0,s=q.sharedPhotos.findIndex(function(t){return t.node.id===q.photoID});this.setState({currentPhoto:q.photoID,prevScrollLeft:this.state.scrollLeft,scrollLeft:s*m-r})}if(q.width!=this.props.width)this.props.updateNumberInOneBatch(this.$ChatPhotoViewFooterHScroll2(q.width));};p.prototype.componentDidUpdate=function(){if(this.$ChatPhotoViewFooterHScroll1)this.$ChatPhotoViewFooterHScroll1.from('scrollLeft',this.state.prevScrollLeft).to('scrollLeft',this.state.scrollLeft).duration(l).go();};p.prototype.componentWillUnmount=function(){this.$ChatPhotoViewFooterHScroll1&&this.$ChatPhotoViewFooterHScroll1.stop()};p.prototype.shouldComponentUpdate=function(q,r){if(q.photoID!=this.state.currentPhoto||q.sharedPhotos.length!==this.props.sharedPhotos.length)return true;return false};p.prototype.render=function(){var q=this.props.sharedPhotos,r=q.map(function(s){return c('React').createElement('div',{className:"_1oyb",key:s.node.legacy_attachment_id},c('React').createElement(c('MessengerSharedPhoto.react'),{className:"_1oyc"+(this.state.currentPhoto!==s.node.id?' '+"_1oyd":''),fbid:s.node.legacy_attachment_id,onClick:this.props.onScroll,photoID:s.node.id,uri:s.node.image1.uri}))}.bind(this));return c('React').createElement('div',{className:"_1oye"},c('React').createElement('div',{className:"_1oyf",ref:'childContainer'},c('React').createElement('div',{className:"_1oyh",ref:'scrollable'},r)))};p.propTypes={onScroll:k.func,photoID:k.string,sharedPhotos:k.array,updateNumberInOneBatch:k.func,width:k.number};f.exports=p}),null);
__d("XForwardingNUXSeenController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/chat\/forwarding_nux_seen\/",{})}),null);
__d('MessagingForwardingButtonNUX.react',['AsyncRequest','ChatConfig','React','XForwardingNUXSeenController','XUIAmbientNUX.react'],(function a(b,c,d,e,f,g){var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;'use strict';for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={showNUX:!c('ChatConfig').get('seen_forwarding_nux')},this.$MessagingForwardingButtonNUX1=function(){if(!this.state.showNUX)return;c('ChatConfig').set('seen_forwarding_nux',true);new (c('AsyncRequest'))(c('XForwardingNUXSeenController').getURIBuilder().getURI()).send();this.setState({showNUX:false})}.bind(this),this.close=function(){this.$MessagingForwardingButtonNUX1()}.bind(this),m}k.prototype.render=function(){'use strict';return c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:this.props.contextRef,onCloseButtonClick:this.$MessagingForwardingButtonNUX1,position:'left',width:'auto',shown:this.state.showNUX},this.props.children)};k.propTypes={contextRef:j.func.isRequired};f.exports=k}),null);
__d('MessengerPhotoViewCloseLink.react',['cx','fbt','React','TooltipLink.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=function l(m){var n=m.customTooltip!==undefined?m.customTooltip:c('React').createElement('span',null,i._("Press Esc to close"));return c('React').createElement(c('TooltipLink.react'),{className:"_51ok _50-m _51an",onClick:m.onClick,tooltip:n},c('React').createElement('div',{className:"_387s"}))};k.propTypes={onClick:j.func,customTooltip:j.element};f.exports=k}),null);
__d('SpotlightViewerBottomBarLink',['cx','Link.react','React'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';var l=this.props.className||"_4_8j _4_8k";return c('React').createElement(c('Link.react'),babelHelpers['extends']({},this.props,{className:l}),this.props.children)};function k(){'use strict';i.apply(this,arguments)}f.exports=k}),null);
__d('ChatPhotoViewHeader.react',['cx','fbt','MessagingForwardingButtonNUX.react','MessengerPhotoViewCloseLink.react','React','SpotlightViewerBottomBarLink','WorkModeConfig'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$ChatPhotoViewHeader3=function(){this.$ChatPhotoViewHeader2();this.props.showForwardDialog&&this.props.showForwardDialog()}.bind(this),this.$ChatPhotoViewHeader4=function(){this.$ChatPhotoViewHeader2();this.props.showShareDialog&&this.props.showShareDialog()}.bind(this),o}m.prototype.render=function(){return c('React').createElement('div',{className:"_51an _50-m _3h_t _5l-3",role:'banner'},this.$ChatPhotoViewHeader1(),c('React').createElement(c('MessengerPhotoViewCloseLink.react'),{onClick:this.props.onClose}))};m.prototype.$ChatPhotoViewHeader2=function(){if(this.refs.forwardNUX)this.refs.forwardNUX.close();};m.prototype.$ChatPhotoViewHeader1=function(){var n=void 0,o=void 0,p=void 0;if(!this.props.disableForward){n=c('React').createElement(c('SpotlightViewerBottomBarLink'),{className:"_3h_u",onClick:this.$ChatPhotoViewHeader3,ref:'forwardButton'},c('React').createElement('div',{className:"_3h_v _3h_w"}),i._("Forward"));o=c('React').createElement(c('MessagingForwardingButtonNUX.react'),{contextRef:function(){return this.refs.forwardButton}.bind(this),ref:'forwardNUX'},i._("Send this image to other people in separate messages."))}if(this.props.enableShareToFB)p=c('React').createElement('div',{className:"_3h_u",onClick:this.$ChatPhotoViewHeader4,ref:'shareButton',role:'button',tabIndex:'0'},c('React').createElement('div',{className:"_3tth _3h_w"}),this.$ChatPhotoViewHeader5());return c('React').createElement('div',{key:'buttonsContainer',ref:'buttons'},c('React').createElement(c('SpotlightViewerBottomBarLink'),{className:"_3h_u",rel:'async',ajaxify:this.props.url,ref:'downloadButton'},c('React').createElement('div',{className:"_3h_x _3h_w"}),i._("Download")),n,o,p,c('React').createElement('div',{className:"_3h_u",onClick:this.props.openInfo,ref:'moreInfo',role:'link',tabIndex:'0'},c('React').createElement('div',{className:"_3h_y _3h_w"}),i._("Info")))};m.prototype.$ChatPhotoViewHeader5=function(){if(c('WorkModeConfig').is_work_user){return i._("Share to Workplace")}else return i._("Share to Facebook");};m.propTypes={disableForward:l.bool,enableShareToFB:l.bool,onClose:l.func,openInfo:l.func,showForwardDialog:l.func,showShareDialog:l.func,url:l.object};f.exports=m}),null);
__d('MNCommerceDialogStateActions',['MessengerDispatcher','MNCommerceActionTypes'],(function a(b,c,d,e,f,g){'use strict';var h={showDialog:function i(j,k){c('MessengerDispatcher').dispatch({type:c('MNCommerceActionTypes').DIALOG.SHOW,dialogContainer:j,state:k})},hideDialog:function i(){c('MessengerDispatcher').dispatch({type:c('MNCommerceActionTypes').DIALOG.HIDE})}};f.exports=h}),null);
__d('MessengerPhotoInfoDialog.react',['cx','fbt','MessengerEnvironment','messengerContactImageReact','MessengerDialog.react','MessengerDialogButton.react','MessengerDialogHeader.react','MessengerDialogTitle.react','messengerDialogsRe','MessengerSpinner.react','MercuryIDs','MercuryTimestamp','MercuryParticipants','React','RelayClassic','RelayQL','XUIDialog.react','XUIDialogHeader.react','XUIDialogHeaderTitle.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('messengerContactImageReact').jsComponent,m=c('React').PropTypes,n=54;j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$MessengerPhotoInfoDialog6=function(){var u=this.props.fullMedia.exif_data,v='';if(u){if(u.aperture)v=u.aperture+' ';if(u.focal_length){var w=u.focal_length.split('/'),x=parseInt(w[0],10)/(parseInt(w[1],10)||1);v+=x+'mm '}if(u.iso)v+='ISO '+u.iso;}if(!v.length)return null;return c('React').createElement('div',{className:"_2zn1"},c('React').createElement('div',{className:"_2zn2"},i._("Camera")),c('React').createElement('div',{className:"_2zn4"},c('React').createElement('div',{className:"_2zn5"},u.model||'Camera'),c('React').createElement('div',{className:"_2zn6"},v)))}.bind(this),this.$MessengerPhotoInfoDialog5=function(){var u=this.props.fullMedia,v='';if(u.filesize>1e+06){v=(u.filesize/1e+06).toFixed(2)+'MB'}else if(u.filesize>1000){v=(u.filesize/1000).toFixed(2)+'KB'}else if(u.filesize>0)v=u.filesize+'B';var w=u.__typename==='MessageImage'?(u.original_dimensions.x*u.original_dimensions.y/1e+06).toFixed(2)+'MP':'';return c('React').createElement('div',{className:"_2zn1"},c('React').createElement('div',{className:"_2zn2"},i._("Details")),c('React').createElement('div',{className:"_2zn4"},c('React').createElement('div',{className:"_2zn5"},u.filename),c('React').createElement('div',{className:"_2zn6"},w+' '+u.original_dimensions.x+' x '+u.original_dimensions.y+' '+v)))}.bind(this),this.$MessengerPhotoInfoDialog4=function(event){event.preventDefault();this.props.showHeader&&this.props.showHeader();c('messengerDialogsRe').removeDialog()}.bind(this),this.$MessengerPhotoInfoDialog3=function(u){if(!u){this.props.showHeader&&this.props.showHeader();this.props.closeInfo()}}.bind(this),q}o.prototype.render=function(){if(!this.props.fullMedia)return null;return c('MessengerEnvironment').messengerui?this.$MessengerPhotoInfoDialog1():this.$MessengerPhotoInfoDialog2()};o.prototype.$MessengerPhotoInfoDialog1=function(){var p=this.props.fullMedia;return c('React').createElement(c('MessengerDialog.react'),{onToggle:this.$MessengerPhotoInfoDialog3,ref:'dialog',type:'default',width:504},c('React').createElement(c('MessengerDialogHeader.react'),null,c('React').createElement(c('MessengerDialogTitle.react'),null,i._("Info")),c('React').createElement(c('MessengerDialogButton.react'),{action:'cancel',label:i._("Done"),onClick:this.$MessengerPhotoInfoDialog4,type:'primary'})),c('React').createElement('div',{className:"_2zn1"},c('React').createElement('div',{className:"_2zn2"},i._("Uploaded by")),c('React').createElement('div',{className:"_2zn4"},c('React').createElement('div',{className:"_2zn5"},p.creator.name),c('React').createElement('div',{className:"_2zn6"},c('MercuryTimestamp').getPreciseTimestamp(p.creation_time*1000))),c('React').createElement('div',{className:"_2zn7"},this.showProfilePic())),this.$MessengerPhotoInfoDialog5(),this.$MessengerPhotoInfoDialog6())};o.prototype.$MessengerPhotoInfoDialog2=function(){var p=this.props.fullMedia;return c('React').createElement(c('XUIDialog.react'),{onToggle:this.$MessengerPhotoInfoDialog3,shown:this.props.infoOpen,ref:'dialog',type:'serif',width:504},c('React').createElement(c('XUIDialogHeader.react'),null,c('React').createElement(c('XUIDialogHeaderTitle.react'),null,i._("Info"))),c('React').createElement('div',{className:"_2zn1"},c('React').createElement('div',{className:"_2zn2"},i._("Uploaded by")),c('React').createElement('div',{className:"_2zn4"},c('React').createElement('div',{className:"_2zn5"},p.creator.name),c('React').createElement('div',{className:"_2zn6"},c('MercuryTimestamp').getPreciseTimestamp(p.creation_time*1000))),c('React').createElement('div',{className:"_2zn7"},this.showProfilePic())),this.$MessengerPhotoInfoDialog5(),this.$MessengerPhotoInfoDialog6())};o.prototype.showProfilePic=function(){var p=this.props.fullMedia;if(!p){return c('React').createElement(c('MessengerSpinner.react'),null)}else{var q=c('MercuryIDs').getParticipantIDFromUserID(p.creator.id),r=c('MercuryParticipants').getNow(q);if(r)return c('React').createElement(l,{isMessengerUser:r.is_messenger_user,size:n,src:r.big_image_src||r.image_src});return c('React').createElement(c('MessengerSpinner.react'),null)}};o.propTypes={closeInfo:m.func,fullMedia:m.object,infoOpen:m.bool,photoID:m.string,showHeader:m.func};f.exports=c('RelayClassic').createContainer(o,{fragments:{fullMedia:function p(q){return function(){return {children:[{fieldName:'__typename',kind:'Field',metadata:{isRequisite:true},type:'String'},{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{children:[{fieldName:'creation_time',kind:'Field',metadata:{},type:'Time'},{children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'name',kind:'Field',metadata:{},type:'String'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],fieldName:'creator',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isAbstract:true},type:'Actor'},{fieldName:'filename',kind:'Field',metadata:{},type:'String'},{children:[{fieldName:'x',kind:'Field',metadata:{},type:'Float'},{fieldName:'y',kind:'Field',metadata:{},type:'Float'}],fieldName:'original_dimensions',kind:'Field',metadata:{canHaveSubselections:true},type:'Vect2'},{fieldName:'filesize',kind:'Field',metadata:{},type:'Int'},{children:[{fieldName:'iso',kind:'Field',metadata:{},type:'Int'},{fieldName:'aperture',kind:'Field',metadata:{},type:'String'},{fieldName:'focal_length',kind:'Field',metadata:{},type:'String'},{fieldName:'model',kind:'Field',metadata:{},type:'String'}],fieldName:'exif_data',kind:'Field',metadata:{canHaveSubselections:true},type:'MessageImageExifData'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessageImage',type:'MessageImage'},{children:[{fieldName:'creation_time',kind:'Field',metadata:{},type:'Time'},{children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'name',kind:'Field',metadata:{},type:'String'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],fieldName:'creator',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isAbstract:true},type:'Actor'},{fieldName:'filename',kind:'Field',metadata:{},type:'String'},{children:[{fieldName:'x',kind:'Field',metadata:{},type:'Float'},{fieldName:'y',kind:'Field',metadata:{},type:'Float'}],fieldName:'original_dimensions',kind:'Field',metadata:{canHaveSubselections:true},type:'Vect2'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessageVideo',type:'MessageVideo'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{isAbstract:true},name:'MessengerPhotoInfoDialog_react_FullMediaRelayQL',type:'Node'}}()}}})}),null);
__d('SpotlightMessagesViewerContainerRoute',['RelayRoute','RelayQL'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('RelayRoute'));i=h&&h.prototype;function j(){h.apply(this,arguments)}j.routeName='SpotlightMessagesViewerContainerRoute';j.paramDefinition={photoID:{type:'String',required:true}};j.queries={fullMedia:function k(l){return function(m){return {calls:[{kind:'Call',metadata:{type:'ID!'},name:'id',value:{kind:'CallVariable',callVariableName:'photoID'}}],children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},c('RelayQL').__frag(m)]),fieldName:'node',kind:'Query',metadata:{isAbstract:true,identifyingArgName:'id',identifyingArgType:'ID!'},name:'SpotlightMessagesViewerContainerRoute',type:'Node'}}(l.getFragment('fullMedia'))}};f.exports=j}),null);
__d('MessengerPhotoInfoDialogContainer.react',['MessengerPhotoInfoDialog.react','RelayRootContainer','SpotlightMessagesViewerContainerRoute','React'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=c('React').createClass({displayName:'MessengerPhotoInfoDialogContainer',proptypes:{photoID:h.string.isRequired,showHeader:h.func},render:function j(){var k=new (c('SpotlightMessagesViewerContainerRoute'))({photoID:this.props.photoID});return c('React').createElement(c('RelayRootContainer'),{Component:c('MessengerPhotoInfoDialog.react'),route:k,renderFetched:function(l){return c('React').createElement(c('MessengerPhotoInfoDialog.react'),babelHelpers['extends']({},l,{closeInfo:this.props.closeInfo,photoID:this.props.photoID,infoOpen:this.props.infoOpen,showHeader:this.props.showHeader}))}.bind(this)})}});f.exports=i}),null);
__d("XMessagingVideoAttachmentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/mercury\/attachments\/video\/",{video_id:{type:"String",required:true},video_container_id:{type:"String",required:true},width:{type:"Int",required:true},height:{type:"Int",required:true},start_muted:{type:"Bool",defaultValue:false},no_fullscreen:{type:"Bool",defaultValue:false},load_player_controller:{type:"Bool",defaultValue:false},hide_controls_on_finish:{type:"Bool",defaultValue:false},hide_url_menu_option:{type:"Bool",defaultValue:false},is_share:{type:"Bool",defaultValue:false},render_play_button:{type:"Bool",defaultValue:false},start_timestamp:{type:"Int",defaultValue:0}})}),null);
__d('MessengerVideoPlayer.react',['cx','ActorURI','AsyncRequest','BackgroundImage.react','Event','FullScreen','MessengerSpinner.react','React','ShimButton.react','VideoPlayerReason','VideoPlayerStates','Vector','XMessagingVideoAttachmentController','SpotlightMercurySharedMediaViewer.react','SubscriptionsHandler','MercuryConfig','cssURL','getFullScreenElement','guid','joinClasses','setImmediate'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l="_ox1";i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(n){j.constructor.call(this,n);this.$MessengerVideoPlayer2=true;this.$MessengerVideoPlayer3=[];this.$MessengerVideoPlayer4=-1;this.$MessengerVideoPlayer5=false;this.$MessengerVideoPlayer6=false;this.$MessengerVideoPlayer10=function(o){if(!c('MercuryConfig').WWWSpotlightViewVideo&&!this.props.onClick||!this.isVideoClicked(o))return;o.preventDefault();if(c('MercuryConfig').WWWSpotlightViewVideo&&this.props.isOnStage){o.stopPropagation();this.isState(c('VideoPlayerStates').PLAYING)?this.pause(c('VideoPlayerReason').USER):this.play(c('VideoPlayerReason').USER)}else{this.pause(c('VideoPlayerReason').USER);this.props.onClick&&this.props.onClick()}}.bind(this);this.$MessengerVideoPlayer11=function(o){if(!this.isRightClick(o))return;o.stopPropagation();o.preventDefault();c('setImmediate')(function(){this.props.onSelect&&this.props.onSelect()}.bind(this))}.bind(this);this.$MessengerVideoPlayer8=function(){if(!this.$MessengerVideoPlayer2||this.state.forcePause)return;if(this.$MessengerVideoPlayer6){this.play();this.$MessengerVideoPlayer6=false}}.bind(this);this.$MessengerVideoPlayer7=function(){if(!this.$MessengerVideoPlayer2||this.state.forcePause||!(this.state.playerAPI&&this.state.playerAPI.isMuted()))return;this.$MessengerVideoPlayer6=!!this.state.playerAPI&&this.state.playerAPI.isState(c('VideoPlayerStates').PLAYING);this.pause()}.bind(this);this.state={playerAPI:null,forcePause:false};this.$MessengerVideoPlayer1=c('guid')();if(this.props.isInThread){this.listeners=new (c('SubscriptionsHandler'))();this.listeners.addSubscriptions(c('Event').listen(window,'blur',this.$MessengerVideoPlayer7),c('Event').listen(window,'focus',this.$MessengerVideoPlayer8))}}m.prototype.shouldComponentUpdate=function(n){var o=document.getElementById(this.$MessengerVideoPlayer1.toString()),p=c('FullScreen').isFullScreen();if(o!=null&&p&&o.children[0].children[0]===c('getFullScreenElement')())return false;var q=!!(n.stageDimensions&&n.stageDimensions!==this.props.stageDimensions);if(q){this.$MessengerVideoPlayer4=this.getCurrentTimePosition();this.$MessengerVideoPlayer5=!this.isState(c('VideoPlayerStates').PLAYING)}return !this.props.videoData||n.videoData.id!==this.props.videoData.id||q};m.prototype.componentWillReceiveProps=function(n){if(!this.$MessengerVideoPlayer2)return;if(this.props.isInThread&&n.isVisible!==this.props.isVisible)n.isVisible&&!this.state.forcePause?this.play():this.pause();};m.prototype.componentDidMount=function(){if(this.props.videoData)this.$MessengerVideoPlayer9();};m.prototype.componentDidUpdate=function(){this.$MessengerVideoPlayer3.forEach(function(n){return n.abandon()});this.$MessengerVideoPlayer3=[];if(this.props.videoData)this.$MessengerVideoPlayer9();};m.prototype.componentWillUnmount=function(){this.pause(c('VideoPlayerReason').UNLOADED);this.seek(0);this.$MessengerVideoPlayer3.forEach(function(n){return n.abandon()});this.listeners&&this.listeners.release();if(this.state.playerAPI)this.state.playerAPI.detachRootNode();};m.prototype.isVideoLoaded=function(){var n=!!this.state.playerAPI;!n;if(this.isState(c('VideoPlayerStates').FALLBACK))return false;return n};m.prototype.isVideoClicked=function(n){if(n.target instanceof HTMLElement)return n.target.classList.contains(l);return false};m.prototype.isRightClick=function(n){n=n||window.event;return n.button===2};m.prototype.play=function(n){if(!this.isVideoLoaded())return;if(this.state.playerAPI)this.state.playerAPI.play(n);};m.prototype.pause=function(n){if(!this.isVideoLoaded())return;if(this.state.playerAPI)this.state.playerAPI.pause(n);};m.prototype.seek=function(n){if(!this.isVideoLoaded())return;if(this.state.playerAPI)this.state.playerAPI.seek(n);};m.prototype.getCurrentTimePosition=function(){return this.isVideoLoaded()&&this.state.playerAPI?this.state.playerAPI.getCurrentTimePosition():-1};m.prototype.render=function(){var n=this.props.videoData,o=c('React').createElement('div',{ref:'placeholder'},c('React').createElement(c('MessengerSpinner.react'),{color:'blue',size:c('MessengerSpinner.react').large_size})),p={};if(n&&n.url){var q=n.original_dimensions;p.backgroundImage=c('cssURL')(n.url);o=c('React').createElement('div',{ref:'placeholder'},c('React').createElement(c('BackgroundImage.react'),{className:this.props.className,width:q.x,height:q.y,loadingIndicatorStyle:'large',backgroundSize:'cover',ref:'placeholder',style:p,src:n.url}))}return c('React').createElement(c('ShimButton.react'),{className:c('joinClasses')(this.props.className,"_4-od"),id:this.$MessengerVideoPlayer1,onClick:this.$MessengerVideoPlayer10,onMouseDown:this.$MessengerVideoPlayer11,style:p},o)};m.prototype.$MessengerVideoPlayer9=function(){var n=this.props.videoData;if(n){var o=n.original_dimensions;if(this.props.stageDimensions)o=c('SpotlightMercurySharedMediaViewer.react').getImageDimensionsForStage(new (c('Vector'))(n.original_dimensions.x,n.original_dimensions.y),this.props.stageDimensions);var p=c('XMessagingVideoAttachmentController').getURIBuilder().setString('video_id',n.legacy_attachment_id).setString('video_container_id',this.$MessengerVideoPlayer1).setInt('width',o.x).setInt('height',o.y).setInt('start_timestamp',this.$MessengerVideoPlayer4>0?Math.round(this.$MessengerVideoPlayer4):0).setBool('start_muted',n.start_muted).setBool('no_fullscreen',n.no_fullscreen).setBool('load_player_controller',true).setBool('hide_controls_on_finish',n.hide_controls_on_finish).setBool('hide_url_menu_option',Boolean(n.hide_url_menu_option)).setBool('is_share',n.is_share).setBool('render_play_button',this.props.isInThread).getURI(),q=this.props.attachment;if(q&&q.metadata&&q.metadata.pageid)p=c('ActorURI').create(p,q.metadata.pageid);var r=new (c('AsyncRequest'))();this.$MessengerVideoPlayer3.push(r);r.setMethod('GET').setStatusElement(this.refs.placeholder).setURI(p).setRelativeTo(this).setReadOnly(true).setHandler(function(s){}).send()}};m.prototype.$MessengerVideoPlayer12=function(){if(this.props.isVisible&&this.isState(c('VideoPlayerStates').FINISHED)){this.seek(0);this.play(c('VideoPlayerReason').LOOP)}else if(this.props.isVisible&&this.isState(c('VideoPlayerStates').PAUSED)&&!this.$MessengerVideoPlayer6){this.setState({forcePause:true})}else if(this.isState(c('VideoPlayerStates').PLAYING))this.setState({forcePause:false});};m.prototype.onVideoLoaded=function(){if(!this.$MessengerVideoPlayer2)return;this.state.playerAPI&&this.state.playerAPI.addListener('stateChange',function(){return this.$MessengerVideoPlayer12()}.bind(this));if(this.props.isVisible&&!this.$MessengerVideoPlayer5&&!this.state.forcePause){this.play(c('VideoPlayerReason').AUTOPLAY)}else this.pause();this.$MessengerVideoPlayer4=-1;this.$MessengerVideoPlayer5=false};m.prototype.isState=function(n){return !!(this.state.playerAPI&&this.state.playerAPI.isState(n))};m.propTypes={attachment:k.object,className:k.string,isInThread:k.bool,isVisible:k.bool,isOnStage:k.bool,stageDimensions:k.instanceOf(c('Vector')),videoData:k.object,onClick:k.func,onSelect:k.func};m.invokeVideoLoaded=function(n,o,p){n.$MessengerVideoPlayer2=p;if(o.isState(c('VideoPlayerStates').LOADING)){n.stateChangeListener=o.addListener('stateChange',function(){if(!o.isState(c('VideoPlayerStates').LOADING)){if(n.state&&n.state.playerAPI)return;n.setState({playerAPI:o},n.onVideoLoaded);if(n.stateChangeListener)n.stateChangeListener.remove();}})}else n.setState({playerAPI:o},n.onVideoLoaded);};f.exports=m}),null);
__d('MessagingForwardAttachmentDialog.react',['BootloadOnRender.react','JSResource','LazyComponent.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').PureComponent);i=h&&h.prototype;j.prototype.render=function(){return c('React').createElement(c('BootloadOnRender.react'),{component:c('React').createElement(c('LazyComponent.react'),this.props),loader:c('JSResource')('MessagingForwardAttachmentDialogImpl.react').__setRef('MessagingForwardAttachmentDialog.react'),placeholder:c('React').createElement('div',null)})};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("MessengerThreadSharedMediaAfterWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1611092932240778"};j.getQueryID=function(){"use strict";return "719742774850735"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("MessengerThreadSharedMediaBeforeWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1268180893260151"};j.getQueryID=function(){"use strict";return "393804677650619"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("MessengerThreadSharedMediaFindWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1597236330294464"};j.getQueryID=function(){"use strict";return "728987990612546"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d('SpotlightMessagesViewerPagers.react',['cx','LeftRight.react','Link.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i=function j(k){return c('React').createElement(c('LeftRight.react'),null,c('React').createElement(c('Link.react'),{className:"_322u"+(!k.disablePrevArrow?' '+"_2bbb":'')+(' '+"_50-m")},c('React').createElement('div',{className:(!k.disablePrevArrow?"_4ksl":'')+(!k.disablePrevArrow?' '+"_4ksm":'')})),c('React').createElement(c('Link.react'),{className:"_322u"+(!k.disableNextArrow?' '+"_2bbc":'')+(' '+"_50-m")},c('React').createElement('div',{className:(!k.disableNextArrow?"_4ksl":'')+(!k.disableNextArrow?' '+"_4kso":'')})))};f.exports=i}),null);
__d("XMessagingPhotoDownloadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/mercury\/attachments\/photo\/",{photo_id:{type:"String",required:true}})}),null);
__d("XMessagingShareAttachmentDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/mercury\/attachments\/share\/dialog\/",{__asyncDialog:{type:"Int"}})}),null);
__d('SpotlightMercurySharedMediaViewer.react',['csx','cx','fbt','invariant','ActorURI','AsyncDialog','AsyncRequest','ChatPhotoViewFooterHScroll.react','ChatPhotoViewHeader.react','Event','FunnelLogger','KeyEventController','MessagingForwardAttachmentDialog.react','MessengerPhotoInfoDialogContainer.react','MessengerThreadSharedMediaHelper','MessengerVideoPlayer.react','Parent','PhotoUtils','React','SpotlightViewer','SpotlightViewerImage','SpotlightMessagesViewerPagers.react','SpotlightViewport','SubscriptionsHandler','Vector','XMessagingPhotoDownloadController','XMessagingShareAttachmentDialogController'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l,m,n=c('React').PropTypes,o=88,p=30,q='WWW_MESSENGER_SHARE_TO_FB_FUNNEL',r="_4-og";l=babelHelpers.inherits(s,c('React').Component);m=l&&l.prototype;function s(){var t,u;for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=m.constructor).call.apply(t,[this].concat(w)),this.$SpotlightMercurySharedMediaViewer1=undefined,this.$SpotlightMercurySharedMediaViewer2=[],this.state={hasPrevPage:false,hasNextPage:false,firstPhotoLoaded:false,isLoading:false,mediaData:[],numberInOneBatch:p,photoData:null,showForward:false,showInfo:false,stageDimensions:new (c('Vector'))()},this.$SpotlightMercurySharedMediaViewer11=function(){if(!this.state.photoData)return null;return c('React').createElement(c('ChatPhotoViewFooterHScroll.react'),{onScroll:this.$SpotlightMercurySharedMediaViewer18,photoID:this.state.photoData.node.id,sharedPhotos:this.state.mediaData,updateNumberInOneBatch:this.$SpotlightMercurySharedMediaViewer19,width:this.state.stageDimensions.x})}.bind(this),this.$SpotlightMercurySharedMediaViewer13=function(){return this.state.showInfo?c('React').createElement(c('MessengerPhotoInfoDialogContainer.react'),{closeInfo:this.$SpotlightMercurySharedMediaViewer21,infoOpen:this.state.showInfo,photoID:this.state.photoData.node.id}):c('React').createElement('xhp',null)}.bind(this),this.$SpotlightMercurySharedMediaViewer19=function(y){this.setState({numberInOneBatch:y})}.bind(this),this.$SpotlightMercurySharedMediaViewer18=function(y){if(!this.state.mediaData||this.state.isLoading)return;var z=this.state.mediaData.findIndex(function(ba){return ba.node.legacy_attachment_id===y});if(z<0)return;var aa=this.state.mediaData[z];this.setState({photoData:aa});this.$SpotlightMercurySharedMediaViewer22(z)}.bind(this),this.$SpotlightMercurySharedMediaViewer5=function(y,event){if(this.state.photoData==null||this.state.isLoading)return;if(event&&!!c('Parent').bySelector(event.target,"._3tsq"))return;if(event&&event.target instanceof HTMLElement&&event.target.className===r)this.$SpotlightMercurySharedMediaViewer10();var z=this.state.mediaData.findIndex(function(ba){this.state.photoData!=null||k(0);return ba.node.legacy_attachment_id===this.state.photoData.node.legacy_attachment_id}.bind(this));if(z<0||z===this.state.mediaData.length-1&&!this.state.hasNextPage&&y)return;if(z===0&&!y){this.setState({isLoading:true},function(){return this.$SpotlightMercurySharedMediaViewer7(this.state.photoData,1,function(ba){if(ba===0)return;this.$SpotlightMercurySharedMediaViewer5(y)}.bind(this))}.bind(this));return}var aa=y?this.state.mediaData[z+1]:this.state.mediaData[z-1];this.setState({photoData:aa});this.$SpotlightMercurySharedMediaViewer22(z)}.bind(this),this.$SpotlightMercurySharedMediaViewer22=function(y){var z=this.state.numberInOneBatch,aa=this.state.mediaData;if(y<=z/2){this.setState({isLoading:true},function(){return this.$SpotlightMercurySharedMediaViewer7(aa[0],z,function(){})}.bind(this))}else if(y>=aa.length-z/2&&this.state.hasNextPage)this.setState({isLoading:true},function(){return this.$SpotlightMercurySharedMediaViewer6(aa[aa.length-1],z,function(){})}.bind(this));}.bind(this),this.$SpotlightMercurySharedMediaViewer10=function(){if(this.props.photoID===null)return;this.setState({photoData:null});this.props.onClosePhotoView()}.bind(this),this.$SpotlightMercurySharedMediaViewer16=function(){this.setState({showForward:true})}.bind(this),this.$SpotlightMercurySharedMediaViewer20=function(){this.setState({showForward:false})}.bind(this),this.$SpotlightMercurySharedMediaViewer15=function(){this.setState({showInfo:true})}.bind(this),this.$SpotlightMercurySharedMediaViewer21=function(){this.setState({showInfo:false})}.bind(this),this.$SpotlightMercurySharedMediaViewer17=function(){this.setState({showForward:false,showInfo:false});c('FunnelLogger').appendAction(q,'click');var y=this.state.photoData;if(!this.$SpotlightMercurySharedMediaViewer14()||!(y&&y.node))return;var z=y.node.legacy_attachment_id,aa=c('XMessagingShareAttachmentDialogController').getURIBuilder().getURI(),ba=new (c('AsyncRequest'))(aa).setData({attachment_id:z}).setMethod('POST');c('AsyncDialog').send(ba)}.bind(this),this.$SpotlightMercurySharedMediaViewer4=function(y){var z=c('MessengerThreadSharedMediaHelper').search(this.props.threadID,String(y),function(aa){return this.$SpotlightMercurySharedMediaViewer23(aa,0,function(){})}.bind(this));this.$SpotlightMercurySharedMediaViewer2.push(z)}.bind(this),this.$SpotlightMercurySharedMediaViewer6=function(y,z,aa){var ba=c('MessengerThreadSharedMediaHelper').loadMorePrevious(this.props.threadID,y.cursor,z||1,function(ca){return this.$SpotlightMercurySharedMediaViewer23(ca,1,aa)}.bind(this));this.$SpotlightMercurySharedMediaViewer2.push(ba)}.bind(this),this.$SpotlightMercurySharedMediaViewer7=function(y,z,aa){var ba=y?y.cursor:null,ca=c('MessengerThreadSharedMediaHelper').loadMoreLatest(this.props.threadID,ba,z||1,function(da){return this.$SpotlightMercurySharedMediaViewer23(da,-1,aa)}.bind(this));this.$SpotlightMercurySharedMediaViewer2.push(ca)}.bind(this),this.$SpotlightMercurySharedMediaViewer23=function(y,z,aa){var ba=Object.keys(y)[0],ca=y[ba].message_shared_media,da=ca.page_info,ea=ca.edges.length;if(ea!==0){var fa=this.state.mediaData;switch(z){case 0:this.setState({photoData:ca.edges[0],mediaData:[ca.edges[0]],firstPhotoLoaded:true});break;case 1:fa=fa.concat(ca.edges);this.setState({hasNextPage:da.has_next_page,mediaData:fa});break;case -1:fa=ca.edges;fa=fa.concat(this.state.mediaData);this.setState({mediaData:fa,hasPrevPage:da.has_previous_page});break;}}this.setState({isLoading:false});aa(ea)}.bind(this),this.$SpotlightMercurySharedMediaViewer3=function(){var y=new (c('Vector'))(c('Vector').getViewportDimensions().x,c('Vector').getViewportDimensions().y-o);return y},this.$SpotlightMercurySharedMediaViewer8=function(){if(this.state.photoData&&this.state.photoData.node){var y=this.state.photoData.node;if(y.__typename&&y.__typename==='MessageVideo')return this.$SpotlightMercurySharedMediaViewer24();var z=this.state.stageDimensions,aa=this.$SpotlightMercurySharedMediaViewer25(y,z);if(!aa)return null;var ba=s.getImageDimensionsForStage(new (c('Vector'))(aa.width,aa.height),z);return this.$SpotlightMercurySharedMediaViewer26(aa,ba)}else return null;}.bind(this),this.$SpotlightMercurySharedMediaViewer26=function(y,z){return c('React').createElement(c('SpotlightViewerImage'),{dimensions:z,ref:'image',src:y.uri})},this.$SpotlightMercurySharedMediaViewer25=function(y,z){var aa=null,ba=c('PhotoUtils').getImagesFromData(y);ba=ba.sort(function(da,ea){return ea.width-da.width});if(window.devicePixelRatio&&window.devicePixelRatio>1)z=new (c('Vector'))(z.x*window.devicePixelRatio,z.y*window.devicePixelRatio);for(var ca=0;ca<ba.length;ca++)if(!aa||ba[ca].width>=z.x||ba[ca].height>=z.y)aa=ba[ca];return aa},u}s.prototype.getDefaultProps=function(){return {enableShareToFB:false}};s.prototype.componentDidMount=function(){this.setState({isLoading:true,stageDimensions:this.$SpotlightMercurySharedMediaViewer3()},function(){return this.$SpotlightMercurySharedMediaViewer4(this.props.photoID)}.bind(this));this.$SpotlightMercurySharedMediaViewer1=new (c('SubscriptionsHandler'))();this.$SpotlightMercurySharedMediaViewer1.addSubscriptions(c('Event').listen(window,'resize',function(){this.setState({stageDimensions:this.$SpotlightMercurySharedMediaViewer3()})}.bind(this)),c('KeyEventController').registerKey('LEFT',function(){this.$SpotlightMercurySharedMediaViewer5(false);return false}.bind(this)),c('KeyEventController').registerKey('RIGHT',function(){this.$SpotlightMercurySharedMediaViewer5(true);return false}.bind(this)));if(this.props.enableShareToFB)c('FunnelLogger').startFunnel(q);};s.prototype.componentWillUpdate=function(t,u){if(u.firstPhotoLoaded!==this.state.firstPhotoLoaded)this.setState({isLoading:true},function(){this.$SpotlightMercurySharedMediaViewer6(u.photoData,u.numberInOneBatch,function(){});this.$SpotlightMercurySharedMediaViewer7(u.photoData,u.numberInOneBatch,function(){})}.bind(this));if(u.numberInOneBatch!=this.state.numberInOneBatch&&!u.isLoading)this.setState({isLoading:true},function(){return this.$SpotlightMercurySharedMediaViewer6(u.mediaData[u.mediaData.length-1],u.numberInOneBatch,function(){})}.bind(this));};s.prototype.componentWillUnmount=function(){this.$SpotlightMercurySharedMediaViewer1&&this.$SpotlightMercurySharedMediaViewer1.release();this.$SpotlightMercurySharedMediaViewer1=null;this.$SpotlightMercurySharedMediaViewer2.forEach(function(t){return t.abandon()})};s.prototype.render=function(){var t=this.$SpotlightMercurySharedMediaViewer8(),u=this.state.stageDimensions,v=this.state.isLoading||this.props.useloadingindicator&&!this.state.photoData;if(this.state.photoData==null)return null;var w=this.state.mediaData.findIndex(function(y){this.state.photoData!=null||k(0);return y.node.id===this.state.photoData.node.id}.bind(this)),x=c('React').createElement('div',null,this.$SpotlightMercurySharedMediaViewer9(),this.props.disablepaging?null:c('React').createElement(c('SpotlightMessagesViewerPagers.react'),{disablePrevArrow:w<=0&&!this.state.hasPrevPage,disableNextArrow:!this.state.hasNextPage&&w>=this.state.mediaData.length-1}));return c('React').createElement('span',null,c('React').createElement(c('SpotlightViewer'),{className:"_53vs",onHide:this.$SpotlightMercurySharedMediaViewer10,open:this.props.photoID!==null,ref:'spotlightViewer',rootClassName:this.props.rootClassName},c('React').createElement(c('SpotlightViewport'),{active:false,fadeInNOut:true,media:t,onClick:this.$SpotlightMercurySharedMediaViewer5,ref:'viewport',showLoadingIndicator:v,stageDimensions:u,useWidth:true},x),this.$SpotlightMercurySharedMediaViewer11()),this.$SpotlightMercurySharedMediaViewer12(),this.$SpotlightMercurySharedMediaViewer13())};s.prototype.$SpotlightMercurySharedMediaViewer9=function(){if(!this.state.photoData)return null;var t=this.state.photoData,u=t.node.legacy_attachment_id,v=c('XMessagingPhotoDownloadController').getURIBuilder().setString('photo_id',u).getURI();if(this.props.actorid)v=c('ActorURI').create(v,this.props.actorid);return c('React').createElement(c('ChatPhotoViewHeader.react'),{disableForward:this.props.disableForward,enableShareToFB:this.$SpotlightMercurySharedMediaViewer14(),onClose:this.$SpotlightMercurySharedMediaViewer10,openInfo:this.$SpotlightMercurySharedMediaViewer15,ref:'photoviewheader',showForwardDialog:this.$SpotlightMercurySharedMediaViewer16,showShareDialog:this.$SpotlightMercurySharedMediaViewer17,url:v})};s.prototype.$SpotlightMercurySharedMediaViewer12=function(){if(!this.state.photoData)return null;var t=j._("Forward in separate messages");return c('React').createElement(c('MessagingForwardAttachmentDialog.react'),{attachmentID:this.state.photoData.node.legacy_attachment_id,onClose:this.$SpotlightMercurySharedMediaViewer20,shown:this.state.showForward,title:t})};s.prototype.$SpotlightMercurySharedMediaViewer14=function(){var t=this.state.photoData;if(!t)return false;return !!this.props.enableShareToFB&&t.node.__typename==='MessageImage'&&t.node.image1.uri.indexOf('.gif')<0};s.prototype.$SpotlightMercurySharedMediaViewer24=function(){if(this.state.photoData)return c('React').createElement(c('MessengerVideoPlayer.react'),{isOnStage:true,isVisible:true,videoData:this.state.photoData.node,stageDimensions:this.state.stageDimensions});return null};s.propTypes={disableForward:n.bool,enableShareToFB:n.bool,onClosePhotoView:n.func,photoID:n.string,rootClassName:n.string,threadID:n.string};s.getImageDimensionsForStage=function(t,u){var v=t.x,w=t.y,x=u.x,y=u.y,z=v/w,aa=x/y;if(v>=x||w>=y){if(aa<z){v=x;w=Math.round(x/z)}else if(aa>z){v=Math.round(y*z);w=y}else{v=x;w=y}}else if(z<aa){v=Math.round(w*z)}else w=Math.round(v/z);return new (c('Vector'))(v,w)};f.exports=s}),null);
__d('MNCommerceAttachmentConstants',[],(function a(b,c,d,e,f,g){var h={XLARGE_IMAGE_DIMENSION:72,LARGE_IMAGE_DIMENSION:60,SMALL_IMAGE_DIMENSION:32,SINGLE_IMAGE_HEIGHT:108,BUBBLE_PADDING:6,IMAGE_HEIGHT:{CHAT:108,WEB_INBOX:130},UNLINK_ERROR_DIALOG:{WIDTH:300},DIALOG:{WIDTH:445,PADDING:12},MDOTCOMDIALOG:{WIDTH:495},ORDER_DETAIL:{SUB_TOTAL:'subTotal',SHIPPING:'shippingCost',TAX:'tax',TOTAL:'totalCost'}};f.exports=h}),null);
__d('MNCommerceDialog.react',['cx','MessengerEnvironment','LayerFadeOnHide','LayerHideOnEscape','MNCommerceAttachmentConstants','MessengerDialog.react','React','XUIDialog.react','emptyFunction','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=c('React').createClass({displayName:'MNCommerceDialog',propTypes:{onToggle:i.func,shown:i.bool,width:i.number.isRequired},getDefaultProps:function k(){return {onToggle:c('emptyFunction'),repositionOnUpdate:true,shown:true,width:c('MessengerEnvironment').messengerui?c('MNCommerceAttachmentConstants').MDOTCOMDIALOG.WIDTH:c('MNCommerceAttachmentConstants').DIALOG.WIDTH}},componentDidUpdate:function k(){if(this.props.repositionOnUpdate)setTimeout(function(){if(this.isMounted()&&this.refs.dialog&&this.refs.dialog.layer)this.refs.dialog.layer.updatePosition();}.bind(this),0);},render:function k(){var l=c('MessengerEnvironment').messengerui,m=l?c('MessengerDialog.react'):c('XUIDialog.react');return c('React').createElement(m,babelHelpers['extends']({behaviors:{LayerFadeOnHide:c('LayerFadeOnHide'),LayerHideOnEscape:c('LayerHideOnEscape')}},this.props,{className:c('joinClasses')(this.props.className,l?"_3rx0":''),ref:'dialog'}),this.props.children)}});f.exports=j}),null);
__d('MNCommerceDialogBody.react',['MessengerEnvironment','MessengerDialogBody.react','React','XUIDialogBody.react'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){var k=c('MessengerEnvironment').messengerui,l=k?c('MessengerDialogBody.react'):c('XUIDialogBody.react');return c('React').createElement(l,this.props,this.props.children)};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d('MNCommerceDialogTitle.react',['MessengerEnvironment','MessengerDialogHeader.react','React','XUIDialogTitle.react'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){var k=c('MessengerEnvironment').messengerui,l=k?c('MessengerDialogHeader.react'):c('XUIDialogTitle.react');return c('React').createElement(l,this.props,this.props.children)};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d('MNCommerceDetailsDialog.react',['cx','fbt','React','MNCommerceDialog.react','MNCommerceDialogBody.react','MNCommerceDialogTitle.react','XUISpinner.react','XUIButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$MNCommerceDetailsDialog3=function(){return this.props.title?c('React').createElement(c('MNCommerceDialogTitle.react'),null,this.props.title):null}.bind(this),this.$MNCommerceDetailsDialog2=function(){return c('React').createElement('div',{className:"_4y9b"},c('React').createElement('p',{className:"_4y9c"},i._("Sorry, Something Went Wrong")),c('React').createElement('p',{className:"_4y9d"},this.props.errorMessage),c('React').createElement(c('XUIButton.react'),{onClick:this.props.onTryAgain,label:i._("Try Again")}))}.bind(this),this.$MNCommerceDetailsDialog1=function(){return c('React').createElement('div',{className:"_4y9e"},c('React').createElement(c('XUISpinner.react'),{background:'light',size:'large',paused:false}))},o}m.prototype.render=function(){var n=null;if(this.props.loading){n=this.$MNCommerceDetailsDialog1()}else if(this.props.error){n=this.$MNCommerceDetailsDialog2()}else n=this.props.children;return c('React').createElement(c('MNCommerceDialog.react'),{className:this.props.className,modal:true,onToggle:this.props.onToggle,shown:this.props.shown},this.$MNCommerceDetailsDialog3(),c('React').createElement(c('MNCommerceDialogBody.react'),{useCustomPadding:true},n))};m.propTypes={error:l.object,errorMessage:l.node,loading:l.bool.isRequired,onToggle:l.func,onTryAgain:l.func,title:l.node,shown:l.bool.isRequired};m.defaultProps={shown:false};f.exports=m}),null);
__d('MNCommerceButton.react',['MessengerEnvironment','MessengerDialogButton.react','React','XUIButton.react'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){var k=c('MessengerEnvironment').messengerui,l=k?c('MessengerDialogButton.react'):c('XUIButton.react'),m=this.props.type;if(!m)m=this.props.type==='confirm'?'primary':'secondary';var n=k?'default':this.props.use,o=babelHelpers['extends']({},this.props,{type:m,use:n});return c('React').createElement(l,o,this.props.children)};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d('MNCommerceDialogFooter.react',['cx','MessengerEnvironment','MessengerDialogFooter.react','React','XUIDialogFooter.react','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){var l=c('MessengerEnvironment').messengerui,m=l?c('MessengerDialogFooter.react'):c('XUIDialogFooter.react'),n=void 0,o=this.props.children;if(l){n=c('React').Children.count(this.props.children);o=c('React').Children.map(this.props.children,function(p,q){if(!p)return null;return c('React').cloneElement(p,{className:c('joinClasses')(p.props.className,"_4ec0"),type:q===0&&n===2?'secondary':'primary'})})}return c('React').createElement(m,this.props,o)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d('MercuryShareAttachmentReactShape',['React'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=h.shape({share_id:h.string,description:h.string,media:h.shape({image:h.string,image_size:h.shape({height:h.number,width:h.number}),duration:h.number,playable:h.bool,source:h.string}),source:h.string,style_list:h.arrayOf(h.string),subattachments:h.array,target:h.object,title:h.string,properties:h.object,uri:h.string,action_links:h.array,messaging_attribution:h.shape({attribution_type:h.string,attribution_id:h.string,name:h.string,icon_url:h.string}),messenger_ctas:h.arrayOf(h.shape({id:h.string,page_id:h.string,action_title:h.string,action_url:h.string,action_open_type:h.number,is_high_confidence:h.bool,is_mutable_by_server:h.bool,user_confirmation:h.bool,native_url:h.string,is_disabled:h.bool,nested_ctas:h.array,webview_metadata:h.object}))}).isRequired;f.exports=i}),null);
__d('MessengerMomentsAppSnippet.react',['cx','fbt','ix','Image.react','MercuryShareAttachmentReactShape','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;n.prototype.render=function(){var o=this.props.attachment;if(!o||!o.target)return null;return c('React').createElement('span',{className:"uiIconText _3l6h"},c('React').createElement(c('Image.react'),{src:j("86988")}),o.target.snippet)};function n(){k.apply(this,arguments)}n.propTypes={attachment:c('MercuryShareAttachmentReactShape')};f.exports=n}),null);
__d('MNCommerceCacheTimeoutLimits',[],(function a(b,c,d,e,f,g){'use strict';var h={SUCCESS_TIMEOUT:10,ERROR_TIMEOUT:1};f.exports=h}),null);
__d('MercuryAttachmentSnippetType',['keyMirror'],(function a(b,c,d,e,f,g){var h=c('keyMirror')({PHOTO:null,GIF:null,VIDEO:null,AUDIO_CLIP:null,STICKER:null,SHARE:null,ERROR:null,MIXED:null,GIFT:null,THIRDPARTYSTICKER:null,FILE:null,LIKE_STICKER:null});f.exports=h}),null);
__d('P2PSnippetStringUtils',['fbt','P2PPaymentRequestStatus','P2PTransferStatus'],(function a(b,c,d,e,f,g,h){var i={getRequestCanceledSnippet:function j(k,l,m,n,o){if(k){return h._("Your request for {payment request amount} from {receiver's name} was canceled.",[h.param('payment request amount',o),h.param('receiver\'s name',n)])}else if(l){return h._("{requester's name}'s request for {payment request amount} was canceled.",[h.param('requester\'s name',m),h.param('payment request amount',o)])}else return h._("{requester's name}'s request for {payment request amount} from {receiver's name} was canceled.",[h.param('requester\'s name',m),h.param('payment request amount',o),h.param('receiver\'s name',n)]);},getRequestDeclinedSnippet:function j(k,l,m,n,o){if(k){return h._("{receiver's name} declined your request for {payment request amount}.",[h.param('receiver\'s name',n),h.param('payment request amount',o)])}else if(l){return h._("You declined {requester's name}'s request for {payment request amount}.",[h.param('requester\'s name',m),h.param('payment request amount',o)])}else return h._("{receiver's name} declined {sender's name}'s request for {payment request amount}.",[h.param('receiver\'s name',n),h.param('sender\'s name',m),h.param('payment request amount',o)]);},getRequestSentSnippet:function j(k,l,m,n,o){if(k){return h._("You requested {amount} from {requestee name}.",[h.param('amount',o),h.param('requestee name',n)])}else if(l){return h._("{requester name} requested {amount} from you.",[h.param('requester name',m),h.param('amount',o)])}else return h._("{name} requested {amount} from {requestee name}.",[h.param('name',m),h.param('amount',o),h.param('requestee name',n)]);},getRequestSnippetByStatus:function j(k,l,m,n,o,p){var q=k||c('P2PPaymentRequestStatus').INITED,r=[l,m,n,o,p];switch(q){case c('P2PPaymentRequestStatus').DECLINED:return this.getRequestDeclinedSnippet.apply(this,r);case c('P2PPaymentRequestStatus').TRANSFER_FAILED:case c('P2PPaymentRequestStatus').CANCELED:return this.getRequestCanceledSnippet.apply(this,r);}return this.getRequestSentSnippet.apply(this,r)},getTransferCanceledSnippet:function j(k,l,m,n,o){if(k){return h._("Your {amount} payment to {receiver_name} was canceled.",[h.param('amount',o),h.param('receiver_name',n)])}else if(l){return h._("{sender name}'s {amount} payment was canceled.",[h.param('sender name',m),h.param('amount',o)])}else return h._("{sender_name}'s {amount} payment to {receiver_name} was canceled.",[h.param('sender_name',m),h.param('amount',o),h.param('receiver_name',n)]);},getTransferDeclinedSnippet:function j(k,l,m,n,o){if(k){return h._("{receiver_name} didn't accept your {amount} payment.",[h.param('receiver_name',n),h.param('amount',o)])}else if(l){return h._("You didn't accept {sender name}'s {amount} payment.",[h.param('sender name',m),h.param('amount',o)])}else return h._("{receiver_name} didn't accept {sender_name}'s {amount} payment.",[h.param('receiver_name',n),h.param('sender_name',m),h.param('amount',o)]);},getTransferSentSnippet:function j(k,l,m,n,o){if(k){return h._("You sent {receiver name} {amount}.",[h.param('receiver name',n),h.param('amount',o)])}else if(l){return h._("{name} sent you {amount}.",[h.param('name',m),h.param('amount',o)])}else return h._("{sender name} sent {receiver name} {amount}.",[h.param('sender name',m),h.param('receiver name',n),h.param('amount',o)]);},getTransferSnippetByStatus:function j(k,l,m,n,o,p){var q=[l,m,n,o,p],r=k||c('P2PTransferStatus').PENDING_SENDER_INITED;switch(r){case c('P2PTransferStatus').CANCELED_DECLINED:return this.getTransferDeclinedSnippet.apply(this,q);case c('P2PTransferStatus').CANCELED_SENDER_RISK:case c('P2PTransferStatus').CANCELED_RECIPIENT_RISK:case c('P2PTransferStatus').CANCELED_SYSTEM_FAIL:case c('P2PTransferStatus').CANCELED_EXPIRED:case c('P2PTransferStatus').CANCELED_SAME_CARD:return this.getTransferCanceledSnippet.apply(this,q);}return this.getTransferSentSnippet.apply(this,q)}};f.exports=i}),null);
__d('MercuryAttachmentSnippetRenderer',['fbt','CurrentUser','MercuryAttachmentSnippetType','MercuryAttachmentType','MercuryAudioType','MercuryGiftSnippetRenderer','P2PSnippetStringUtils','StickerConstants','StoryAttachmentStyle'],(function a(b,c,d,e,f,g,h){'use strict';var i={getAttachmentSnippetType:function j(k){if(this._hasOnlyPhotos(k))return c('MercuryAttachmentSnippetType').PHOTO;if(this._hasOnlyAnimatedImages(k))return c('MercuryAttachmentSnippetType').GIF;if(this._hasOnlyVideo(k))return c('MercuryAttachmentSnippetType').VIDEO;if(this._hasAudioClip(k))return c('MercuryAttachmentSnippetType').AUDIO_CLIP;if(this._hasLikeSticker(k))return c('MercuryAttachmentSnippetType').LIKE_STICKER;if(this._hasSticker(k))return c('MercuryAttachmentSnippetType').STICKER;if(this._hasThirdPartySticker(k))return c('MercuryAttachmentSnippetType').THIRDPARTYSTICKER;if(this._hasShare(k))return c('MercuryAttachmentSnippetType').SHARE;if(this._hasGift(k))return c('MercuryAttachmentSnippetType').GIFT;if(this._hasError(k))return c('MercuryAttachmentSnippetType').ERROR;if(this._hasFile(k))return c('MercuryAttachmentSnippetType').FILE;return c('MercuryAttachmentSnippetType').MIXED},renderAttachmentSnippetText:function j(k,l,m,n){switch(k){case c('MercuryAttachmentSnippetType').PHOTO:return this._renderPhotoAttachmentSnippetText(l,m,this._getPhotoAttachments(n));case c('MercuryAttachmentSnippetType').GIF:return this._renderAnimatedImagesAttachmentSnippetText(l,m,this._getAnimatedImageAttachments(n));case c('MercuryAttachmentSnippetType').VIDEO:return l?h._("You sent a video."):h._("{sender name} sent a video.",[h.param('sender name',m)]);case c('MercuryAttachmentSnippetType').AUDIO_CLIP:return l?h._("You sent a voice message."):h._("{name} sent a voice message.",[h.param('name',m)]);case c('MercuryAttachmentSnippetType').STICKER:case c('MercuryAttachmentSnippetType').LIKE_STICKER:case c('MercuryAttachmentSnippetType').THIRDPARTYSTICKER:return l?h._("You sent a sticker."):h._("{name} sent a sticker.",[h.param('name',m)]);case c('MercuryAttachmentSnippetType').SHARE:if(n&&this._hasP2PPayment(n))return this._renderP2PPaymentSnippetText(n[0]);if(n&&this._hasP2PPaymentRequest(n))return this._renderP2PPaymentRequestSnippetText(n[0]);if(n&&this._hasBusinessMessage(n))return this._renderBusinessMessageSnippetText(n[0],m);if(n&&this._hasLocation(n))return l?h._("You sent a location."):h._("{sender name} sent a location.",[h.param('sender name',m)]);if(n&&this._hasLiveLocation(n))return l?h._("You sent a live location."):h._("{sender name} sent a live location.",[h.param('sender name',m)]);return l?h._("You sent a link."):h._("{sender name} sent a link.",[h.param('sender name',m)]);case c('MercuryAttachmentSnippetType').GIFT:return c('MercuryGiftSnippetRenderer').renderText(l,m);case c('MercuryAttachmentSnippetType').FILE:return l?h._("You sent an attachment."):h._("{sender name} sent an attachment.",[h.param('sender name',m)]);case c('MercuryAttachmentSnippetType').ERROR:return l?h._("You sent an attachment."):h._("{sender name} sent an attachment.",[h.param('sender name',m)]);default:return '';}},_hasOnlyPhotos:function j(k){return this._getPhotoAttachments(k).length===k.length},_hasThirdPartySticker:function j(k){return k.length===1&&k[0].attach_type===c('MercuryAttachmentType').THIRDPARTYSTICKER},_hasOnlyAnimatedImages:function j(k){return this._getAnimatedImageAttachments(k).length===k.length},_hasOnlyVideo:function j(k){return k.length===1&&k[0].attach_type===c('MercuryAttachmentType').VIDEO},_hasAudioClip:function j(k){var l=k[0].metadata&&k[0].metadata.type;return k.length===1&&(l===c('MercuryAudioType').AudioClip||l===c('MercuryAudioType').VoiceMessageWithTranscript)},_hasBusinessMessage:function j(k){return this._hasSingleShareAttachmentOfStyle(k,c('StoryAttachmentStyle').BUSINESS_MESSAGE_ITEMS)},_hasSticker:function j(k){return k.length===1&&k[0].attach_type===c('MercuryAttachmentType').STICKER},_hasLikeSticker:function j(k){if(k.length<1)return false;var l=k[0].metadata&&k[0].metadata.stickerID;return k.length===1&&(l==c('StickerConstants').LIKE_STICKER_ID||l==c('StickerConstants').HOT_LIKE_SMALL_STICKER_ID||l==c('StickerConstants').HOT_LIKE_MEDIUM_STICKER_ID||l==c('StickerConstants').HOT_LIKE_LARGE_STICKER_ID)},_hasLocation:function j(k){return this._hasSingleShareAttachmentOfStyle(k,c('StoryAttachmentStyle').MESSAGE_LOCATION)},_hasLiveLocation:function j(k){return this._hasSingleShareAttachmentOfStyle(k,c('StoryAttachmentStyle').MESSAGE_LIVE_LOCATION)},_hasP2PPayment:function j(k){return this._hasSingleShareAttachmentOfStyle(k,c('StoryAttachmentStyle').ORION)},_hasP2PPaymentRequest:function j(k){return this._hasSingleShareAttachmentOfStyle(k,c('StoryAttachmentStyle').ORION_REQUEST)},_hasSingleShareAttachmentOfStyle:function j(k,l){return k.length===1&&k[0].attach_type===c('MercuryAttachmentType').SHARE&&k[0].share.style_list.indexOf(l)>=0},_hasShare:function j(k){return k.length===1&&k[0].attach_type===c('MercuryAttachmentType').SHARE},_hasError:function j(k){return k.length===1&&k[0].attach_type===c('MercuryAttachmentType').ERROR},_hasGift:function j(k){return k.length===1&&k[0].attach_type===c('MercuryAttachmentType').GIFT},_hasFile:function j(k){return k.length===1&&k[0].attach_type===c('MercuryAttachmentType').FILE},_getPhotoAttachments:function j(k){if(!k)return [];return k.filter(function(l){return l.attach_type===c('MercuryAttachmentType').PHOTO})},_getAnimatedImageAttachments:function j(k){if(!k)return [];return k.filter(function(l){return l.attach_type===c('MercuryAttachmentType').ANIMATED_IMAGE})},_renderPhotoAttachmentSnippetText:function j(k,l,m){if(m.length===1){if(k){return h._("You sent a photo.")}else return h._("{name} sent a photo.",[h.param('name',l)]);}else if(k){return h._({"*":"You sent {num_photos} photos."},[h.param('num_photos',m.length,[0])])}else return h._({"*":"{name} sent {num_photos} photos."},[h.param('name',l),h.param('num_photos',m.length,[0])]);},_renderAnimatedImagesAttachmentSnippetText:function j(k,l,m){if(m.length===1){if(k){return h._("You sent a GIF.")}else return h._("{name} sent a GIF.",[h.param('name',l)]);}else if(k){return h._("You sent {num_animated_images} GIFs.",[h.param('num_animated_images',m.length)])}else return h._("{name} sent {num_animated_images} GIFs.",[h.param('name',l),h.param('num_animated_images',m.length)]);},_renderBusinessMessageSnippetText:function j(k,l){var m=k.share.target,n=m&&m.message||h._("{sender name} sent an attachment.",[h.param('sender name',l)]);return n},_renderP2PPaymentSnippetText:function j(k){var l=k.share.target;return this.renderP2PPaymentSnippetText(c('CurrentUser').getID()===l.sender.id,l.sender.name,l.amountWithSymbol,l.status,c('CurrentUser').getID()===l.receiver.id,l.receiver.name)},_renderP2PPaymentRequestSnippetText:function j(k){var l=k.share.target;return this.renderP2PPaymentRequestSnippetText(c('CurrentUser').getID()===l.requester.id,l.requester.name,l.amountWithSymbol,l.currentStatus,c('CurrentUser').getID()===l.requestee.id,l.requestee.name)},renderP2PPaymentSnippetText:function j(k,l,m,n,o,p){return c('P2PSnippetStringUtils').getTransferSnippetByStatus(n,k,o||false,l||'',p||'',m)},renderP2PPaymentRequestSnippetText:function j(k,l,m,n,o,p){return c('P2PSnippetStringUtils').getRequestSnippetByStatus(n,k,o||false,l||'',p||'',m)}};f.exports=i}),null);
__d('MercuryAnimatedShareSnippet.react',['cx','fbt','ix','Image.react','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;n.prototype.render=function(){var o=this.props.isViewerSender?i._("You sent a GIF."):i._("{sender name} sent a GIF.",[i.param('sender name',this.props.senderName)]);return c('React').createElement('span',{className:"uiIconText _3l6h"},c('React').createElement(c('Image.react'),{src:j("81849")}),o)};function n(){k.apply(this,arguments)}n.propTypes={isViewerSender:m.bool,senderName:m.oneOfType([m.string,m.object])};f.exports=n}),null);
__d('MercuryCrisisListingShareSnippet.react',['fbt','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){return c('React').createElement('span',null,this.props.isViewerSender?h._("You shared a post."):h._("{sender_name} shared a post.",[h.param('sender_name',this.props.senderName)]))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d('MercuryFallbackShareAttachmentSnippet.react',['cx','fbt','ix','Image.react','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;n.prototype.render=function(){var o=void 0;if(this.props.isViewerSender){o=i._("You sent a link.")}else o=i._("{sender name} sent a link.",[i.param('sender name',this.props.senderName)]);return c('React').createElement('span',{className:"uiIconText _3l6h"},c('React').createElement(c('Image.react'),{src:j("86988")}),o)};function n(){k.apply(this,arguments)}n.propTypes={isViewerSender:m.bool,senderName:m.oneOfType([m.string,m.object])};f.exports=n}),null);
__d('MercuryFundraiserShareSnippet.react',['cx','fbt','ix','Image.react','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;n.prototype.render=function(){var o=this.props.isViewerSender?i._("You shared a fundraiser"):i._("{sender name} shared a fundraiser",[i.param('sender name',this.props.senderName)]);return c('React').createElement('span',{className:"uiIconText _3l6h"},c('React').createElement(c('Image.react'),{src:j("40052")}),o)};function n(){k.apply(this,arguments)}n.propTypes={isViewerSender:m.bool,senderName:m.oneOfType([m.string,m.object])};f.exports=n}),null);
__d('MercuryMessageLiveLocationShareAttachmentSnippet.react',['cx','fbt','ix','Image.react','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;n.prototype.render=function(){var o=void 0;if(this.props.isViewerSender){o=i._("You sent a live location.")}else o=i._("{sender name} sent a live location.",[i.param('sender name',this.props.senderName)]);return c('React').createElement('span',{className:"uiIconText _3l6h"},c('React').createElement(c('Image.react'),{src:j("87068")}),o)};function n(){k.apply(this,arguments)}n.propTypes={isViewerSender:m.bool,senderName:m.oneOfType([m.string,m.object])};f.exports=n}),null);
__d('MercuryMessageLocationShareAttachmentSnippet.react',['cx','fbt','ix','Image.react','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;n.prototype.render=function(){var o=void 0;if(this.props.isViewerSender){o=i._("You sent a location.")}else o=i._("{sender name} sent a location.",[i.param('sender name',this.props.senderName)]);return c('React').createElement('span',{className:"uiIconText _3l6h"},c('React').createElement(c('Image.react'),{src:j("87068")}),o)};function n(){k.apply(this,arguments)}n.propTypes={isViewerSender:m.bool,senderName:m.oneOfType([m.string,m.object])};f.exports=n}),null);
__d('MercuryMessengerInviteShareAttachmentSnippet.react',['cx','React','MercuryShareAttachmentReactShape'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){return c('React').createElement('span',{className:"_3l6h"},this.props.attachment.title)};function k(){i.apply(this,arguments)}k.propTypes={attachment:c('MercuryShareAttachmentReactShape')};f.exports=k}),null);
__d('MercuryMusicIntegrationAttachmentSnippet.react',['fbt','MercuryFallbackShareAttachmentSnippet.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){var m=void 0,n=this.props.attachment.target;if(!n)return c('React').createElement(c('MercuryFallbackShareAttachmentSnippet.react'),this.props);var o=n.title,p=n.app_name;if(this.props.isViewerSender){m=h._("You shared \"{music title}\" from {music servvice}.",[h.param('music title',o),h.param('music servvice',p)])}else m=h._("{sender name} shared \"{music title}\" from {music servvice}.",[h.param('sender name',this.props.senderName),h.param('music title',o),h.param('music servvice',p)]);return c('React').createElement('span',null,m)};function l(){i.apply(this,arguments)}l.propTypes={attachment:k.object,isViewerSender:k.bool,senderName:k.oneOfType([k.string,k.object])};f.exports=l}),null);
__d('MercuryPaymentPlatformSnippet.react',['cx','ix','Image.react','MercuryShareAttachmentReactShape','React','idx'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){var n,o=(n=this.props)!=null?(n=n.attachment)!=null?(n=n.target)!=null?(n=n.payment_snippet)!=null?n.text:n:n:n:n;if(!o)return null;return c('React').createElement('span',{className:"uiIconText _3l6h"},c('React').createElement(c('Image.react'),{src:i("86988")}),o)};function m(){j.apply(this,arguments)}m.propTypes={attachment:c('MercuryShareAttachmentReactShape'),isSenderViewer:l.bool,senderName:l.oneOfType([l.string,l.object])};f.exports=m}),null);
__d('MercuryPhotoShareSnippet.react',['cx','fbt','ix','Image.react','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;n.prototype.render=function(){var o=this.props.isViewerSender?i._("You sent a photo."):i._("{sender name} sent a photo.",[i.param('sender name',this.props.senderName)]);return c('React').createElement('span',{className:"uiIconText _3l6h"},c('React').createElement(c('Image.react'),{src:j("81849")}),o)};function n(){k.apply(this,arguments)}n.propTypes={isViewerSender:m.bool,senderName:m.oneOfType([m.string,m.object])};f.exports=n}),null);
__d('MercuryPromotionShareAttachmentSnippet.react',['cx','fbt','ix','Image.react','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;n.prototype.render=function(){var o=this.props.attachment,p=o&&o.target,q=null;if(this.props.isViewerSender){q=i._("You sent an attachment.")}else q=i._("{sender name} sent an attachment.",[i.param('sender name',this.props.senderName)]);var r=p&&p.message||q;return c('React').createElement('span',{className:"uiIconText _3l6h"},c('React').createElement(c('Image.react'),{src:j("86988")}),r)};function n(){k.apply(this,arguments)}n.propTypes={senderName:m.oneOfType([m.string,m.object]),attachment:m.object,isViewerSender:m.bool};f.exports=n}),null);
__d('MercurySaleGroupProductItemShareSnippet.react',['cx','fbt','ix','Image.react','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;n.prototype.render=function(){var o=this.props.isViewerSender?i._("You sent a for sale item."):i._("{sender name} sent a for sale item.",[i.param('sender name',this.props.senderName)]);return c('React').createElement('span',{className:"uiIconText _3l6h"},c('React').createElement(c('Image.react'),{src:j("86988")}),o)};function n(){k.apply(this,arguments)}n.propTypes={isViewerSender:m.bool,senderName:m.oneOfType([m.string,m.object])};f.exports=n}),null);
__d('MercuryTransactionInvoiceShareSnippet.react',['cx','fbt','ix','Image.react','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;n.prototype.render=function(){var o=this.props.isViewerSender?i._("You sent an invoice"):i._("Page {sender name} sent you an invoice.",[i.param('sender name',this.props.senderName)]);return c('React').createElement('span',{className:"uiIconText _3l6h"},c('React').createElement(c('Image.react'),{src:j("86988")}),o)};function n(){k.apply(this,arguments)}n.propTypes={isViewerSender:m.bool,senderName:m.oneOfType([m.string,m.object])};f.exports=n}),null);
__d('MercuryVideoShareSnippet.react',['cx','fbt','ix','Image.react','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;n.prototype.render=function(){var o=this.props.isViewerSender?i._("You sent a video."):i._("{sender name} sent a video.",[i.param('sender name',this.props.senderName)]);return c('React').createElement('span',{className:"uiIconText _3l6h"},c('React').createElement(c('Image.react'),{src:j("82423")}),o)};function n(){k.apply(this,arguments)}n.propTypes={isViewerSender:m.bool,senderName:m.oneOfType([m.string,m.object])};f.exports=n}),null);
__d('MessengerLightweightActionSnippet.react',['cx','MercuryShareAttachmentReactShape','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.render=function(){return c('React').createElement('span',{className:"_3l6h"},this.props.attachment.title)};function k(){i.apply(this,arguments)}k.propTypes={attachment:c('MercuryShareAttachmentReactShape')};f.exports=k}),null);
__d('P2PMercuryAttachmentSnippetRendererBase.react',['cx','ix','Image.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){return c('React').createElement('span',{className:"uiIconText _3l6h _3_io"},c('React').createElement(c('Image.react'),{height:12,src:i("94348"),width:12}),this.props.text)};function m(){j.apply(this,arguments)}m.propTypes={text:l.node};f.exports=m}),null);
__d('P2PMercuryAttachmentSnippet.react',['CurrentUser','MercuryAttachmentSnippetRenderer','P2PMercuryAttachmentSnippetRendererBase.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){var l=c('MercuryAttachmentSnippetRenderer').renderP2PPaymentSnippetText(c('CurrentUser').getID()===this.props.sender.id,this.props.sender.name,this.props.amountWithSymbol,this.props.status,c('CurrentUser').getID()===this.props.receiver.id,this.props.receiver.name);return c('React').createElement(c('P2PMercuryAttachmentSnippetRendererBase.react'),{text:l})};function k(){h.apply(this,arguments)}k.propTypes={amountWithSymbol:j.string,receiver:j.object,sender:j.object,status:j.number};k.defaultProps={sender:{},receiver:{}};f.exports=k}),null);
__d('P2PMercuryShareAttachmentSnippet.react',['MercuryShareAttachmentReactShape','P2PMercuryAttachmentSnippet.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){var k=this.props.attachment?this.props.attachment.target:{};return c('React').createElement(c('P2PMercuryAttachmentSnippet.react'),k)};function j(){h.apply(this,arguments)}j.propTypes={attachment:c('MercuryShareAttachmentReactShape')};f.exports=j}),null);
__d('P2PPaymentRequestMercuryAttachmentSnippet.react',['CurrentUser','MercuryAttachmentSnippetRenderer','P2PMercuryAttachmentSnippetRendererBase.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){var l=c('MercuryAttachmentSnippetRenderer').renderP2PPaymentRequestSnippetText(c('CurrentUser').getID()===this.props.requester.id,this.props.requester.name,this.props.formattedAmount,this.props.status,c('CurrentUser').getID()===this.props.requestee.id,this.props.requestee.name);return c('React').createElement(c('P2PMercuryAttachmentSnippetRendererBase.react'),{text:l})};function k(){h.apply(this,arguments)}k.propTypes={formattedAmount:j.string.isRequired,requestee:j.object.isRequired,requester:j.object.isRequired,status:j.number.isRequired};f.exports=k}),null);
__d('P2PPaymentRequestMercuryShareAttachmentSnippet.react',['P2PMercuryAttachmentSnippetRendererBase.react','P2PPaymentRequestMercuryAttachmentSnippet.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){var k=this.props.attachment,l=k.target;if(!l)return c('React').createElement(c('P2PMercuryAttachmentSnippetRendererBase.react'),{text:k.title});return c('React').createElement(c('P2PPaymentRequestMercuryAttachmentSnippet.react'),{formattedAmount:l.amountWithSymbol,requestee:l.requestee,requester:l.requester,status:l.currentStatus})};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d('MercuryShareStyleMap',['cx','JSResource','Map','MercuryConfig','MercuryShareAttachmentRenderLocations','StoryAttachmentStyle','emptyFunction','MercuryFallbackShareAttachmentSnippet.react','P2PMercuryShareAttachmentSnippet.react','P2PPaymentRequestMercuryShareAttachmentSnippet.react','MercuryPromotionShareAttachmentSnippet.react','MessengerMomentsAppSnippet.react','MercuryPhotoShareSnippet.react','MercuryVideoShareSnippet.react','MercuryMessageLocationShareAttachmentSnippet.react','MercuryMessageLiveLocationShareAttachmentSnippet.react','MercuryAnimatedShareSnippet.react','MercurySaleGroupProductItemShareSnippet.react','MercuryTransactionInvoiceShareSnippet.react','MercuryPaymentPlatformSnippet.react','MercuryMusicIntegrationAttachmentSnippet.react','MercuryFundraiserShareSnippet.react','MercuryCrisisListingShareSnippet.react','MercuryMessengerInviteShareAttachmentSnippet.react','MessengerLightweightActionSnippet.react'],(function a(b,c,d,e,f,g,h){'use strict';var i=new (c('Map'))();i.set(c('StoryAttachmentStyle').FALLBACK,{componentName:'MercuryFallbackShareAttachment.react',componentLoader:c('JSResource')('MercuryFallbackShareAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function m(){return c('MercuryFallbackShareAttachmentSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d"]])});i.set(c('StoryAttachmentStyle').EVENT,{componentName:'MercuryEventShareAttachment.react',componentLoader:c('JSResource')('MercuryEventShareAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function m(){return c('MercuryFallbackShareAttachmentSnippet.react')}});var j={componentName:'P2PMercuryShareAttachmentContainer.react',componentLoader:c('JSResource')('P2PMercuryShareAttachmentContainer.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function m(){return c('P2PMercuryShareAttachmentSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _3-50"]])};i.set(c('StoryAttachmentStyle').ORION,j);i.set(c('StoryAttachmentStyle').PAYMENT_BUBBLE_VIEW,j);i.set(c('StoryAttachmentStyle').P2P_SERVER_BUBBLE,j);i.set(c('StoryAttachmentStyle').ORION_REQUEST,{componentName:'P2PPaymentRequestMercuryShareAttachmentContainer.react',componentLoader:c('JSResource')('P2PPaymentRequestMercuryShareAttachmentContainer.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function m(){return c('P2PPaymentRequestMercuryShareAttachmentSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _3-50"]])});i.set(c('StoryAttachmentStyle').RETAIL_RECEIPT,{componentName:'MNCommerceReceiptMercuryShareAttachment.react',componentLoader:c('JSResource')('MNCommerceReceiptMercuryShareAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _205d"]])});i.set(c('StoryAttachmentStyle').RETAIL_CANCELLATION,{componentName:'MNCommerceCancelationMercuryShareAttachment.react',componentLoader:c('JSResource')('MNCommerceCancelationMercuryShareAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _205d"]])});i.set(c('StoryAttachmentStyle').RETAIL_SHIPMENT,{componentName:'MNCommerceShippingMercuryShareAttachment.react',componentLoader:c('JSResource')('MNCommerceShippingMercuryShareAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _205d"]])});i.set(c('StoryAttachmentStyle').RETAIL_SHIPMENT_TRACKING_EVENT,{componentName:'MNCommerceShippingMercuryShareAttachment.react',componentLoader:c('JSResource')('MNCommerceShippingMercuryShareAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _205d"]])});i.set(c('StoryAttachmentStyle').RETAIL_NOW_IN_STOCK,{componentName:'MNCommerceProductSubscriptionMercuryShareAttachment.react',componentLoader:c('JSResource')('MNCommerceProductSubscriptionMercuryShareAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _205d"]])});i.set(c('StoryAttachmentStyle').RETAIL_PROMOTION,{componentName:'MNCommercePromotionMercuryShareAttachment.react',componentLoader:c('JSResource')('MNCommercePromotionMercuryShareAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _205d _28rg"]])});if(c('MercuryConfig').MessengerGamesGK){i.set(c('StoryAttachmentStyle').INSTANT_GAMES_SHARE_MESSAGE,{componentName:'MessengerGamesShareAttachment.react',componentLoader:c('JSResource')('MessengerGamesShareContainer.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _4niv _205d _28rg"]])});i.set(c('StoryAttachmentStyle').INSTANT_GAMES_SHARE_SCORE_MESSAGE,{componentName:'MessengerGamesScoreShareContainer.react',componentLoader:c('JSResource')('MessengerGamesScoreShareContainer.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _4niv _205d _28rg"]])})}i.set(c('StoryAttachmentStyle').RETAIL_ITEM,{componentName:'MNCommercePromotionMercuryShareAttachment.react',componentLoader:c('JSResource')('MNCommercePromotionMercuryShareAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _205d _28rg"]])});i.set(c('StoryAttachmentStyle').BUSINESS_MESSAGE_ITEMS,{componentName:'MNCommercePromotionMercuryShareAttachment.react',componentLoader:c('JSResource')('MNCommercePromotionMercuryShareAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function m(){return c('MercuryPromotionShareAttachmentSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _205d _28rg"]])});i.set(c('StoryAttachmentStyle').MESSENGER_PLATFORM_MEDIA_ATTACHMENT,{componentName:'MNCommercePromotionMercuryShareAttachment.react',componentLoader:c('JSResource')('MNCommercePromotionMercuryShareAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function m(){return c('MercuryPromotionShareAttachmentSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_205d _28rg _4jj7"]])});i.set(c('StoryAttachmentStyle').H_SCROLL,{componentName:'MNCommerceHScrollMessageAttachment.react',componentLoader:c('JSResource')('MNCommerceHScrollMessageAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function m(){return c('MercuryPromotionShareAttachmentSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _205d _8ka"]])});i.set(c('StoryAttachmentStyle').MESSENGER_PLATFORM_COMPACT_ITEM,{componentName:'MessengerPlatformVerticalListItemAttachment.react',componentLoader:c('JSResource')('MessengerPlatformVerticalListItemAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function m(){return c('MercuryPromotionShareAttachmentSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_205d _28rg"]])});i.set(c('StoryAttachmentStyle').MESSENGER_PLATFORM_COVER_ITEM,{componentName:'MessengerPlatformVerticalListItemAttachment.react',componentLoader:c('JSResource')('MessengerPlatformVerticalListItemAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function m(){return c('MercuryPromotionShareAttachmentSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_205d _28rg"]])});i.set(c('StoryAttachmentStyle').MESSENGER_PLATFORM_BUTTON_LIST,{componentName:'MNCommercePromotionMercuryShareAttachment.react',componentLoader:c('JSResource')('MNCommercePromotionMercuryShareAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function m(){return c('MercuryPromotionShareAttachmentSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_205d _28rg"]])});i.set(c('StoryAttachmentStyle').VERTICAL_ATTACHMENT_LIST,{componentName:'MessengerPlatformVerticalListAttachment.react',componentLoader:c('JSResource')('MessengerPlatformVerticalListAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function m(){return c('MercuryPromotionShareAttachmentSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_205d"]])});if(c('MercuryConfig').WWWMessengerTransportationGK){i.set(c('StoryAttachmentStyle').RIDE_ORDERED,{componentName:'MNTransportationRideConfirmationMercuryAttachment.react',componentLoader:c('JSResource')('MNTransportationRideConfirmationMercuryAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function m(){return c('MercuryPromotionShareAttachmentSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _205d"]])});i.set(c('StoryAttachmentStyle').RIDE_RECEIPT,{componentName:'MNTransportationRideReceiptMercuryAttachment.react',componentLoader:c('JSResource')('MNTransportationRideReceiptMercuryAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function m(){return c('MercuryPromotionShareAttachmentSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _205d"]])})}i.set(c('StoryAttachmentStyle').AIRLINE_UPDATE,{componentName:'MNAirlineUpdateMercuryAttachment.react',componentLoader:c('JSResource')('MNAirlineUpdateMercuryAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _205d _8kb"]])});i.set(c('StoryAttachmentStyle').AIRLINE_ITINERARY,{componentName:'MNAirlineItineraryMercuryAttachment.react',componentLoader:c('JSResource')('MNAirlineItineraryMercuryAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _205d _8kb"]])});i.set(c('StoryAttachmentStyle').AIRLINE_CHECKIN_REMINDER,{componentName:'MNAirlineCheckInMercuryAttachment.react',componentLoader:c('JSResource')('MNAirlineCheckInMercuryAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _205d _8kb"]])});i.set(c('StoryAttachmentStyle').AIRLINE_BOARDING_PASS,{componentName:'MNAirlineBoardingPassMercuryAttachment.react',componentLoader:c('JSResource')('MNAirlineBoardingPassMercuryAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _205d _8kb"]])});if(c('MercuryConfig').WWWMessengerMoneyPennyGK)i.set(c('StoryAttachmentStyle').RETAIL_AGENT_ITEM_SUGGESTION,{componentName:'MNCommerceAgentItemSuggestionMercuryShareAttachment.react',componentLoader:c('JSResource')('MNCommerceAgentItemSuggestionMercuryShareAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _205d"]])});var k={componentName:'MessengerMomentsAppShareAttachment.react',componentLoader:c('JSResource')('MessengerMomentsAppShareAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function m(){return c('MessengerMomentsAppSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d"]])};i.set(c('StoryAttachmentStyle').MOMENTS_APP_INVITATION,k);i.set(c('StoryAttachmentStyle').MOMENTS_APP_PHOTO_REQUEST,k);i.set(c('StoryAttachmentStyle').GENIE_MESSAGE,{componentName:'GenieMessageShareAttachment.react',componentLoader:c('JSResource')('GenieMessageShareAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_2wrf"]]),getSnippetComponent:function m(){return c('MercuryFallbackShareAttachmentSnippet.react')}});i.set(c('StoryAttachmentStyle').MOVIE_BOT_MOVIE_LIST,{componentName:'MovieBotMovieListShareAttachment.react',componentLoader:c('JSResource')('MovieBotMovieListShareAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d"]])});i.set(c('StoryAttachmentStyle').MOVIE_BOT_MOVIE_SHOWTIME_LIST,{componentName:'MovieBotMovieShowtimeListShareAttachment.react',componentLoader:c('JSResource')('MovieBotMovieShowtimeListShareAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d"]])});i.set(c('StoryAttachmentStyle').SHARE_LARGE_IMAGE,{componentName:'MercuryShareLargeImageAttachment.react',componentLoader:c('JSResource')('MercuryShareLargeImageAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function m(){return c('MercuryPhotoShareSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d"]]),unwrapInStory:c('emptyFunction').thatReturnsTrue});i.set(c('StoryAttachmentStyle').IMAGE_SHARE,{componentName:'MercuryImageShareAttachment.react',componentLoader:c('JSResource')('MercuryImageShareAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function m(){return c('MercuryPhotoShareSnippet.react')},unwrapInStory:c('emptyFunction').thatReturnsTrue});i.set(c('StoryAttachmentStyle').VIDEO,{componentName:'MercuryVideoShareAttachment.react',componentLoader:c('JSResource')('MercuryVideoShareAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function m(){return c('MercuryVideoShareSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_3duc"]]),unwrapInStory:c('emptyFunction').thatReturnsTrue});i.set(c('StoryAttachmentStyle').MESSAGE_LOCATION,{componentName:'MercuryMessageLocationShareAttachment.react',componentLoader:c('JSResource')('MercuryMessageLocationShareAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function m(){return c('MercuryMessageLocationShareAttachmentSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d"]])});i.set(c('StoryAttachmentStyle').MESSAGE_LIVE_LOCATION,{componentName:'MercuryMessageLiveLocationShareAttachment.react',componentLoader:c('JSResource')('MercuryMessageLiveLocationShareAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function m(){return c('MercuryMessageLiveLocationShareAttachmentSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d"]])});i.set(c('StoryAttachmentStyle').ANIMATED_IMAGE_SHARE,{componentName:'MercuryAnimatedShareAttachment.react',componentLoader:c('JSResource')('MercuryAnimatedShareAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function m(){return c('MercuryAnimatedShareSnippet.react')},unwrapInStory:c('emptyFunction').thatReturnsFalse});i.set(c('StoryAttachmentStyle').GROUP_SELL_PRODUCT_ITEM,{componentName:'MercurySaleGroupProductItemShareAttachment.react',componentLoader:c('JSResource')('MercurySaleGroupProductItemShareAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function m(){return c('MercurySaleGroupProductItemShareSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d"]]),unwrapInStory:c('emptyFunction').thatReturnsTrue});i.set(c('StoryAttachmentStyle').COMMERCE_PRODUCT_ITEM,{componentName:'MercuryCommerceProductItemShareAttachment.react',componentLoader:c('JSResource')('MercuryCommerceProductItemShareAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function m(){return c('MercuryFallbackShareAttachmentSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d"]]),unwrapInStory:c('emptyFunction').thatReturnsTrue});i.set(c('StoryAttachmentStyle').TRANSACTION_INVOICE,{componentName:'MercuryTransactionInvoiceShareAttachment.react',componentLoader:c('JSResource')('MercuryTransactionInvoiceShareAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function m(){return c('MercuryTransactionInvoiceShareSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d"]]),unwrapInStory:c('emptyFunction').thatReturnsTrue});i.set(c('StoryAttachmentStyle').PAYMENT_PLATFORM,{componentName:'MercuryPaymentPlatformShareAttachment.react',componentLoader:c('JSResource')('MercuryPaymentPlatformShareAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function m(){return c('MercuryPaymentPlatformSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d"]])});i.set(c('StoryAttachmentStyle').FINANCIAL_BILL_PAYMENT_REQUEST,{componentName:'MNBillPaymentRequestMercuryShareAttachment.react',componentLoader:c('JSResource')('MNBillPaymentRequestMercuryShareAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _205d"]])});i.set(c('StoryAttachmentStyle').MUSIC_AGGREGATION,{componentName:'MercuryMusicAttachment.react',componentLoader:c('JSResource')('MercuryMusicAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function m(){return c('MercuryConfig').MEMI?c('MercuryMusicIntegrationAttachmentSnippet.react'):c('MercuryFallbackShareAttachmentSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d"+(c('MercuryConfig').MEMI?' '+"_4p_r":'')]])});i.set(c('StoryAttachmentStyle').VIDEO_SHARE_YOUTUBE,{componentName:'MercuryVideoShareYoutubeAttachment.react',componentLoader:c('JSResource')('MercuryVideoShareYoutubeAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d"]])});i.set(c('StoryAttachmentStyle').RTC_CALL_LOG,{componentName:'MercuryRTCShareAttachment.react',componentLoader:c('JSResource')('MercuryRTCShareAttachment.react').__setRef('MercuryShareStyleMap')});i.set(c('StoryAttachmentStyle').FUNDRAISER_PERSON_FOR_PERSON,{componentName:'MercuryFundraiserAttachment.react',componentLoader:c('JSResource')('MercuryFundraiserAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function m(){return c('MercuryFundraiserShareSnippet.react')}});i.set(c('StoryAttachmentStyle').FUNDRAISER_PERSON_TO_CHARITY,{componentName:'MercuryFundraiserAttachment.react',componentLoader:c('JSResource')('MercuryFundraiserAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function m(){return c('MercuryFundraiserShareSnippet.react')}});i.set(c('StoryAttachmentStyle').CRISIS_LISTING,{componentName:'MercuryCrisisListingAttachment.react',componentLoader:c('JSResource')('MercuryCrisisListingAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function m(){return c('MercuryCrisisListingShareSnippet.react')}});i.set(c('StoryAttachmentStyle').MESSENGER_TEAM_BOT_SHARE,{componentName:'MessengerTeamBotShareAttachment.react',componentLoader:c('JSResource')('MessengerTeamBotShareAttachment.react').__setRef('MercuryShareStyleMap')});i.set(c('StoryAttachmentStyle').MESSENGER_INVITE,{componentName:'MercuryMessengerInviteShareAttachment.react',componentLoader:c('JSResource')('MercuryMessengerInviteShareAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_3thf"]]),getSnippetComponent:function m(){return c('MercuryMessengerInviteShareAttachmentSnippet.react')},unwrapInStory:c('emptyFunction').thatReturnsTrue});i.set(c('StoryAttachmentStyle').PAGES_PLATFORM_BOOKING_MESSAGE,{componentName:'PagesPlatformBookingMessageAttachment.react',componentLoader:c('JSResource')('PagesPlatformBookingMessageAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _3fk6"]]),unwrapInStory:c('emptyFunction').thatReturnsTrue});i.set(c('StoryAttachmentStyle').FRIEND_REQUEST,{componentName:'MercuryMessengerFriendRequestAttachment.react',componentLoader:c('JSResource')('MercuryMessengerFriendRequestAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d"]]),unwrapInStory:c('emptyFunction').thatReturnsTrue});i.set(c('StoryAttachmentStyle').CULTURAL_MOMENT_HOLIDAY_CARD,{componentName:'MercuryCulturalMomentHolidayCardAttachment.react',componentLoader:c('JSResource')('MercuryCulturalMomentHolidayCardAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_3duc"]]),unwrapInStory:c('emptyFunction').thatReturnsTrue});i.set(c('StoryAttachmentStyle').PAGES_PLATFORM_LEAD_GEN,{componentName:'PagesPlatformLeadGenMercuryShareAttachmentContainer.react',componentLoader:c('JSResource')('PagesPlatformLeadGenMercuryShareAttachmentContainer.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_b4_"]]),unwrapInStory:c('emptyFunction').thatReturnsTrue});i.set(c('StoryAttachmentStyle').LIGHTWEIGHT_ACTION,{componentName:'MessengerLightweightActionAttachment.react',componentLoader:c('JSResource')('MessengerLightweightActionAttachment.react').__setRef('MercuryShareStyleMap'),getSnippetComponent:function m(){return c('MessengerLightweightActionSnippet.react')},cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d"]])});i.set(c('StoryAttachmentStyle').JOB_SEARCH_JOB_APPLICATION,{componentName:'JobApplicationAttachmentContainer.react',componentLoader:c('JSResource')('JobApplicationAttachmentContainer.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _1zrz"]]),unwrapInStory:c('emptyFunction').thatReturnsTrue});i.set(c('StoryAttachmentStyle').EVENT_REMINDER,{componentName:'MercuryLightweightEventShareAttachment.react',componentLoader:c('JSResource')('MercuryLightweightEventShareAttachment.react').__setRef('MercuryShareStyleMap'),cx:new (c('Map'))([[c('MercuryShareAttachmentRenderLocations').MESSENGER,"_5i_d _1z7j"]])});i.set(c('StoryAttachmentStyle').PAGE_MESSENGER_ATTACHMENT,{componentName:'PageMessengerShareAttachment.react',componentLoader:c('JSResource')('PageMessengerShareAttachment.react').__setRef('MercuryShareStyleMap')});var l={getStyleFactory:function m(n){if(!n||!n.style_list)return null;if(n.style_list[0]===c('StoryAttachmentStyle').ATTACHED_STORY){var o=n.subattachments,p=o&&o.length?o[0].style_list:[],q=p.length?this._getStyleMapEntry(p):null,r=o[0];if(Array.isArray(p)&&p.find(function(u){return u===c('StoryAttachmentStyle').VIDEO})){var s={video_title:n.title,description:n.description,source:n.source};r=Object.assign({},o[0],s)}if(q&&q.unwrapInStory&&q.unwrapInStory())return {attachment:r,factory:q};}var t=this._getStyleMapEntry(n.style_list);if(!t)return null;return {attachment:n,factory:t}},_getStyleMapEntry:function m(n){for(var o=0;o<n.length;o++){var p=i.get(n[o]);if(p)return p;}return null}};f.exports=l}),null);
__d('MercuryShareAttachmentSnippet.react',['MercuryShareAttachmentReactShape','MercuryShareStyleMap','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){var l=c('MercuryShareStyleMap').getStyleFactory(this.props.attachment);if(l.factory&&!!l.factory.getSnippetComponent){var m=l.factory.getSnippetComponent();return c('React').createElement(m,babelHelpers['extends']({},this.props,{attachment:l.attachment}))}return null};function k(){h.apply(this,arguments)}k.propTypes={attachment:c('MercuryShareAttachmentReactShape'),isSenderViewer:j.bool,senderName:j.oneOfType([j.string,j.object])};f.exports=k}),null);
__d('MercuryAttachmentSnippet.react',['cx','ix','fbt','EmoticonsList','Image.react','MercuryAttachment','MercuryAttachmentSnippetRenderer','MercuryAttachmentSnippetType','MercuryAttachmentType','MercuryIDs','MercuryShareAttachmentSnippet.react','MessengerTextWithEmoticons.react','MercuryParticipants','React','StickerConstants','TextWithEmoticons.react','joinClasses'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=l.constructor).call.apply(q,[this].concat(t)),this.$MercuryAttachmentSnippet6=function(v){return this.$MercuryAttachmentSnippet17(c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').PHOTO,this.$MercuryAttachmentSnippet18,v,this.$MercuryAttachmentSnippet5))}.bind(this),this.$MercuryAttachmentSnippet7=function(v){return this.$MercuryAttachmentSnippet17(c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').GIF,this.$MercuryAttachmentSnippet18,v,this.$MercuryAttachmentSnippet5))}.bind(this),this.$MercuryAttachmentSnippet8=function(v){return this.$MercuryAttachmentSnippet17(c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').VIDEO,this.$MercuryAttachmentSnippet18,v))}.bind(this),this.$MercuryAttachmentSnippet9=function(v){return this.$MercuryAttachmentSnippet17(c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').AUDIO_CLIP,this.$MercuryAttachmentSnippet18,v))}.bind(this),this.$MercuryAttachmentSnippet15=function(v){return c('React').createElement('span',null,c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').THIRDPARTYSTICKER,this.$MercuryAttachmentSnippet18,v))}.bind(this),this.$MercuryAttachmentSnippet11=function(v){return c('React').createElement('span',null,c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').STICKER,this.$MercuryAttachmentSnippet18,v))}.bind(this),this.$MercuryAttachmentSnippet12=function(v){if(!!this.$MercuryAttachmentSnippet5[0].share)return c('React').createElement(c('MercuryShareAttachmentSnippet.react'),{attachment:this.$MercuryAttachmentSnippet5[0].share,senderName:v,isViewerSender:this.$MercuryAttachmentSnippet18});return this.$MercuryAttachmentSnippet17(c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').SHARE,this.$MercuryAttachmentSnippet18,v))}.bind(this),this.$MercuryAttachmentSnippet13=function(v){return c('React').createElement('span',null,c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').GIFT,this.$MercuryAttachmentSnippet18,v))}.bind(this),this.$MercuryAttachmentSnippet16=function(v){return c('React').createElement('span',null,this.$MercuryAttachmentSnippet5.filter(function(w){return w.attach_type===c('MercuryAttachmentType').FILE||w.attach_type===c('MercuryAttachmentType').PHOTO||w.attach_type===c('MercuryAttachmentType').VIDEO}).map(function(w,x){return this.$MercuryAttachmentSnippet17(w.name,w.icon_type,x)}.bind(this)))}.bind(this),this.$MercuryAttachmentSnippet17=function(v,w,x){var y=c('MercuryAttachment').getAttachIconClass(w||this.$MercuryAttachmentSnippet5[0].icon_type),z=c('joinClasses')(y,"uiIconText _3l6h");return c('React').createElement('span',{key:x},c('React').createElement('span',{className:z},c('React').createElement(c('Image.react'),{src:i("86988")})),v)}.bind(this),this.$MercuryAttachmentSnippet14=function(v){var w=c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').ERROR,this.$MercuryAttachmentSnippet18,v);return this.$MercuryAttachmentSnippet17(w)}.bind(this),this.$MercuryAttachmentSnippet2=function(v){this.$MercuryAttachmentSnippet19=v.viewer;this.$MercuryAttachmentSnippet20=v.thread.snippet_sender;this.$MercuryAttachmentSnippet5=v.thread.snippet_attachments;this.$MercuryAttachmentSnippet18=p(this.$MercuryAttachmentSnippet20,this.$MercuryAttachmentSnippet19)}.bind(this),this.$MercuryAttachmentSnippet1=function(v){if(!v)return;this.$MercuryAttachmentSnippet3();if(!c('MercuryParticipants').getNow(v))this.$MercuryAttachmentSnippet21=c('MercuryParticipants').get(v,function(w){return this.forceUpdate()}.bind(this));}.bind(this),this.$MercuryAttachmentSnippet3=function(){this.$MercuryAttachmentSnippet21&&this.$MercuryAttachmentSnippet21.remove()}.bind(this),r}n.prototype.componentWillMount=function(){this.$MercuryAttachmentSnippet1(this.props.thread.snippet_sender);this.$MercuryAttachmentSnippet2(this.props)};n.prototype.componentWillReceiveProps=function(q){this.$MercuryAttachmentSnippet1(q.thread.snippet_sender);this.$MercuryAttachmentSnippet2(q)};n.prototype.componentWillUnmount=function(){this.$MercuryAttachmentSnippet3()};n.prototype.render=function(){var q=this.$MercuryAttachmentSnippet4(),r=c('MercuryAttachmentSnippetRenderer').getAttachmentSnippetType(this.$MercuryAttachmentSnippet5);switch(r){case c('MercuryAttachmentSnippetType').PHOTO:return this.$MercuryAttachmentSnippet6(q);case c('MercuryAttachmentSnippetType').GIF:return this.$MercuryAttachmentSnippet7(q);case c('MercuryAttachmentSnippetType').VIDEO:return this.$MercuryAttachmentSnippet8(q);case c('MercuryAttachmentSnippetType').AUDIO_CLIP:return this.$MercuryAttachmentSnippet9(q);case c('MercuryAttachmentSnippetType').LIKE_STICKER:return this.$MercuryAttachmentSnippet10(q);case c('MercuryAttachmentSnippetType').STICKER:return this.$MercuryAttachmentSnippet11(q);case c('MercuryAttachmentSnippetType').SHARE:return this.$MercuryAttachmentSnippet12(q);case c('MercuryAttachmentSnippetType').GIFT:return this.$MercuryAttachmentSnippet13(q);case c('MercuryAttachmentSnippetType').ERROR:return this.$MercuryAttachmentSnippet14(q);case c('MercuryAttachmentSnippetType').THIRDPARTYSTICKER:return this.$MercuryAttachmentSnippet15(q);default:return this.$MercuryAttachmentSnippet16(q);}};n.prototype.$MercuryAttachmentSnippet10=function(q){var r=c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,text:c('EmoticonsList').symbols.like});if(this.$MercuryAttachmentSnippet18){return c('React').createElement('span',null,j._("You: {conversation_snippet}",[j.param('conversation_snippet',r)]))}else return this.props.thread.is_canonical?c('React').createElement('span',null,j._("{conversation_snippet}",[j.param('conversation_snippet',r)])):c('React').createElement('span',null,j._("{sender name}: {conversation_snippet}",[j.param('sender name',q),j.param('conversation_snippet',r)]));};n.prototype.$MercuryAttachmentSnippet4=function(){if(!this.$MercuryAttachmentSnippet20||this.$MercuryAttachmentSnippet18)return null;var q=c('MercuryParticipants').getNow(this.$MercuryAttachmentSnippet20);if(!q)return null;var r=c('MercuryIDs').getUserIDFromParticipantID(this.$MercuryAttachmentSnippet20),s=this.props.thread.custom_nickname&&this.props.thread.custom_nickname[r];if(s)s=c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:s});return s?s:q.short_name};n.propTypes={thread:m.object.isRequired,viewer:m.string.isRequired};function o(q){return q==c('StickerConstants').LIKE_STICKER_ID||q==c('StickerConstants').HOT_LIKE_SMALL_STICKER_ID||q==c('StickerConstants').HOT_LIKE_MEDIUM_STICKER_ID||q==c('StickerConstants').HOT_LIKE_LARGE_STICKER_ID}function p(q,r){return !!(q&&c('MercuryIDs').getParticipantIDFromUserID(r)==q)}f.exports=n}),null);
__d("AdPageMessageTypeEnum",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({AD_ADMIN_TEXT:"ad_admin_text",AD_TEXT:"ad_text",AD_BUBBLE:"ad_bubble"})}),null);
__d("MNAdsLoggerEventEnum",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LINK_CLICK:"messenger_ads_link_click",LINK_CLICK_CTA:"messenger_ads_link_click_cta",MESSAGE_SEEN_THREAD:"messenger_ads_message_seen_thread",MESSAGE_SEEN_INBOX:"messenger_ads_message_seen_inbox",MESSAGE_SEEN_REQUEST:"messenger_ads_message_seen_request"})}),null);
__d('MNAdsLogMessageUtils',['MercuryConfig','MessagingTag','MessengerAdsWebTypedLogger','MNAdsLoggerEventEnum','AdPageMessageTypeEnum'],(function a(b,c,d,e,f,g){'use strict';var h=c('MercuryConfig').LOG_INTERVAL_MS||60000;function i(){this.$MNAdsLogMessageUtils1={}}i.prototype.isLoggedWithinInterval=function(j){if(this.$MNAdsLogMessageUtils1[j]&&this.$MNAdsLogMessageUtils1[j]-Date.now()<h)return true;return false};i.prototype.setLoggingTime=function(j){this.$MNAdsLogMessageUtils1[j]=Date.now()};i.prototype.logAdsThreadListImpression=function(j){switch(j.folder){case c('MessagingTag').INBOX:this.logWithThreadMetaData(j,c('MNAdsLoggerEventEnum').MESSAGE_SEEN_INBOX);break;case c('MessagingTag').PENDING:this.logWithThreadMetaData(j,c('MNAdsLoggerEventEnum').MESSAGE_SEEN_REQUEST);break;default:return;}};i.prototype.logWithThreadMetaData=function(j,event){if(j.last_message_type!==c('AdPageMessageTypeEnum').NON_AD){var k=j.last_message_timestamp+String(event);if(!c('MercuryConfig').MercuryThreadListEnableImpressionLog||this.isLoggedWithinInterval(k))return;new (c('MessengerAdsWebTypedLogger'))().setEvent(event).setMessageTimestamp(j.last_message_timestamp).setPageID(j.other_user_fbid).log();this.setLoggingTime(k)}};f.exports=new i()}),null);
__d('MercuryThreadSnippet.react',['cx','fbt','immutable','MercuryAttachmentSnippet.react','MercuryIDs','MessengerTextWithEmoticons.react','MNAdsLogMessageUtils','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.shouldComponentUpdate=function(p){return this.props.shouldRenderYou!==p.shouldRenderYou||this.props.thread!==p.thread||this.props.viewer!==p.viewer||this.props.className!==p.className||!c('immutable').is(p.participants,this.props.participants)};m.prototype.render=function(){return c('React').createElement('span',{className:this.props.className},this.$MercuryThreadSnippet1(),this.$MercuryThreadSnippet2())};m.prototype.$MercuryThreadSnippet1=function(){if(!this.props.thread.snippet||!n(this.props.thread))return null;return c('React').createElement('span',{className:"_j0r"})};m.prototype.$MercuryThreadSnippet2=function(){var p=this.props.thread,q=c('MercuryIDs').getParticipantIDFromUserID(this.props.viewer),r=p.snippet,s=this.props.shouldRenderYou;if(p.snippetCount!=null)return i._({"*":"{number} results","_1":"1 result"},[i.plural(p.snippetCount,'number')]);if(p.snippet_attachments&&p.snippet_attachments.length>0||!p.snippet_sender)return this.$MercuryThreadSnippet3(r);var t=this.$MercuryThreadSnippet3(r);c('MNAdsLogMessageUtils').logAdsThreadListImpression(p);var u=o(p);if(u)return i._("{name}: {conversation_snippet}",[i.param('name',u),i.param('conversation_snippet',t)]);if(p.snippet_sender===q){if(!s)return t;return i._("You: {conversation_snippet}",[i.param('conversation_snippet',t)])}if(c('MercuryIDs').isCanonical(p.thread_id)&&!this.props.shouldAlwaysRenderSender)return t;var v=this.props.participants.get(p.snippet_sender);if(!v)return t;var w=v.short_name||v.name;if(p){var x=p.custom_nickname?p.custom_nickname:null,y=c('MercuryIDs').getUserIDFromParticipantID(v.id);if(x&&y&&x[y])w=c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:x[y]});}if(!w)return t;return i._("{name}: {conversation_snippet}",[i.param('name',w),i.param('conversation_snippet',t)])};m.prototype.$MercuryThreadSnippet3=function(p){if(p&&p.startsWith('?OTR'))return i._("[encrypted message]");if(p)return c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:p.replace(/\r\n|[\r\n]/g,' ')});var q=this.props.thread;if(n(q))return c('React').createElement(c('MercuryAttachmentSnippet.react'),{thread:q,viewer:this.props.viewer});return null};function m(){j.apply(this,arguments)}m.propTypes={participants:l.instanceOf(c('immutable').Map).isRequired,shouldAlwaysRenderSender:l.bool,shouldRenderYou:l.bool,thread:l.object.isRequired,viewer:l.string.isRequired};function n(p){return !!(p.snippet_attachments&&p.snippet_attachments.length>0)}function o(p){if(p&&p.snippet_attachments&&p.snippet_attachments[0]&&p.snippet_attachments[0].share&&p.snippet_attachments[0].share.target&&p.snippet_attachments[0].share.target.genie_name)return p.snippet_attachments[0].share.target.genie_name;return null}f.exports=m}),null);
__d('MercurySearchSnippetResults',['MessengerEnvironment','MercuryAPIArgsSource','MercuryIDs','MercurySingletonMixin','MercuryThreadlistConstants','MercuryThreadIDMap','RangedCallbackManager','MercuryServerDispatcher','MercuryServerPayloadPreprocessor'],(function a(b,c,d,e,f,g){var h=c('MessengerEnvironment').messengerui?c('MercuryAPIArgsSource').MESSENGER:c('MercuryAPIArgsSource').WEBMESSENGER,i={},j={},k=null,l=c('MercuryThreadlistConstants').WEBMESSENGER_SEARCH_SNIPPET_COUNT,m=c('MercuryThreadlistConstants').WEBMESSENGER_SEARCH_SNIPPET_LIMIT,n=c('MercuryThreadlistConstants').WEBMESSENGER_SEARCH_SNIPPET_MORE;function o(x){'use strict';this.$MercurySearchSnippetResults1=x;this.$MercurySearchSnippetResults2=c('MercuryServerPayloadPreprocessor').getForFBID(x);c('MercuryServerDispatcher').registerEndpoints({'/ajax/mercury/search_snippets.php':{request_user_id:x,mode:c('MercuryServerDispatcher').IMMEDIATE,handler:function(y){this.handleUpdate(y)}.bind(this)}});this.$MercurySearchSnippetResults3=c('MercuryThreadIDMap').getForFBID(x)}o.prototype.getFBID=function(){'use strict';return this.$MercurySearchSnippetResults1};o.prototype.getThreadIDMap=function(){'use strict';return this.$MercurySearchSnippetResults3};o.prototype.getAllThreadSearchResults=function(x,y){'use strict';if(x)p(this.$MercurySearchSnippetResults1,x,m,0,y);};o.prototype.getAllLocalThreadSearchResults=function(x,y){'use strict';if(x){var z=i[x];if(z){var aa=z.getCurrentArraySize();p(this.$MercurySearchSnippetResults1,x,0,aa,y)}}};o.prototype.getAllThreadSearchMoreResults=function(x,y){'use strict';if(x){var z=i[x];if(z){var aa=z.getCurrentArraySize();p(this.$MercurySearchSnippetResults1,x,n,aa,y)}}};o.prototype.getSingleThreadSearchResults=function(x,y,z){'use strict';if(!x||!y)return;q.call(this,x,y,l,0,z)};o.prototype.getSingleThreadSearchMoreResults=function(x,y,z){'use strict';if(!x||!y)return;if(!j[y])return;var aa=j[y][x];if(aa){var ba=aa.num_total_snippets,ca=aa.snippets_cbm.getCurrentArraySize(),da=ba-ca;if(da>0){var ea=da>n?n:da;q.call(this,x,y,ea,ca,z)}}};o.prototype.countSnippetsMatchingQueryInThread=function(x,y){'use strict';var z=j[y][x];if(z)return z.num_total_snippets;};o.prototype.findIndexOfSnippet=function(x,y,z,aa){'use strict';var ba=v(x,y),ca=ba.getAllResources();for(var da=0;da<ca.length;da++)if(z===ca[da].message_id)return da;};o.prototype.findSnippetAtIndex=function(x,y,z,aa){'use strict';s(x,y,z);t.call(this,x,y,z,aa)};o.prototype.handleUpdate=function(x){'use strict';if(x.mercury_payload)this.$MercurySearchSnippetResults2.handleUpdate(x.mercury_payload);var y=x.search_snippets||{};Object.keys(y).filter(function(oa){return !!y[oa]}).forEach(function(oa){Object.keys(y[oa]).forEach(function(pa){if(!y[oa][pa].snippets)return;y[oa][pa].snippets.forEach(function(qa){qa.matched_keywords=r(qa.matched_keywords)})})});var z=x.offset,aa=[];for(var ba in y){var ca=y[ba];for(var da in ca){var ea=ca[da],fa=x.other_user_fbid||x.thread_fbid,ga=this.$MercurySearchSnippetResults3.getClientIDFromServerIDNow(da),ha=ea.snippets,ia=v(ba,ga),ja=ia.getCurrentArraySize();if(!fa){aa.push(ga);if(ja)continue;}else if(z!=ja)continue;var ka=j[ga][ba];ka.num_total_snippets=ea.num_total_snippets;var la=ha?ha.length:0;if(la>0)ia.addResourcesWithoutSorting(ha,ja);if(!fa||x.limit>la)if(ia.getCurrentArraySize()==ka.num_total_snippets)ia.setReachedEndOfArray();}if(!fa){var ma=u(ba),na=ma.getCurrentArraySize();if(z==na){ma.addResourcesWithoutSorting(aa,na);if(x.limit>aa.length)ma.setReachedEndOfArray();}}}};function p(x,y,z,aa,ba){if(k)if(!k.thread_id){var ca=u(k.query);ca.unsubscribe(k.subscriber_id);k=null}var ca=u(y),da=aa+z,ea=ca.executeOrEnqueue(0,da,function(ha){var ia={};for(var ja=0;ja<ha.length;ja++){var ka=ha[ja],la=j[ka][y];ia[ka]={num_total_snippets:la.num_total_snippets,snippets:la.snippets_cbm.getAllResources()}}var ma=ca.hasReachedEndOfArray();ba(ia,ma)}),fa=ca.getUnavailableResources(ea);if(fa.length){k={query:y,thread_id:null,subscriber_id:ea};var ga={query:y,offset:aa,limit:z+1,snippetLimit:l};ga.identifier='thread_fbid';w(ga,x)}}function q(x,y,z,aa,ba){if(k)if(k.thread_id){var ca=v(k.query,k.thread_id);ca.unsubscribe(k.subscriber_id);k=null}var ca=v(x,y),da=aa+z,ea=ca.executeOrEnqueue(0,da,function(){var ka=ca.getAllResources(),la=j[y][x].num_total_snippets;ba(ka,la)}),fa=ca.getUnavailableResources(ea);if(fa.length){k={query:x,thread_id:y,subscriber_id:ea};var ga={query:x,snippetOffset:aa,snippetLimit:z},ha=this.getThreadIDMap().getServerIDFromClientIDNow(y),ia=c('MercuryIDs').tokenize(y),ja=ia.type;if(ja=='user'){ga.other_user_fbid=ha}else ga.thread_fbid=ha;ga.identifier='thread_fbid';w(ga,this.getFBID())}}function r(x){if(x instanceof Array){var y={};for(var z=0;z<x.length;z++)y[z.toString()]=x[z];return y}else return x;}function s(x,y,z){}function t(x,y,z,aa){var ba=j[y][x],ca=ba.snippets_cbm.getAllResources(),da=ba.num_total_snippets,ea=ca.length;if(z<ea){aa(ca[z].message_id);return}var fa=da-ea,ga=fa>n?n:fa;q.call(this,x,y,ga,ea,function(ha,ia){t.call(this,x,y,z,aa)})}function u(x){if(!i[x])i[x]=new (c('RangedCallbackManager'))();return i[x]}function v(x,y){if(!j[y])j[y]={};var z=j[y][x];if(!z){z={num_total_snippets:-1,snippets_cbm:new (c('RangedCallbackManager'))()};j[y][x]=z}return z.snippets_cbm}function w(x,y){x.client=h;c('MercuryServerDispatcher').trySend('/ajax/mercury/search_snippets.php',x,null,y)}Object.assign(o,c('MercurySingletonMixin'));f.exports=o}),null);
__d("QuicksilverSources",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FB_CANVAS:"fb_canvas",FB_FEED:"fb_feed",FB_FEED_EGO:"fb_ego_igyml",FB_FEED_SCREENSHOT:"fb_feed_screenshot",FB_SCORE_PASSED_NOTIF:"fb_score_passed_notif",FB_SEARCH:"big_blue_search",FB_FEED_IGYML_QP:"fb_qp_igyml",FB_FEED_NEW_RELEASES_QP:"fb_qp_new_releases",FB_FEED_PLAYING_WITH_FRIENDS_QP:"fb_qp_playing_with_friends",FB_FEED_PLAYED_RECENTLY_QP:"fb_qp_played_recently",FB_GROUP_COMPOSER:"fb_group_composer",FB_GROUP_GAMES_TAB:"fb_group_games_tab",FB_GROUP_MALL:"fb_group_mall",FB_GROUP_MALL_EGO:"fb_group_mall_ego",FB_GROUP_MALL_SCREENSHOT:"fb_group_mall_screenshot",FB_GROUP_NEWS_FEED:"fb_group_news_feed",FB_GROUP_NEWSFEED_SCREENSHOT:"fb_group_newsfeed_screenshot",FB_GROUP_RHC_LEADERBOARD:"fb_group_rhc_leaderboard",FB_GROUP_SCORE_PASSED_NOTIF:"fb_group_score_passed_notif",GAMEROOM_FEED_POST:"gameroom_feed_post",M_ME_LINK:"m_me_link",MESSENGER_ADMIN_MESSAGE:"admin_message",MESSENGER_CALL_TO_ACTION:"call_to_action",MESSENGER_COMPOSER:"composer",MESSENGER_GAME_EMOJI:"game_emoji",MESSENGER_GAME_SHARE:"game_share",MESSENGER_GAME_SCORE_SHARE:"game_score_share",MESSENGER_GAME_SEARCH:"search",MARKETPLACE:"marketplace",MOBILE_BOOKMARK:"mobile_bookmark",MSITE_BOOKMARK:"msite_bookmark",MSITE:"msite",EMBEDDED_PLAYER:"embedded_player",WWW_BOOKMARK:"www_bookmark",WWW_APP_CENTER_BROWSE:"www_app_center_browse",WWW_APP_CENTER_CHALLENGE:"www_app_center_challenge",WWW_APP_CENTER_MAIN:"www_app_center_main",WWW_LINK_SHARE:"www_link_share",UNKNOWN:"unknown"})}),null);
__d('messengerComposeViewHeaderReact',['bs_js_boolean','reasonReact','bs_js_null_undefined','MessengerComposeViewHeader.react'],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k,l,m,n,o,p,q){return c('reasonReact').wrapJsForReason(c('MessengerComposeViewHeader.react'),{className:c('bs_js_null_undefined').from_opt(i),forceHideClearButton:c('bs_js_boolean').to_js_boolean(j),onClear:c('bs_js_null_undefined').from_opt(k),onAddRecipient:l,onRemoveRecipient:m,onResize:n,recipients:o,viewer:p},q)}g.make=h}),null);
__d('messengerDialogReact',['utilsRe','reasonReact','bs_js_null_undefined','MessengerDialog.react','MessengerDialogTitle.react','MessengerDialogButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','MessengerDialogCancelButton.react'],(function a(b,c,d,e,f,g){'use strict';function h(w){if(w){switch(w[0]){case 0:return ["cancel"];case 1:return ["button"];case 2:return ["confirm"];}}else return 0;}function i(w){if(w){if(w[0]!==0){return ["secondary"]}else return ["primary"];}else return 0;}function j(w,x,y,z,aa,ba,ca,da){return c('reasonReact').wrapJsForReason(c('MessengerDialog.react'),{className:c('bs_js_null_undefined').from_opt(w),onToggle:x,repositionOnUpdate:c('utilsRe').optionBoolToNullUndefinedBoolean(y),shown:c('utilsRe').optionBoolToNullUndefinedBoolean(z),titleID:c('bs_js_null_undefined').from_opt(aa),type:c('bs_js_null_undefined').from_opt(ba),width:c('bs_js_null_undefined').from_opt(ca)},da)}var k=[j];function l(w,x,y){return c('reasonReact').wrapJsForReason(c('MessengerDialogHeader.react'),{className:c('bs_js_null_undefined').from_opt(w),id:c('bs_js_null_undefined').from_opt(x)},y)}var m=[l];function n(w,x){return c('reasonReact').wrapJsForReason(c('MessengerDialogTitle.react'),{className:c('bs_js_null_undefined').from_opt(w)},x)}var o=[n];function p(w,x,y){return c('reasonReact').wrapJsForReason(c('MessengerDialogFooter.react'),{className:c('bs_js_null_undefined').from_opt(w),leftContent:c('bs_js_null_undefined').from_opt(x)},y)}var q=[p];function r(w,x){return c('reasonReact').wrapJsForReason(c('MessengerDialogCancelButton.react'),{onClick:c('bs_js_null_undefined').from_opt(w)},x)}var s=[r];function t(w,x,y,z,aa,ba,ca,da,ea){return c('reasonReact').wrapJsForReason(c('MessengerDialogButton.react'),{action:c('bs_js_null_undefined').from_opt(h(w)),label:c('bs_js_null_undefined').from_opt(x),disabled:c('utilsRe').optionBoolToNullUndefinedBoolean(y),use:c('bs_js_null_undefined').from_opt(z),onClick:c('bs_js_null_undefined').from_opt(aa),type:c('bs_js_null_undefined').from_opt(i(ba)),className:c('bs_js_null_undefined').from_opt(ca),leftContent:c('bs_js_null_undefined').from_opt(da)},ea)}var u=[t],v=0;g.stringOfButtonAction=h;g.stringOfButtonType=i;g.Dialog=k;g.Header=m;g.Title=o;g.Footer=q;g.CancelButton=s;g.Button=u;g.Body=v}),null);
__d("MessageShareType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({IMAGE:"image",PLATFORM_SHARE_CTA:"platform_share_CTA"})}),null);
__d("XMessagingForwardAttachmentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/mercury\/attachments\/forward\/",{})}),null);
__d("XMessengerPlatformShareCTAController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/messages\/platform\/share\/",{})}),null);
__d('messengerForwardAttachmentDialogReact',['ix','cx','fbt','bs_block','bs_curry','React','immutable','imageReact','bs_js_boolean','CurrentUser','fbglyph','reasonReact','AsyncRequest','bs_js_primitive','MercuryLocalIDs','MessageShareType','messengerDialogReact','messengerSpinnerReact','messengerDialogBodyReact','messengerComposeViewHeaderReact','XMessengerPlatformShareCTAController','XMessagingForwardAttachmentController'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k=j._("Send"),l=c('reasonReact').reducerComponent("MessengerForwardAttachmentDialogReact");function m(s){return c('bs_block').__(0,[s])}function n(s){return c('bs_block').__(1,[s])}function o(){return 0}function p(s,t,u){new (c('AsyncRequest'))(s.getURIBuilder().getURI()).setMethod("POST").setHandler(u).setData(t).send();return 0}function q(s,t,u,v,w,x,y){var z=function da(ea,fa){if(ea){return 0}else return c('bs_curry')._1(t,0);},aa=function da(ea){if(ea.payload.success){return 2}else return c('bs_block').__(2,[c('bs_js_primitive').null_undefined_to_opt(ea.payload.error)]);},ba=function da(ea,fa){var ga={};fa[4][0].forEach(function(ia,ja,ka){ga[String(c('MercuryLocalIDs').generateOfflineThreadingID(undefined))]=ia.getUniqueID();return true});var ha=0;if(x&&u&&x[0]===c('MessageShareType').PLATFORM_SHARE_CTA){p(c('XMessengerPlatformShareCTAController'),{cta_id:s,message_id:u[0],recipient_map:ga},c('bs_curry')._1(fa[3],aa))}else ha=1;if(ha===1)p(c('XMessagingForwardAttachmentController'),{attachment_id:s,recipient_map:ga},c('bs_curry')._1(fa[3],aa));return c('bs_curry')._2(fa[3],function(){return 1},0)},ca=l.slice();ca[9]=function(da){var ea=da[4],fa=ea[2],ga=ea[1],ha;if(fa!==0){ha=c('React').createElement("div",undefined,c('reasonReact').element(0,0,c('messengerSpinnerReact').make(0,0,0,[])),c('React').createElement("span",{className:"_1e1n _3-99"},j._("Sending")))}else if(ga){var ia=h("141787");ha=c('React').createElement("div",{className:"_1e1n"},c('reasonReact').element(0,0,c('imageReact').make(0,0,[ia],0,0,0,0,[])),c('React').createElement("span",{className:"_3-99"},ga[0]))}else ha=null;return c('reasonReact').element(0,0,c('messengerDialogReact').Dialog[0](0,c('bs_curry')._1(da[0],z),0,[v],0,0,[560],[c('reasonReact').element(0,0,c('messengerDialogReact').Header[0](0,0,[c('reasonReact').element(0,0,c('messengerDialogReact').Title[0](0,[w]))])),c('reasonReact').element(0,0,c('messengerDialogBodyReact').make(0,[c('reasonReact').element(0,0,c('messengerComposeViewHeaderReact').make(["_1e1o"],0,[c('bs_curry')._1(da[3],o)],c('bs_curry')._1(da[3],m),c('bs_curry')._1(da[3],n),function(){return 0},ea[0],c('CurrentUser').getID(),[]))])),c('reasonReact').element(0,0,c('messengerDialogReact').Footer[0](0,[ha],[c('reasonReact').element(0,0,c('messengerDialogReact').CancelButton[0](0,[])),c('reasonReact').element(0,0,c('messengerDialogReact').Button[0]([2],[k],[+ea[0].isEmpty()||ea[2]],0,[c('bs_curry')._1(da[0],ba)],[0],0,0,[]))]))]))};ca[10]=function(){return [c('immutable').List([]),0,0]};ca[12]=function(da,ea){if(typeof da==="number"){switch(da){case 0:return c('bs_block').__(0,[[c('immutable').List([]),ea[1],ea[2]]]);case 1:return c('bs_block').__(0,[[ea[0],0,1]]);case 2:return c('bs_block').__(3,[[c('immutable').List([]),0,0],function(){return c('bs_curry')._1(t,0)}]);}}else switch(da.tag|0){case 0:return c('bs_block').__(0,[[ea[0].push(da[0]),ea[1],ea[2]]]);case 1:var fa=da[0];return c('bs_block').__(0,[[ea[0].filter(function(ga){return c('bs_js_boolean').to_js_boolean(+(ga!==fa))}),ea[1],ea[2]]]);case 2:return c('bs_block').__(0,[[ea[0],da[0],0]]);}};return ca}var r=c('reasonReact').wrapReasonForJs(l,function(s){return q(s.attachmentID,s.onClose,c('bs_js_primitive').null_undefined_to_opt(s.messageID),+s.shown,s.title,c('bs_js_primitive').null_undefined_to_opt(s.shareType),[])});g.sendButtonLabel=k;g.component=l;g.handleAddRecipient=m;g.handleRemoveRecipient=n;g.handleClear=o;g.sendData=p;g.make=q;g.jsComponent=r}),null);