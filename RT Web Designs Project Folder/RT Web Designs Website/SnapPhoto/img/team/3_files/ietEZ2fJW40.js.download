if (self.CavalryLogger) { CavalryLogger.start_js(["Wbx1V"]); }

__d('UFIFeedbackContext.react',['React','UFICentralUpdates','UFIFeedbackTargets'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$UFIFeedbackContext1=null,this.state={contextArgs:this.props.contextArgs,feedback:null},m}k.prototype.loadFeedbackTarget=function(l){if(!this.$UFIFeedbackContext1)this.$UFIFeedbackContext1=c('UFIFeedbackTargets').getFeedbackTarget(l,function(m){this.$UFIFeedbackContext1=null;this.setState({feedback:m})}.bind(this));};k.prototype.componentDidMount=function(){this.loadFeedbackTarget(this.state.contextArgs.ftentidentifier);this.ufiCentralUpdatesSubscriptions=[c('UFICentralUpdates').subscribe('feedback-updated',function(l,m){var n=this.state.contextArgs;if(n.ftentidentifier in m.updates)this.loadFeedbackTarget(n.ftentidentifier);}.bind(this))]};k.prototype.componentWillUnmount=function(){this.ufiCentralUpdatesSubscriptions.forEach(function(l){return l&&c('UFICentralUpdates').unsubscribe(l)});if(this.$UFIFeedbackContext1)c('UFIFeedbackTargets').unsubscribe(this.$UFIFeedbackContext1);};k.prototype.render=function(){if(this.state.feedback)return this.props.render(this.state.contextArgs,this.state.feedback);return null};k.propTypes={contextArgs:j.object.isRequired,render:j.func.isRequired};k.contextTypes={stores:j.object};f.exports=k}),null);
__d("XPubcontentRelatedVideoInlineController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/pubcontent\/related_video_inline\/",{fbvideo_id:{type:"Int",required:true},query_id:{type:"String",required:true},mf_story_key:{type:"String",required:true},root_video_id:{type:"Int"}})}),null);
__d('EntstreamAttachmentRelatedFBVideo',['csx','cx','Arbiter','AsyncRequest','AttachmentRelatedShareConstants','DOM','DOMQuery','Event','Parent','VideoPlayerReason','XPubcontentRelatedVideoInlineController','ge'],(function a(b,c,d,e,f,g,h,i){var j={addHoverListener:function k(l,m){var n=c('ge')(m),o=c('DOM').scry(n,"^div._3f-c")[0];c('Event').listen(o,'mouseover',this.doHover.bind(this,l));c('Event').listen(o,'mouseout',this.doHoverOut.bind(this,l))},addClickOutListener:function k(l,m){var n=c('ge')(m);c('Event').listen(n,'click',this.doHoverOut.bind(this,l))},doHover:function k(l){l.play(c('VideoPlayerReason').USER);l.mute()},doHoverOut:function k(l,m){l.pause(c('VideoPlayerReason').USER)},loadRelatedLSCInlineFBVideoAttachmentInRelatedCard:function k(l,m,n,o,p,q,r,s){var t=null;if(typeof m==='string'){t=c('ge')(m)}else t=m;if(!t)return;var u=null;if(typeof l==='string'){u=c('ge')(l)}else u=l;if(!u)return;c('Event').listen(u,'click',function(event){var v=event.srcElement?event.srcElement:event.target;if(v)for(var w in q){var x=c('ge')(q[w]);if(x&&c('DOMQuery').contains(x,v))return;}if(event.isDefaultRequested())return;event.preventDefault();var y=null;if(p){var z=c('DOM').scry(t,"^ul._5h5a")[0];if(!z)return;y=z.previousSibling}else y=u.children[0];setTimeout(function(){var aa=c('XPubcontentRelatedVideoInlineController').getURIBuilder();aa.setInt('fbvideo_id',n);aa.setString('query_id',r);aa.setString('mf_story_key',s);new (c('AsyncRequest'))().setURI(aa.getURI()).setRelativeTo(y).send()},1000)})},loadRelatedFBVideos:function k(l,m){var n=c('ge')(l);if(!n)return;var o="_4zdu",p=c('Parent').byClass(n,o);if(p)return;var q=c('Event').listen(n,'click',function(){q.remove();c('Arbiter').inform(c('AttachmentRelatedShareConstants').FBVIDEO_CLICK,{attachment:n,fbvideo_id:m})})}};f.exports=j}),null);
__d('UFIReactionsStandalone.react',['React','UFIDispatcher','UFIDispatcherContext.react','UFIFeedbackContext.react','UFIReactionsLinkImpl.react','UFIReactionStore'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.componentWillMount=function(){this.$UFIReactionsStandalone1=new (c('UFIDispatcher'))();this.$UFIReactionsStandalone2={UFIReactionStore:new (c('UFIReactionStore'))(this.$UFIReactionsStandalone1)}};j.prototype.componentWillUnmount=function(){this.$UFIReactionsStandalone2={};this.$UFIReactionsStandalone1=null};j.prototype.render=function(){if(this.$UFIReactionsStandalone1)return c('React').createElement(c('UFIDispatcherContext.react'),{dispatcher:this.$UFIReactionsStandalone1,stores:this.$UFIReactionsStandalone2},c('React').createElement(c('UFIFeedbackContext.react'),{contextArgs:this.props.contextArgs,render:function k(l,m){return c('React').createElement(c('UFIReactionsLinkImpl.react'),{contextArgs:l,nuxConfig:l.reactionsNuxConfig,reaction:m.viewerreaction,supportedReactions:m.supportedreactions,ftIdentifier:l.ftentidentifier})}}));return null};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d('getContextualLayerCursorOffset',[],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k){var l=i.getOrientation(),m=l.getPosition(),n=l.getAlignment(),o=i.getContent().getBoundingClientRect(),p=i.getContext().getBoundingClientRect(),q=j-p.left,r=k-p.top;switch(n){case 'left':q-=o.width;break;case 'center':q-=p.width*.5;break;case 'right':q-=p.width-o.width;break;default:throw new Error('invalid alignment');}switch(m){case 'above':r*=-1;break;case 'left':q+=o.width;r-=o.height*.5;break;case 'right':q-=o.width;r-=o.height*.5;break;case 'below':r-=p.height;break;default:throw new Error('invalid position');}return {offsetX:q,offsetY:r}}f.exports=h}),null);
__d("VideoChannel",[],(function a(b,c,d,e,f,g){var h=null,i={get:function j(){return h},set:function j(k){h=k}};f.exports=i}),null);
__d("VideoChannelLoggerEvents",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SESSION_START:"session_start",SESSION_PAUSE:"session_pause",SESSION_RESUME:"session_resume",SESSION_END:"session_end",IMPRESSION:"impression",VPV:"vpv",CLICK:"click",WATCH_SUMMARY:"watch_summary",FOLLOW:"follow",UNFOLLOW:"unfollow",SUBSCRIBE:"subscribe",SUBSCRIBE_SOME:"subscribe_some",UNSUBSCRIBE:"unsubscribe",PIN_TOPIC:"pin_topic",UNPIN_TOPIC:"unpin_topic",MARK_VISIT:"mark_visit",AUTO_ADVANCE:"auto_advance",STORY_FETCH_RESULTS:"story_fetch_results",FETCH_FIRST_STORY:"fetch_first_story_success",FETCH_STORIES_FROM_ENTQUERY:"fetch_stories_from_entquery",FETCH_STORIES_FORWARD:"fetch_stories_forward",FETCH_STORIES_BACKWARD:"fetch_stories_backward",FETCH_CHANNEL_PIVOTS:"fetch_channel_pivots_success",APPEND_CHANNEL_PIVOTS:"append_channel_pivots",FETCH_FIRST_STORY_SUCCESS:"fetch_first_story_success",FETCH_FIRST_STORY_ERROR:"fetch_first_story_error",FETCH_STORIES_FROM_ENTQUERY_SUCCESS:"fetch_stories_from_entquery_success",FETCH_STORIES_FROM_ENTQUERY_ERROR:"fetch_stories_from_entquery_error",FETCH_STORIES_FORWARD_SUCCESS:"fetch_stories_forward_success",FETCH_STORIES_FORWARD_ERROR:"fetch_stories_forward_error",FETCH_STORIES_BACKWARD_SUCCESS:"fetch_stories_backward_success",FETCH_STORIES_BACKWARD_ERROR:"fetch_stories_backward_error"})}),null);
__d("VideoChannelLoggerFields",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({DEPTH_LEVEL:"depth_level",EVENT_TARGET:"event_target",EVENT_TARGET_INFO:"event_target_info",ENTRY_POINT:"entry_point",ENTRY_POINT_TYPE:"entry_point_type",ENTRY_POINT_VALUE:"entry_point_value",EXIT_POINT_TYPE:"exit_point_type",EXIT_POINT_VALUE:"exit_point_value",FOLLOW_SURFACE:"follow_surface",EVENT:"event",HAS_STORY_FETCH_CURSOR:"has_story_fetch_cursor",IS_AD:"is_ad",IS_EMPLOYEE:"is_employee",IS_TEST_USER:"is_test_user",PERF_TIME_MS:"perf_time_ms",REQUEST_STATUS:"request_status",HAS_NEXT_PAGE:"has_next_page",POSITION_IN_CHANNEL:"position_in_channel",SESSION_ID:"session_id",SUBSCRIPTION_SURFACE:"subscription_surface",STORY_ID:"story_id",STORY_FETCH_COUNT:"story_fetch_count",STORY_FETCH_CURSOR:"story_fetch_cursor",STORY_FETCH_LIMIT:"story_fetch_limit",TIME_SINCE_START:"time_since_start",TRACKING_DATA:"tracking_data",VIDEO_ID:"video",VIDEO_ID_OVERRIDE:"video_id_override",VIDEO_CHAINING_CALLER:"video_chaining_caller",VIDEO_CHANNEL_ID:"video_channel_id",VIDEO_CHANNEL_TYPE:"video_channel_type",VIDEO_CHANNEL_TITLE:"video_channel_title",VIDEO_HOME_SESSION_ID:"video_home_session_id",WATCH_TIME_S:"watch_time_s"})}),null);
__d('VideoChannelLogger',['Arbiter','Banzai','BanzaiLogger','Run','VideoChannelLoggerEvents','VideoChannelLoggerFields','VideoChannelViewChainLengthManager','VideoChannelViewVariables'],(function a(b,c,d,e,f,g){var h=c('VideoChannelViewVariables').channelPivots,i=0,j=null,k=null,l=null,m=0,n=null,o={startSession:function p(q,r,s){j=r;l=s;k=q;c('Arbiter').inform('LogEnterChannel',r);c('VideoChannelViewChainLengthManager').registerVideoID(q,q);var t={};t[c('VideoChannelLoggerFields').EVENT]=c('VideoChannelLoggerEvents').SESSION_START;o.log(t);i=Date.now();c('Run').onLeave(o.endSession);c('Banzai').subscribe(c('Banzai').SHUTDOWN,o.endSession)},endSession:function p(){if(j){c('Arbiter').inform('LogExitChannel',j);var q={};q[c('VideoChannelLoggerFields').EVENT]=c('VideoChannelLoggerEvents').SESSION_END;o.log(q);j=null;k=null;l=null;n=null;i=0}},setOffset:function p(q){m=q},setPosition:function p(q){n=q},setChannel:function p(q){j=q},getPlayerLoggingData:function p(){if(!j)return {};return {video_channel_id:j,position_in_channel:n+m}},log:function p(q){var r=c('VideoChannelViewChainLengthManager').getLoggingData(k);q[c('VideoChannelLoggerFields').SESSION_ID]=r.video_chaining_session_id;if(!h)q[c('VideoChannelLoggerFields').VIDEO_CHANNEL_ID]=j;q[c('VideoChannelLoggerFields').VIDEO_CHAINING_CALLER]=l;if(!(c('VideoChannelLoggerFields').POSITION_IN_CHANNEL in q))q[c('VideoChannelLoggerFields').POSITION_IN_CHANNEL]=n+m;if(i){var s=Date.now()-i;q[c('VideoChannelLoggerFields').TIME_SINCE_START]=s+.001}c('BanzaiLogger').log('VideoChannelLoggerConfig',q)}};f.exports=o}),null);
__d("VideoChannelRequestStatus",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SUCCEEDED:"succeeded",FAILED:"failed",ABORTED:"aborted"})}),null);
__d("XVideoChannelViewAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/channel\/view\/async\/{id}\/",{id:{type:"String",required:true},original_video_id:{type:"String",required:true},cursor:{type:"String"},story_count:{type:"Int",defaultValue:3},caller:{type:"Enum",defaultValue:"channel_view_from_unknown",enumType:1}})}),null);
__d("XVideoChannelViewStoryAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/channel\/view\/story\/async\/{root_video_id}\/",{root_video_id:{type:"String",required:true},video_ids:{type:"StringVector",defaultValue:[]},use_video_placeholder:{type:"Bool",defaultValue:false},setup_interactions:{type:"Bool",defaultValue:false},is_first_story:{type:"Bool",defaultValue:false},feed_tracking_data:{type:"StringVector",defaultValue:[]},caller:{type:"Enum",defaultValue:"channel_view_from_unknown",enumType:1},channel_id:{type:"String"},ad_impression_token:{type:"String"},fetch_channel_pivots:{type:"Bool",defaultValue:false}})}),null);
__d('VideoChannelStoryFetcher',['AsyncRequest','HTML','VideoChannelLogger','VideoChannelLoggerEvents','VideoChannelLoggerFields','VideoChannelRequestStatus','VideoChannelViewVariables','XVideoChannelViewAsyncController','XVideoChannelViewStoryAsyncController'],(function a(b,c,d,e,f,g){var h=c('VideoChannelViewVariables').channelPivots;function i(j,k,l,m,n,o,p){'use strict';this.$VideoChannelStoryFetcher7=j;this.$VideoChannelStoryFetcher8=k;this.$VideoChannelStoryFetcher4=l;this.$VideoChannelStoryFetcher10=0;this.$VideoChannelStoryFetcher2=null;this.$VideoChannelStoryFetcher3=true;this.$VideoChannelStoryFetcher5=[];this.$VideoChannelStoryFetcher6=[];this.$VideoChannelStoryFetcher9={};if(n){this.$VideoChannelStoryFetcher5=n.videoIDs;this.$VideoChannelStoryFetcher6=n.feedTrackingData;this.$VideoChannelStoryFetcher2=n.cursorInfo.cursor;this.$VideoChannelStoryFetcher3=n.cursorInfo.hasNextPage;var q=this.$VideoChannelStoryFetcher5.indexOf(this.$VideoChannelStoryFetcher7);c('VideoChannelLogger').setOffset(q);this.$VideoChannelStoryFetcher9.start=q;this.$VideoChannelStoryFetcher9.end=q+1}if(o){this.$VideoChannelStoryFetcher5=o;this.$VideoChannelStoryFetcher3=!!p;var r=this.$VideoChannelStoryFetcher5.indexOf(this.$VideoChannelStoryFetcher7);c('VideoChannelLogger').setOffset(r);this.$VideoChannelStoryFetcher9.start=r;this.$VideoChannelStoryFetcher9.end=r+1}c('VideoChannelLogger').setPosition(0);this.$VideoChannelStoryFetcher11=m;this.$VideoChannelStoryFetcher12=[];this.$VideoChannelStoryFetcher13=[]}i.prototype.reset=function(j,k){'use strict';this.$VideoChannelStoryFetcher7=j;this.$VideoChannelStoryFetcher8=k;this.$VideoChannelStoryFetcher10=0;this.$VideoChannelStoryFetcher2=null;this.$VideoChannelStoryFetcher3=true;this.$VideoChannelStoryFetcher5=[];this.$VideoChannelStoryFetcher6=[];this.$VideoChannelStoryFetcher9={};this.$VideoChannelStoryFetcher12=[];this.$VideoChannelStoryFetcher13=[]};i.prototype.abandonRequest=function(){'use strict';this.$VideoChannelStoryFetcher1&&this.$VideoChannelStoryFetcher1.abandon()};i.prototype.hasNext=function(){'use strict';var j=this.$VideoChannelStoryFetcher5.length-this.$VideoChannelStoryFetcher9.end>0;return this.$VideoChannelStoryFetcher3||j};i.prototype.$VideoChannelStoryFetcher14=function(event,j,k){'use strict';var l={};l[c('VideoChannelLoggerFields').EVENT]=event;l[c('VideoChannelLoggerFields').REQUEST_STATUS]=j;l[c('VideoChannelLoggerFields').PERF_TIME_MS]=Date.now()-k;if(h)l[c('VideoChannelLoggerFields').VIDEO_CHANNEL_ID]=this.$VideoChannelStoryFetcher8;c('VideoChannelLogger').log(l)};i.prototype.fetchFirstStory=function(j,k,l){'use strict';if(k===null)if(this.$VideoChannelStoryFetcher5.length!==0){var m=this.$VideoChannelStoryFetcher5.indexOf(this.$VideoChannelStoryFetcher7);k=this.$VideoChannelStoryFetcher6[m]}var n=c('XVideoChannelViewStoryAsyncController').getURIBuilder().setEnum('caller',this.$VideoChannelStoryFetcher4).setStringVector('video_ids',[this.$VideoChannelStoryFetcher7]).setString('root_video_id',this.$VideoChannelStoryFetcher7).setBool('is_first_story',true).setBool('use_video_placeholder',j).setBool('setup_interactions',l).setString('channel_id',this.$VideoChannelStoryFetcher8).setString('ad_impression_token',this.$VideoChannelStoryFetcher11);if(k)n.setStringVector('feed_tracking_data',[JSON.stringify(k)]);var o=Date.now(),p=new (c('AsyncRequest'))(n.getURI()).setAllowCrossPageTransition(true).setHandler(function(){var q,r=this;this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_FIRST_STORY,c('VideoChannelRequestStatus').SUCCEEDED,o);this.$VideoChannelStoryFetcher15();if(h)(function(){var s=Date.now(),t=c('XVideoChannelViewStoryAsyncController').getURIBuilder().setEnum('caller',r.$VideoChannelStoryFetcher4).setStringVector('video_ids',[r.$VideoChannelStoryFetcher7]).setString('root_video_id',r.$VideoChannelStoryFetcher7).setString('channel_id',r.$VideoChannelStoryFetcher8).setBool('fetch_channel_pivots',true);if(k)t.setStringVector('feed_tracking_data',[JSON.stringify(k)]);var u=new (c('AsyncRequest'))(t.getURI()).setAllowCrossPageTransition(true).setHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_CHANNEL_PIVOTS,c('VideoChannelRequestStatus').SUCCEEDED,s);this.$VideoChannelStoryFetcher15()}.bind(r)).setErrorHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_CHANNEL_PIVOTS,c('VideoChannelRequestStatus').FAILED,s);this.$VideoChannelStoryFetcher15()}.bind(r)).setAbortHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_CHANNEL_PIVOTS,c('VideoChannelRequestStatus').ABORTED,s);this.$VideoChannelStoryFetcher15()}.bind(r));r.$VideoChannelStoryFetcher1=u;r.$VideoChannelStoryFetcher10=Date.now();u.send()})();}.bind(this)).setErrorHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_FIRST_STORY,c('VideoChannelRequestStatus').FAILED,o);this.$VideoChannelStoryFetcher15()}.bind(this)).setAbortHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_FIRST_STORY,c('VideoChannelRequestStatus').ABORTED,o);this.$VideoChannelStoryFetcher15()}.bind(this));this.$VideoChannelStoryFetcher1=p;this.$VideoChannelStoryFetcher10=Date.now();p.send()};i.prototype.getPreloadedData=function(){'use strict';return {stories:this.$VideoChannelStoryFetcher12,thumbnails:this.$VideoChannelStoryFetcher13}};i.prototype.$VideoChannelStoryFetcher16=function(j,k){'use strict';if(!this.$VideoChannelStoryFetcher8)return;var l=c('XVideoChannelViewAsyncController').getURIBuilder().setString('id',this.$VideoChannelStoryFetcher8).setEnum('caller',this.$VideoChannelStoryFetcher4).setString('original_video_id',this.$VideoChannelStoryFetcher7).setInt('story_count',j);if(this.$VideoChannelStoryFetcher2)l.setString('cursor',this.$VideoChannelStoryFetcher2.toString());var m=Date.now(),n=l.getURI(),o=new (c('AsyncRequest'))(n).setAllowCrossPageTransition(true).setHandler(function(p){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_FROM_ENTQUERY,c('VideoChannelRequestStatus').SUCCEEDED,m);this.$VideoChannelStoryFetcher2=p.getPayload().cursor;this.$VideoChannelStoryFetcher3=p.getPayload().hasNextPage;this.$VideoChannelStoryFetcher15();this.$VideoChannelStoryFetcher17(p,function(q,r){this.$VideoChannelStoryFetcher12=[].concat(this.$VideoChannelStoryFetcher12,q);this.$VideoChannelStoryFetcher13=[].concat(this.$VideoChannelStoryFetcher13,r);return k(q,r)}.bind(this))}.bind(this)).setErrorHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_FROM_ENTQUERY,c('VideoChannelRequestStatus').FAILED,m);this.$VideoChannelStoryFetcher15()}.bind(this)).setAbortHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_FROM_ENTQUERY,c('VideoChannelRequestStatus').ABORTED,m);this.$VideoChannelStoryFetcher15()}.bind(this));this.$VideoChannelStoryFetcher1=o;o.send()};i.prototype.$VideoChannelStoryFetcher18=function(j,k,l){var m,n=this;'use strict';var o=this.$VideoChannelStoryFetcher9.end,p=this.$VideoChannelStoryFetcher5.length-o,q=o+Math.min(p,j);if(p>0){(function(){var r=n.$VideoChannelStoryFetcher5.slice(o,q),s=n.$VideoChannelStoryFetcher6.slice(o,q).map(function(v){return JSON.stringify(v)}),t=c('XVideoChannelViewStoryAsyncController').getURIBuilder().setEnum('caller',n.$VideoChannelStoryFetcher4).setString('channel_id',n.$VideoChannelStoryFetcher8).setString('root_video_id',n.$VideoChannelStoryFetcher7).setStringVector('video_ids',r).setStringVector('feed_tracking_data',s),u=Date.now();n.$VideoChannelStoryFetcher1=new (c('AsyncRequest'))(t.getURI()).setAllowCrossPageTransition(true).setErrorHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_FORWARD,c('VideoChannelRequestStatus').FAILED,u);this.$VideoChannelStoryFetcher15()}.bind(n)).setAbortHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_FORWARD,c('VideoChannelRequestStatus').ABORTED,u);this.$VideoChannelStoryFetcher15()}.bind(n)).setHandler(function(v){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_FORWARD,c('VideoChannelRequestStatus').SUCCEEDED,u);this.$VideoChannelStoryFetcher9.end=q;this.$VideoChannelStoryFetcher15();this.$VideoChannelStoryFetcher17(v,function(w,x){this.$VideoChannelStoryFetcher12=[].concat(this.$VideoChannelStoryFetcher12,w);this.$VideoChannelStoryFetcher13=[].concat(this.$VideoChannelStoryFetcher13,x);return k(w,x)}.bind(this))}.bind(n));n.$VideoChannelStoryFetcher1.send();if(l)l(p);})()}else if(this.$VideoChannelStoryFetcher3){this.$VideoChannelStoryFetcher16(j,k);if(l)l(j);}};i.prototype.$VideoChannelStoryFetcher19=function(j,k,l){var m,n=this;'use strict';var o=this.$VideoChannelStoryFetcher9.start;if(o>0)(function(){var p=Math.max(o-j,0),q=n.$VideoChannelStoryFetcher5.slice(p,o),r=n.$VideoChannelStoryFetcher6.slice(p,o).map(function(u){return JSON.stringify(u)}),s=c('XVideoChannelViewStoryAsyncController').getURIBuilder().setEnum('caller',n.$VideoChannelStoryFetcher4).setString('channel_id',n.$VideoChannelStoryFetcher8).setString('root_video_id',n.$VideoChannelStoryFetcher7).setStringVector('video_ids',q).setStringVector('feed_tracking_data',r),t=Date.now();n.$VideoChannelStoryFetcher1=new (c('AsyncRequest'))(s.getURI()).setAllowCrossPageTransition(true).setErrorHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_BACKWARD,c('VideoChannelRequestStatus').FAILED,t);this.$VideoChannelStoryFetcher15()}.bind(n)).setAbortHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_BACKWARD,c('VideoChannelRequestStatus').ABORTED,t);this.$VideoChannelStoryFetcher15()}.bind(n)).setHandler(function(u){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_BACKWARD,c('VideoChannelRequestStatus').SUCCEEDED,t);this.$VideoChannelStoryFetcher9.start=p;this.$VideoChannelStoryFetcher15();this.$VideoChannelStoryFetcher17(u,k)}.bind(n));n.$VideoChannelStoryFetcher1.send();if(l)l(o-p);})();};i.prototype.fetchStories=function(j,k,l){'use strict';var m=c('VideoChannelViewVariables').defaultStoriesToLoad;if(this.$VideoChannelStoryFetcher1)return;if(j){this.$VideoChannelStoryFetcher18(m,k,l)}else this.$VideoChannelStoryFetcher19(m,k,l);};i.prototype.$VideoChannelStoryFetcher17=function(j,k){'use strict';var l=j.getPayload(),m=c('HTML').replaceJSONWrapper(l.stories).getNodes(),n=l.thumbnails.map(function(o){return c('HTML').replaceJSONWrapper(o).getRootNode()});k(m,n)};i.prototype.$VideoChannelStoryFetcher15=function(){'use strict';this.$VideoChannelStoryFetcher1=null};f.exports=i}),null);
__d('FeedVideoClickToPlayController',['Event','Set','setImmediate','VideoPlayerAbortLoadingExperiment','VideoPlayerExperiments','VideoPlayerReason','destroyOnUnload','throttle'],(function a(b,c,d,e,f,g){var h=null;function i(){'use strict';this.$FeedVideoClickToPlayController3=new (c('Set'))();this.$FeedVideoClickToPlayController2=null;this.$FeedVideoClickToPlayController1=null;c('destroyOnUnload')(function(){this.$FeedVideoClickToPlayController3.clear();if(this.$FeedVideoClickToPlayController2){this.$FeedVideoClickToPlayController2.remove();this.$FeedVideoClickToPlayController2=null}if(this.$FeedVideoClickToPlayController1){this.$FeedVideoClickToPlayController1.remove();this.$FeedVideoClickToPlayController1=null}if(this===h)h=null;}.bind(this))}i.prototype.addVideoUnit=function(j){'use strict';if(!this.$FeedVideoClickToPlayController4())this.$FeedVideoClickToPlayController5();if(!this.$FeedVideoClickToPlayController6())this.$FeedVideoClickToPlayController7();j.addListener('beginPlayback',function(k){var l=k.reason;if(l===c('VideoPlayerReason').USER||l===c('VideoPlayerReason').LOOP)this.$FeedVideoClickToPlayController3.add(j);}.bind(this));j.addListener('turnOffAutoplay',function(k){var l=k.reason;if(l==='unmuted')this.$FeedVideoClickToPlayController3.add(j);}.bind(this));if(j.getVideoPlayerController().isState('playing')&&!j.isAutoplayable())this.$FeedVideoClickToPlayController3.add(j);j.addListener('pausePlayback',function(){this.$FeedVideoClickToPlayController3['delete'](j)}.bind(this));j.addListener('finishPlayback',function(){this.$FeedVideoClickToPlayController3['delete'](j)}.bind(this))};i.registerVideoUnit=function(j){'use strict';if(h==null)h=new i();h.addVideoUnit(j)};i.prototype.$FeedVideoClickToPlayController5=function(){'use strict';if(this.$FeedVideoClickToPlayController2)this.$FeedVideoClickToPlayController2.remove();this.$FeedVideoClickToPlayController2=c('Event').listen(window,'scroll',c('throttle')(this.onWindowEvent.bind(this),200))};i.prototype.$FeedVideoClickToPlayController7=function(){'use strict';if(this.$FeedVideoClickToPlayController1)this.$FeedVideoClickToPlayController1.remove();this.$FeedVideoClickToPlayController1=c('Event').listen(window,'resize',c('throttle')(this.onWindowEvent.bind(this),200))};i.prototype.$FeedVideoClickToPlayController4=function(){'use strict';return !!this.$FeedVideoClickToPlayController2};i.prototype.$FeedVideoClickToPlayController6=function(){'use strict';return !!this.$FeedVideoClickToPlayController1};i.prototype.$FeedVideoClickToPlayController8=function(j){'use strict';j.pause(c('VideoPlayerReason').AUTOPLAY);if(c('VideoPlayerAbortLoadingExperiment').canAbort)j.abortLoading();this.$FeedVideoClickToPlayController3['delete'](j)};i.prototype.onWindowEvent=function(){'use strict';this.$FeedVideoClickToPlayController3.forEach(function(j){if(j&&!j.isVisible()&&!j.getIsInChannel()){var k=j.getVideoPlayerController();if(k.isAd()||c('VideoPlayerExperiments').pauseWhenOffscreen){if(c('VideoPlayerExperiments').slidingWNSv3){c('setImmediate')(function(){if(j&&!j.isVisible()&&!j.getIsInChannel())this.$FeedVideoClickToPlayController8(j);}.bind(this))}else this.$FeedVideoClickToPlayController8(j);}else if(k.isMuted()&&k.isState('playing')){this.$FeedVideoClickToPlayController8(j);k.emit('resumeAutoplay')}}}.bind(this))};f.exports=i}),null);
__d('VideoClickForMoreOverlay',['cx','CSS','EventListener','VideoPlayerLoggerSource','VideoPlayerUIComponentDrawer','DOM'],(function a(b,c,d,e,f,g,h){function i(j,k,l){'use strict';this.$VideoClickForMoreOverlay1=j;this.$VideoClickForMoreOverlay2=k;this.$VideoClickForMoreOverlay3=false;this.$VideoClickForMoreOverlay4=this.$VideoClickForMoreOverlay1.registerDrawer(c('VideoPlayerUIComponentDrawer').priorities.ClickForMore,l?i.REDESIGN_HEIGHT:i.DEFAULT_HEIGHT);this.$VideoClickForMoreOverlay4.addListener('reposition',this.$VideoClickForMoreOverlay5.bind(this));this.$VideoClickForMoreOverlay1.addListener('VideoControls/visibilityUpdate',function(n){var o=n.areControlsVisible;return this.$VideoClickForMoreOverlay6(o)}.bind(this));var m=this.$VideoClickForMoreOverlay1.getOption('VideoControls','areControlsVisible');if(m)this.$VideoClickForMoreOverlay6(m);this.$VideoClickForMoreOverlay1.addListener('stateChange',this.$VideoClickForMoreOverlay7.bind(this));c('EventListener').listen(this.$VideoClickForMoreOverlay2,'click',function(){return this.$VideoClickForMoreOverlay8()}.bind(this))}i.prototype.$VideoClickForMoreOverlay5=function(j){'use strict';c('DOM').setAttributes(this.$VideoClickForMoreOverlay2,{style:'bottom:'+j+'px;'})};i.prototype.$VideoClickForMoreOverlay6=function(j){'use strict';this.$VideoClickForMoreOverlay3=j;this.$VideoClickForMoreOverlay7()};i.prototype.$VideoClickForMoreOverlay7=function(){'use strict';var j=!this.$VideoClickForMoreOverlay1.isPlayerVersion('silvercity')&&!this.$VideoClickForMoreOverlay1.getIsInChannel()&&this.$VideoClickForMoreOverlay1.getSource()!==c('VideoPlayerLoggerSource').TAHOE&&this.$VideoClickForMoreOverlay1.isState('playing');if(j&&this.$VideoClickForMoreOverlay3){this.$VideoClickForMoreOverlay9()}else this.$VideoClickForMoreOverlay10();};i.prototype.$VideoClickForMoreOverlay8=function(){'use strict';this.$VideoClickForMoreOverlay1.clickVideo()};i.prototype.$VideoClickForMoreOverlay9=function(){'use strict';c('CSS').removeClass(this.$VideoClickForMoreOverlay2,"_2is8");this.$VideoClickForMoreOverlay4.reserve()};i.prototype.$VideoClickForMoreOverlay10=function(){'use strict';c('CSS').addClass(this.$VideoClickForMoreOverlay2,"_2is8");this.$VideoClickForMoreOverlay4.release()};i.DEFAULT_HEIGHT=18;i.REDESIGN_HEIGHT=38;f.exports=i}),null);
__d('FeedVideoPlayerController',['csx','Arbiter','AttachmentRelatedShareConstants','DOM','DOMQuery','LitestandStoryInsertionStatus','Run','Set','SubscriptionsHandler','VideoAutoplayPlayerBase','VideoPlayerApiEvents','VideoPlayerExperiments','VideoPlayerFallbackEvents','VideoPlayerLoggerErrors','VideoPlayerLoggerErrorStates','VideoPlayerLoggerEvent','VideoPlayerReason','VideoPlayerStates','getElementPosition','getViewportDimensions'],(function a(b,c,d,e,f,g,h){var i,j,k=42;i=babelHelpers.inherits(l,c('VideoAutoplayPlayerBase'));j=i&&i.prototype;function l(m,n){'use strict';j.constructor.call(this);this.$FeedVideoPlayerController1=n;this.$FeedVideoPlayerController2=m;this.$FeedVideoPlayerController3=new (c('Set'))();if(!this.$FeedVideoPlayerController1.viewport_autoplay)this.$FeedVideoPlayerController3.add('server_blocked');this.$FeedVideoPlayerController12=c('VideoPlayerExperiments').autoplayUntilHalfGone?.5:1;this.$FeedVideoPlayerController4=this.isAutoplayable();this.$FeedVideoPlayerController6=n.controller;this.$FeedVideoPlayerController10=n.startsMuted;this.$FeedVideoPlayerController7=this.isAutoplayable();if(this.$FeedVideoPlayerController6.getIsInChannel()||this.$FeedVideoPlayerController6.isState(c('VideoPlayerStates').PLAYING)&&!this.$FeedVideoPlayerController6.isMuted())this.$FeedVideoPlayerController7=false;this.$FeedVideoPlayerController6.registerOption('FeedAutoplay','isAutoplaying',function(){return this.$FeedVideoPlayerController7}.bind(this),function(o){this.$FeedVideoPlayerController7=o}.bind(this));this.$FeedVideoPlayerController6.registerOption('FeedAutoplay','isVisibleForAutoplay',function(){return this.isVisible()}.bind(this));this.$FeedVideoPlayerController6.registerOption('FeedAutoplay','shouldOpenSidePaneInChannelView',function(){return n.autoPlayWithChannelViewOrSnowlift});this.$FeedVideoPlayerController6.setLogEntryPropertyGetters({autoplay_eligible:function(){return this.isAutoplayable()}.bind(this),autoplay_failure_reasons:function(){return JSON.stringify(Array.from(this.$FeedVideoPlayerController3))}.bind(this)});this.$FeedVideoPlayerController13();c('Run').onLeave(function(){this.$FeedVideoPlayerController5.release()}.bind(this));if(this.isState(c('VideoPlayerStates').FALLBACK)){this.$FeedVideoPlayerController14();this.$FeedVideoPlayerController15();return}this.$FeedVideoPlayerController5.addSubscriptions(c('LitestandStoryInsertionStatus').registerBlocker(function(){return this.isState(c('VideoPlayerStates').PLAYING)}.bind(this)))}l.prototype.$FeedVideoPlayerController16=function(){'use strict';return this.$FeedVideoPlayerController6.isState(c('VideoPlayerStates').DESTROYED)};l.prototype.$FeedVideoPlayerController17=function(){'use strict';return !!this.$FeedVideoPlayerController1.show_play_button_on_finish};l.prototype.getDistanceToViewport=function(){'use strict';if(this.$FeedVideoPlayerController16())return -Infinity;if(this.$FeedVideoPlayerController6.isFullscreen())return 0;var m=c('getViewportDimensions')().height,n=this.getDOMPosition();if(n.height===0)return -Infinity;var o=n.y+(1-this.$FeedVideoPlayerController12)*n.height;return o-m/2};l.prototype.isVisible=function(){'use strict';if(this.$FeedVideoPlayerController16())return false;if(this.$FeedVideoPlayerController6.isFullscreen())return true;var m=c('getViewportDimensions')().height,n=c('getViewportDimensions')().width,o=this.getDOMPosition();if(o.height===0)return false;var p=o.y-k+(1-this.$FeedVideoPlayerController12)*o.height,q=o.y+this.$FeedVideoPlayerController12*o.height,r=o.x+(1-this.$FeedVideoPlayerController12)*o.width,s=o.x+this.$FeedVideoPlayerController12*o.width;if(p<0||q>=m||r<0||s>=n)return false;var t=this.$FeedVideoPlayerController18();if(t!==null)return this.$FeedVideoPlayerController19(o,c('getElementPosition')(t));return true};l.prototype.$FeedVideoPlayerController18=function(){'use strict';var m=c('DOMQuery').scry(this.$FeedVideoPlayerController2.video_container,"^div._1yj5");if(m.length>0)return m[0];return null};l.prototype.$FeedVideoPlayerController19=function(m,n){'use strict';var o=m.x,p=m.x+m.width,q=n.x,r=n.x+n.width;return q<o&&p<r};l.prototype.isAutoplayable=function(){'use strict';return this.$FeedVideoPlayerController1.viewport_autoplay&&!this.$FeedVideoPlayerController9&&!this.$FeedVideoPlayerController3.size};l.prototype.$FeedVideoPlayerController20=function(m){'use strict';if(this.$FeedVideoPlayerController4){this.$FeedVideoPlayerController4=false;this.$FeedVideoPlayerController6.unmute()}this.$FeedVideoPlayerController6.play(m)};l.prototype.getCurrentTimePosition=function(){'use strict';return this.$FeedVideoPlayerController6.getCurrentTimePosition()};l.prototype.playWithoutUnmute=function(m){'use strict';this.$FeedVideoPlayerController6.play(m)};l.prototype.getVideoID=function(){'use strict';return this.$FeedVideoPlayerController6.getVideoID()};l.prototype.$FeedVideoPlayerController21=function(){'use strict';this.$FeedVideoPlayerController15()};l.prototype.$FeedVideoPlayerController13=function(){'use strict';this.$FeedVideoPlayerController5=new (c('SubscriptionsHandler'))();var m=[['finishPlayback',function(){return this.$FeedVideoPlayerController22()}.bind(this)],['turnOffAutoplay',function(o){var p=null;if(o)p=o.reason;this.$FeedVideoPlayerController23(p)}.bind(this)],['unmuteVideo',function(){return this.$FeedVideoPlayerController24()}.bind(this)],['stateChange',function(){return this.$FeedVideoPlayerController25()}.bind(this)],['switchVideo',function(){return this.$FeedVideoPlayerController21()}.bind(this)],['fallbackPlay',function(){return this.$FeedVideoPlayerController26()}.bind(this)],['buffered',function(){return this.$FeedVideoPlayerController15()}.bind(this)],['buffering',function(){return this.$FeedVideoPlayerController15()}.bind(this)],['beginPlayback',function(o){var p=o.reason;return this.$FeedVideoPlayerController27(p)}.bind(this)],['toggleFullscreen',function(){return this.$FeedVideoPlayerController28()}.bind(this)],['resumeAutoplay',function(o){var p=null;if(o)p=o.reason;this.$FeedVideoPlayerController29(p)}.bind(this)]],n=function(event){return this.emit.bind(this,event)}.bind(this);this.$FeedVideoPlayerController5.addSubscriptions.apply(this.$FeedVideoPlayerController5,m.map(function(o){var p=o[0],q=o[1];return this.$FeedVideoPlayerController6.addListener(p,q)}.bind(this)).concat(c('VideoPlayerApiEvents').map(function(event){return this.$FeedVideoPlayerController6.addListener(event,n(event))}.bind(this))))};l.prototype.$FeedVideoPlayerController28=function(){'use strict';if(this.$FeedVideoPlayerController10)this.$FeedVideoPlayerController6.unmute();};l.prototype.$FeedVideoPlayerController25=function(){'use strict';if(this.$FeedVideoPlayerController16())return;if(this.$FeedVideoPlayerController6.isState(c('VideoPlayerStates').FALLBACK))this.$FeedVideoPlayerController14();if(!this.$FeedVideoPlayerController6.isState(c('VideoPlayerStates').LOADING)&&this.$FeedVideoPlayerController8){clearTimeout(this.$FeedVideoPlayerController8);this.$FeedVideoPlayerController8=null}this.$FeedVideoPlayerController15()};l.prototype.$FeedVideoPlayerController27=function(m){'use strict';if(m===c('VideoPlayerReason').USER&&this.$FeedVideoPlayerController10)this.$FeedVideoPlayerController6.unmute();};l.prototype.preload=function(){'use strict';if(this.$FeedVideoPlayerController6.preload)this.$FeedVideoPlayerController6.preload();};l.prototype.logDisplayed=function(){'use strict';this.$FeedVideoPlayerController6.logEvent(c('VideoPlayerLoggerEvent').DISPLAYED,{autoplay_reason:this.$FeedVideoPlayerController1.autoplay_reason})};l.prototype.$FeedVideoPlayerController26=function(){'use strict';var m={error:c('VideoPlayerLoggerErrors').ENTERED_FALLBACK,state:c('VideoPlayerLoggerErrorStates').PLAYBACK_FAILURE};this.$FeedVideoPlayerController6.logEvent(c('VideoPlayerLoggerEvent').ERROR,m)};l.prototype.$FeedVideoPlayerController24=function(){'use strict';if(c('VideoPlayerExperiments').slidingWNSv3&&this.$FeedVideoPlayerController6.isAd())this.$FeedVideoPlayerController12=.5;this.$FeedVideoPlayerController10=false;this.$FeedVideoPlayerController30();this.$FeedVideoPlayerController7=false};l.prototype.$FeedVideoPlayerController22=function(){'use strict';var m=this.$FeedVideoPlayerController6.getOption('Looping','isLooping');if(!m)this.$FeedVideoPlayerController31('has_seen_finished');};l.prototype.$FeedVideoPlayerController14=function(){'use strict';this.$FeedVideoPlayerController11={isAutoplaying:this.$FeedVideoPlayerController7,preventAutoplay:this.$FeedVideoPlayerController9};this.$FeedVideoPlayerController31(c('VideoPlayerStates').FALLBACK)};l.prototype.$FeedVideoPlayerController31=function(m){'use strict';this.$FeedVideoPlayerController9=true;if(m)this.$FeedVideoPlayerController3.add(m);this.$FeedVideoPlayerController7=false};l.prototype.$FeedVideoPlayerController29=function(m){'use strict';if(m){this.$FeedVideoPlayerController3['delete'](m)}else{this.$FeedVideoPlayerController3['delete']('unmuted');this.$FeedVideoPlayerController3['delete']('has_seen_finished');this.$FeedVideoPlayerController3['delete']('manually_paused')}this.$FeedVideoPlayerController9=this.$FeedVideoPlayerController3.size>0;this.$FeedVideoPlayerController7=!this.$FeedVideoPlayerController9};l.prototype.$FeedVideoPlayerController23=function(m){'use strict';this.$FeedVideoPlayerController31(m);this.$FeedVideoPlayerController7=false};l.prototype.$FeedVideoPlayerController15=function(){'use strict';this.$FeedVideoPlayerController32()};l.prototype.getDOMPosition=function(){'use strict';return this.$FeedVideoPlayerController6.getDOMPosition()};l.prototype.isLooping=function(){'use strict';return !!this.$FeedVideoPlayerController6.getOption('Looping','isLooping')};l.prototype.pause=function(m){'use strict';this.$FeedVideoPlayerController6.pause(m)};l.prototype.$FeedVideoPlayerController33=function(){'use strict';this.$FeedVideoPlayerController13();this.$FeedVideoPlayerController3['delete'](c('VideoPlayerStates').FALLBACK);this.$FeedVideoPlayerController7=this.$FeedVideoPlayerController11.isAutoplaying;this.$FeedVideoPlayerController9=this.$FeedVideoPlayerController11.preventAutoplay};l.prototype.$FeedVideoPlayerController32=function(){var m,n=this;'use strict';if(this.isState(c('VideoPlayerStates').FALLBACK)){this.$FeedVideoPlayerController5.release();var o=this.$FeedVideoPlayerController2;if(o.fallback_link){c('DOM').remove(this.$FeedVideoPlayerController6.getVideoNode());c('DOM').replace(o.video_container,o.fallback_link);c('DOM').appendContent(o.fallback_link,o.video_container)}if(this.$FeedVideoPlayerController6.isFallbackRecoverable()){this.$FeedVideoPlayerController33()}else (function(){var p=n.$FeedVideoPlayerController6.addListener(c('VideoPlayerFallbackEvents').RECOVER,function(){this.$FeedVideoPlayerController33();p.remove()}.bind(n))})();}};l.prototype.$FeedVideoPlayerController30=function(){'use strict';c('Arbiter').inform(c('AttachmentRelatedShareConstants').FBVIDEO_CLICK,{attachment:this.$FeedVideoPlayerController2.video_container,fbvideo_id:this.$FeedVideoPlayerController1.video_ids[0]})};l.prototype.isState=function(m){'use strict';return this.$FeedVideoPlayerController6.isState(m)};l.prototype.getSource=function(){'use strict';return this.$FeedVideoPlayerController6.getSource()};l.prototype.getIsInChannel=function(){'use strict';return this.$FeedVideoPlayerController6.getIsInChannel()};l.prototype.getVideoPlayerController=function(){'use strict';return this.$FeedVideoPlayerController6};l.prototype.abortLoading=function(){'use strict';if(!this.$FeedVideoPlayerController1.abort_loading_blocked)this.$FeedVideoPlayerController6.abortLoading();};f.exports=l}),null);
__d('VideoFeedRegister',['Bootloader','FeedVideoPlayerController','VideoAutoplayControllerX','VideoPlayerFeedRegisterConfig'],(function a(b,c,d,e,f,g){var h={registerVideoUnit:function i(j,k){var l,m=k.controller;if(k.controller.getOption('VideoWithInstreamVideo','enabled'))k.controller=k.controller.getOption('VideoWithInstreamVideo','controller');var n=new (c('FeedVideoPlayerController'))(j,k);k.controller.registerOption('WatchAndScroll','isEligible',function(){return k.wnsEnabled});if(k.channelVersion){if((k.channelVersion!=='channel_view'||!k.channelModule.getInteraction())&&c('VideoPlayerFeedRegisterConfig').watchAndScrollModule&&c('VideoPlayerFeedRegisterConfig').watchAndScrollModule.isActive()){c('VideoPlayerFeedRegisterConfig').watchAndScrollModule.registerChannelVideoController(k.controller);return}if(k.channelVersion==='channel_view')k.channelModule.registerVideoController(k.controller);}else c('VideoAutoplayControllerX').registerVideoUnit(n);if(k.wnsEnabled&&c('VideoPlayerFeedRegisterConfig').watchAndScrollModule)c('VideoPlayerFeedRegisterConfig').watchAndScrollModule.registerVideoController(k.controller,k.videoChannelCaller,c('VideoPlayerFeedRegisterConfig').watchAndScrollV3,c('VideoPlayerFeedRegisterConfig').wnsChannelsIntegrationEnabled);if(c('VideoPlayerFeedRegisterConfig').disableOffscreenPlayModule)c('VideoPlayerFeedRegisterConfig').disableOffscreenPlayModule.registerVideoUnit(n);if(k.autoPlayWithChannelViewOrSnowlift)(function(){var o=m;o.runOnApiReady(function(){var p=o.getOption('VideoWithClickToChannelView','isChannelEligible');if(p){c('Bootloader').loadModules(["VideoChannelController"],function(q){return q.openFromVideoPlayer(o,o.getVideoChannelID(),k.videoChannelCaller)},'VideoFeedRegister')}else c('Bootloader').loadModules(["PhotoSnowlift"],function(q){return q.bootstrap(o.getVideoURL())},'VideoFeedRegister');})})();}};f.exports=h}),null);
__d('VideoPlayerRegistry',['regeneratorRuntime','Promise','EventEmitter','Set'],(function a(b,c,d,e,f,g){var h=new (c('Set'))(),i=new (c('EventEmitter'))(),j={ADDED:'added',REMOVED:'removed',addListener:function k(l,m){return i.addListener(l,m)},once:function k(l,m){return i.once(l,m)},has:function k(l){return h.has(l)},add:function k(l){if(j.has(l))return false;h.add(l);i.emit(j.ADDED,l);return true},remove:function k(l){if(!j.has(l))return false;h['delete'](l);i.emit(j.REMOVED,l);return true},count:function k(){return h.size},getList:function k(){return Array.from(h)},getByRootNode:function k(l){var m;return c('regeneratorRuntime').async(function n(o){while(1)switch(o.prev=o.next){case 0:m=null;this.getList().forEach(function(p){if(p.getByRootNode()===l)m=p;});if(m){o.next=6;break}o.next=5;return c('regeneratorRuntime').awrap(new (c('Promise'))(function(p,q){var r=this.addListener(j.ADDED,function(s){if(s.getRootNode()===l){r.remove();p(s)}})}.bind(this)));case 5:m=o.sent;case 6:return o.abrupt('return',m);case 7:case 'end':return o.stop();}},null,this)}};f.exports=j}),null);
__d('VideoScrubberPreviewComponent',['Map'],(function a(b,c,d,e,f,g){function h(i,j){'use strict';if(!j)throw new Error('VideoScrubberPreview Component config null.');this.$VideoScrubberPreviewComponent4=j;this.$VideoScrubberPreviewComponent5=i;this.$VideoScrubberPreviewComponent2=j.hasPreviewThumbnails;this.$VideoScrubberPreviewComponent3=h.getSpriteURIs(j.spriteIndexToURIMap);if(!this.$VideoScrubberPreviewComponent5.isPlayingVODHighlights())this.$VideoScrubberPreviewComponent6();this.$VideoScrubberPreviewComponent5.addListener('switchedToFullVideo',function(){return this.$VideoScrubberPreviewComponent6()}.bind(this));this.$VideoScrubberPreviewComponent5.addListener('switchedToLiveVODHighlights',function(){return this.$VideoScrubberPreviewComponent7()}.bind(this))}h.prototype.hasPreviewThumbnails=function(){'use strict';return this.$VideoScrubberPreviewComponent2};h.prototype.$VideoScrubberPreviewComponent6=function(){'use strict';this.$VideoScrubberPreviewComponent5.registerOption('VideoScrubberPreviewComponent','scrubberPreviewSprites',this.getSprites.bind(this));this.$VideoScrubberPreviewComponent5.registerOption('VideoScrubberPreviewComponent','hasPreviewThumbnails',this.hasPreviewThumbnails.bind(this));this.$VideoScrubberPreviewComponent5.registerOption('VideoScrubberPreviewComponent','previewThumbnailInformation',this.getPreviewThumbnailInformation.bind(this))};h.prototype.$VideoScrubberPreviewComponent7=function(){'use strict';this.$VideoScrubberPreviewComponent5.unregisterOption('VideoScrubberPreviewComponent','scrubberPreviewSprites');this.$VideoScrubberPreviewComponent5.unregisterOption('VideoScrubberPreviewComponent','hasPreviewThumbnails');this.$VideoScrubberPreviewComponent5.unregisterOption('VideoScrubberPreviewComponent','previewThumbnailInformation')};h.prototype.getSprites=function(){'use strict';return this.$VideoScrubberPreviewComponent3};h.prototype.getPreviewThumbnailInformation=function(){'use strict';if(this.hasPreviewThumbnails()){this.$VideoScrubberPreviewComponent4.imagesPerColumn=this.$VideoScrubberPreviewComponent4.maxImagesPerSprite/this.$VideoScrubberPreviewComponent4.imagesPerRow}else this.$VideoScrubberPreviewComponent4.imagesPerColumn=0;return this.$VideoScrubberPreviewComponent4};h.getSpriteURIs=function(i){'use strict';var j=new (c('Map'))();for(var k in i)if(Object.prototype.hasOwnProperty.call(i,k))j.set(parseInt(k,10),i[k]);return j};f.exports=h}),null);
__d("VideoChannelEntryPoint",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({AUTO_DOWNLOAD:"auto_download",CASTING:"casting",CONNECTED_TV_PLAYER:"connected_tv_player",GROUP:"group",CROSS_GROUP_FEED:"cross_group_feed",NEWSFEED:"newsfeed",EXPLOREFEED:"explorefeed",PAGE:"page",PROFILE:"profile",SAVED_STORY:"saved_story",SEARCH:"search",SEARCH_TOPIC_MEDIA:"search_topic_media",PERMALINK:"permalink",WWW_RHC:"www_rhc",VIDEO_HOME:"video_home",VIDEO_HOME_LATEST_FROM_PAGES_CHANNEL:"video_home_latest_from_pages_channel",VIDEO_HOME_SAVED_CHANNEL:"video_home_saved_channel",VIDEO_HOME_SHARED_WITH_YOU_CHANNEL:"video_home_shared_with_you_channel",VIDEO_HOME_TOP_CHANNEL:"video_home_top_channel",VIDEO_HOME_WATCHED_CHANNEL:"video_home_watched_channel",VIDEO_HOME_DOWNLOADED_CHANNEL:"video_home_downloaded_channel",UNKNOWN:"unknown",LIVE_MAP:"live_map",PLAYLIST:"playlist",ELECTION_HUB:"election_hub",TAHOE:"tahoe"})}),null);
__d('VideoWithClickToChannelView',['cx','Arbiter','AsyncRequest','Bootloader','CSS','Map','VideoChannel','VideoChannelEntryPoint','VideoChannelViewGatings','VideoPlayerReason','logVideosClickTracking'],(function a(b,c,d,e,f,g,h){function i(j,k,l,m,n,o,p,q,r){'use strict';this.$VideoWithClickToChannelView1=j;this.$VideoWithClickToChannelView2=k;this.$VideoWithClickToChannelView3=n;this.$VideoWithClickToChannelView4=l;this.$VideoWithClickToChannelView5=m;this.$VideoWithClickToChannelView6=new (c('Map'))();this.$VideoWithClickToChannelView7=o;this.$VideoWithClickToChannelView8=p;this.$VideoWithClickToChannelView9=q;this.$VideoWithClickToChannelView10=r;this.$VideoWithClickToChannelView1.addListener('stateChange',this.$VideoWithClickToChannelView11.bind(this));this.$VideoWithClickToChannelView1.registerOption('VideoWithClickToChannelView','isChannelEligible',function(){return this.isChannelEligible()}.bind(this));this.$VideoWithClickToChannelView1.registerOption('VideoWithClickToChannelView','canOpenFromVideoPlayer',function(){return this.canOpenChannelView()}.bind(this));this.$VideoWithClickToChannelView1.setLogEntryPropertyGetters({channel_eligibility:'eligible'});if(this.canOpenChannelView())this.$VideoWithClickToChannelView12();this.$VideoWithClickToChannelView1.addListener('clickVideo',this.$VideoWithClickToChannelView13.bind(this));if(this.$VideoWithClickToChannelView1.hasSeenClick())this.$VideoWithClickToChannelView13();}i.prototype.$VideoWithClickToChannelView14=function(){'use strict';return this.$VideoWithClickToChannelView1.hasOption('VideoControls','available')};i.prototype.$VideoWithClickToChannelView15=function(){'use strict';this.$VideoWithClickToChannelView16('hideOnFinish');this.$VideoWithClickToChannelView16('hideOnPause')};i.prototype.$VideoWithClickToChannelView16=function(j){'use strict';var k=this.$VideoWithClickToChannelView1.getOption('VideoControls',j);this.$VideoWithClickToChannelView6.set(j,k)};i.prototype.$VideoWithClickToChannelView12=function(){'use strict';var j=this.$VideoWithClickToChannelView1.getVideoNodeNullable();if(j)c('CSS').addClass(j,"_244o");};i.prototype.$VideoWithClickToChannelView17=function(){'use strict';var j=this.$VideoWithClickToChannelView1.getVideoNodeNullable();if(j)c('CSS').removeClass(j,"_244o");};i.prototype.$VideoWithClickToChannelView11=function(){'use strict';if(this.canOpenChannelView()){this.$VideoWithClickToChannelView12()}else this.$VideoWithClickToChannelView17();};i.prototype.$VideoWithClickToChannelView13=function(){'use strict';if(!this.canOpenChannelView()){if(this.$VideoWithClickToChannelView1.isState('playing')){if(this.$VideoWithClickToChannelView1.getOption('VideoWithLiveBroadcast','isLive')||this.$VideoWithClickToChannelView1.getOption('VideoWithInstreamVideo','disableClickToPause'))return;this.$VideoWithClickToChannelView1.pause(c('VideoPlayerReason').USER)}else{c('logVideosClickTracking')(this.$VideoWithClickToChannelView1.getVideoNode());this.$VideoWithClickToChannelView1.play(c('VideoPlayerReason').USER)}}else this.$VideoWithClickToChannelView18();};i.prototype.isChannelEligible=function(){'use strict';var j=c('VideoChannelViewGatings').allowChannelViewForFlash||this.$VideoWithClickToChannelView4===c('VideoChannelEntryPoint').VIDEO_HOME,k=!this.$VideoWithClickToChannelView1.isPlayerVersion('silvercity')||j,l=c('VideoChannelViewGatings').channelView||this.$VideoWithClickToChannelView4===c('VideoChannelEntryPoint').VIDEO_HOME;return l&&!c('VideoChannel').get()&&!this.$VideoWithClickToChannelView1.isState('fallback')&&!this.$VideoWithClickToChannelView1.isFullscreen()&&k};i.prototype.canOpenChannelView=function(){'use strict';var j=this.$VideoWithClickToChannelView1.getOption('VideoWithInstreamVideo','disableClickToPause');if(j)return false;var k=true;if(c('VideoChannelViewGatings').channelViewWithInlineControls)if(!this.$VideoWithClickToChannelView1.isState('playing'))k=false;return this.isChannelEligible()&&k};i.prototype.$VideoWithClickToChannelView18=function(){'use strict';c('logVideosClickTracking')(this.$VideoWithClickToChannelView1.getVideoNode());if(!this.$VideoWithClickToChannelView10){c('Bootloader').loadModules(["VideoChannelController"],function(j){j.openFromVideoPlayer(this.$VideoWithClickToChannelView1,this.$VideoWithClickToChannelView2,this.$VideoWithClickToChannelView5,this.$VideoWithClickToChannelView19())}.bind(this),'VideoWithClickToChannelView')}else{new (c('AsyncRequest'))(this.$VideoWithClickToChannelView3).send();this.$VideoWithClickToChannelView1.pause()}};i.prototype.$VideoWithClickToChannelView19=function(){'use strict';if(!this.$VideoWithClickToChannelView7)return null;return {originalVideoIds:this.$VideoWithClickToChannelView7,isFromVideoViewCarousel:this.$VideoWithClickToChannelView8,shouldFetchMoreVideos:this.$VideoWithClickToChannelView9}};i.registerChannelCloseSurveyListener=function(j){'use strict';c('Arbiter').subscribeOnce('VideoChannelView/closed',function(){j.show()})};f.exports=i}),null);
__d('VideoWithFluentUFISupport',['UFIVideoPlayerRegistry'],(function a(b,c,d,e,f,g){function h(i){'use strict';c('UFIVideoPlayerRegistry').registerVideoPlayerController(i)}f.exports=h}),null);
__d('VideoWithSequentialAutoplay',['Arbiter','SubscriptionsHandler','VideoPlayerReason','destroyOnUnload'],(function a(b,c,d,e,f,g){function h(i,j){'use strict';this.$VideoWithSequentialAutoplay1=i;this.$VideoWithSequentialAutoplay2=j;this.$VideoWithSequentialAutoplay1.addListener('finishPlayback',this.$VideoWithSequentialAutoplay3.bind(this));this.$VideoWithSequentialAutoplay4=new (c('SubscriptionsHandler'))();this.$VideoWithSequentialAutoplay4.addSubscriptions(c('Arbiter').subscribe('nextVideoAutoplay',function(k,l){if(l.nextVideoID==this.$VideoWithSequentialAutoplay1.getVideoID())this.$VideoWithSequentialAutoplay1.play(c('VideoPlayerReason').AUTOPLAY);}.bind(this)));c('destroyOnUnload')(function(){return this.$VideoWithSequentialAutoplay4.release()}.bind(this))}h.prototype.$VideoWithSequentialAutoplay3=function(){'use strict';c('Arbiter').inform('nextVideoAutoplay',{nextVideoID:this.$VideoWithSequentialAutoplay2})};f.exports=h}),null);
__d('VideoWithSpacePlayPause',['Event','Run','VideoPlayerReason'],(function a(b,c,d,e,f,g){var h=32;function i(j){'use strict';this.$VideoWithSpacePlayPause1=j;var k=c('Event').listen(window,'keypress',this.$VideoWithSpacePlayPause2.bind(this));c('Run').onLeave(function(){return k.remove()})}i.prototype.$VideoWithSpacePlayPause2=function(j){'use strict';if(this.$VideoWithSpacePlayPause1.isFullscreen()&&j.charCode==h)if(this.$VideoWithSpacePlayPause1.isState('playing')){this.$VideoWithSpacePlayPause1.pause(c('VideoPlayerReason').USER)}else this.$VideoWithSpacePlayPause1.play(c('VideoPlayerReason').USER);};f.exports=i}),null);
__d('AbstractVideoFullscreenControl.react',['cx','AbstractButton.react','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={awaitingUpdate:false},this.isFullscreen=function(){if(this.state.awaitingUpdate)return this.state.isFullscreenOverride;return !!this.props.isFullscreen}.bind(this),this.onButtonClick=function(){this.props.onToggleFullscreen&&this.props.onToggleFullscreen()}.bind(this),n}l.prototype.render=function(){var m=Object.assign({},this.props);delete m.isFullscreen;delete m.onToggleFullscreen;return c('React').createElement(c('AbstractButton.react'),babelHelpers['extends']({},m,{className:c('joinClasses')(this.props.isFullscreen?"uiContextualLayerParent":'',this.props.className),disabled:this.props.disabled,image:this.props.image,label:this.props.label,onClick:this.onButtonClick}))};l.propTypes={disabled:k.bool,image:k.element,isFullscreen:k.bool,onToggleFullscreen:k.func};f.exports=l}),null);
__d("XVideoQualitySurveyController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/quality_survey\/",{videoid:{type:"String"},__asyncDialog:{type:"Int"}})}),null);
__d('VideoPlayButton',['AsyncRequest','CSS','EventListener','VideoDisplayTimePlayButton','VideoPlayerLoggerSource','XVideoQualitySurveyController'],(function a(b,c,d,e,f,g){function h(i,j,k){'use strict';this.$VideoPlayButton1=i;this.$VideoPlayButton2=j;if(k){this.$VideoPlayButton3=k.hiddenAfterFinish;this.$VideoPlayButton4=k.hiddenWhilePaused;this.$VideoPlayButton5=!!k.hiddenInFallback;this.$VideoPlayButton5=k.hiddenInFallback;this.$VideoPlayButton6=k.spherical}var l=c('VideoDisplayTimePlayButton').getClicked(this.$VideoPlayButton2);c('VideoDisplayTimePlayButton').unregister(this.$VideoPlayButton2);i.addListener('beginPlayback',this.$VideoPlayButton7.bind(this));i.addListener('finishPlayback',this.$VideoPlayButton8.bind(this));i.addListener('pausePlayback',this.$VideoPlayButton9.bind(this));i.addListener('buffering',this.$VideoPlayButton10.bind(this));i.addListener('buffered',this.$VideoPlayButton11.bind(this));i.addListener('stateChange',this.$VideoPlayButton12.bind(this));i.addListener('playRequested',this.$VideoPlayButton13.bind(this));i.addListener('VideoChannelController/exitChannel',this.$VideoPlayButton14.bind(this));i.addListener('clickVideo',this.$VideoPlayButton15.bind(this));c('EventListener').listen(this.$VideoPlayButton2,'click',this.$VideoPlayButton16.bind(this));if(k&&k.hiddenWhileJSLoading&&!k.hiddenWhileVideoLoading)c('CSS').show(this.$VideoPlayButton2);if(l)this.$VideoPlayButton16();}h.prototype.$VideoPlayButton12=function(){'use strict';if(this.$VideoPlayButton1.isState('fallback'))if(this.$VideoPlayButton5||this.$VideoPlayButton1.getIsInChannel()){c('CSS').hide(this.$VideoPlayButton2)}else c('CSS').show(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton7=function(){'use strict';c('CSS').hide(this.$VideoPlayButton2)};h.prototype.$VideoPlayButton9=function(){'use strict';if(this.$VideoPlayButton4)return;c('CSS').show(this.$VideoPlayButton2)};h.prototype.$VideoPlayButton13=function(){'use strict';if(this.$VideoPlayButton1.isState('fallback'))return;c('CSS').hide(this.$VideoPlayButton2)};h.prototype.$VideoPlayButton14=function(){'use strict';if(this.$VideoPlayButton1.isState('paused')&&(!this.$VideoPlayButton4||this.$VideoPlayButton6)||this.$VideoPlayButton1.isState('finished')&&!this.$VideoPlayButton3)c('CSS').show(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton8=function(){'use strict';var i=this.$VideoPlayButton1.getOption('Looping','isLooping');if(this.$VideoPlayButton3||this.$VideoPlayButton1.getIsInChannel()||this.$VideoPlayButton1.getSource()===c('VideoPlayerLoggerSource').TAHOE||i){c('CSS').hide(this.$VideoPlayButton2)}else c('CSS').show(this.$VideoPlayButton2);if(!this.$VideoPlayButton1.getIsInChannel()&&!this.$VideoPlayButton1.isAd()&&!this.$VideoPlayButton1.hasOption('WatchAndScroll','isActive')&&!this.$VideoPlayButton1.isMuted()&&this.$VideoPlayButton1.getSource()!==c('VideoPlayerLoggerSource').MESSAGING){var j=c('XVideoQualitySurveyController').getURIBuilder().setString('videoid',this.$VideoPlayButton1.getVideoID()).getURI(),k=new (c('AsyncRequest'))().setURI(j);k.send()}};h.prototype.$VideoPlayButton10=function(){'use strict';c('CSS').hide(this.$VideoPlayButton2)};h.prototype.$VideoPlayButton11=function(){'use strict';c('CSS').hide(this.$VideoPlayButton2)};h.prototype.$VideoPlayButton16=function(){'use strict';this.$VideoPlayButton1.clickVideo()};h.prototype.$VideoPlayButton15=function(){'use strict';if(this.$VideoPlayButton1.isState('fallback'))return;c('CSS').hide(this.$VideoPlayButton2)};f.exports=h}),null);
__d('MountedContextMenu.react',['cx','ContextualLayer.react','DOMQuery','Event','Focus','LayerHideOnEscape','PopoverMenu.react','PopoverMenuInterface','React','ReactDOM','SubscriptionsHandler','isNode','getContextualLayerCursorOffset'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=Object.prototype.hasOwnProperty,l=c('React').PropTypes;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state={shown:false,lastOpenedX:0,lastOpenedY:0,offsetX:0,offsetY:0},this.$MountedContextMenu6=function(s){var t=s.clientX,u=s.clientY;s.preventDefault();s.stopPropagation();this.showAt(t,u)}.bind(this),this.$MountedContextMenu7=function(s){var t=this.$MountedContextMenu3(),u=t&&c('DOMQuery').contains(t,s.target),v=s.button===0;if(!(u&&v))this.hide();}.bind(this),this.$MountedContextMenu8=function(){if(this.props.disableFocusOutline)c('Focus').setWithoutOutline(this.$MountedContextMenu2());}.bind(this),this.$MountedContextMenu9=function(){var s=this.$MountedContextMenu2();if(this.props.disableFocusOutline){c('Focus').setWithoutOutline(s)}else c('Focus').set(s);if(this.state.shown)this.hide();}.bind(this),this.$MountedContextMenu10=function(){this.hide()}.bind(this),o}m.prototype.getDefaultProps=function(){return {disableFocusOutline:false}};m.prototype.$MountedContextMenu2=function(){return this.props.mountedTriggerElem};m.prototype.$MountedContextMenu3=function(){var n=this.refs.popover.getMenu();return n&&n.getRoot()};m.prototype.$MountedContextMenu4=function(){return this.refs.menuLayer.layer};m.prototype.renderLayers=function(){return c('React').createElement(c('ContextualLayer.react'),{alignment:'right',behaviors:[c('LayerHideOnEscape')],contextRef:function(){return this.$MountedContextMenu2()}.bind(this),offsetX:this.state.offsetX,offsetY:this.state.offsetY,position:'below',ref:'menuLayer',shown:this.state.shown,key:'menu'},c('React').createElement(c('PopoverMenu.react'),{alignh:'left',menu:this.props.menu,position:'below',ref:'popover'},c('React').createElement('div',{className:"_4345",ref:'fakeTrigger'})))};m.prototype.render=function(){if(this.props.mountedTriggerElem)return c('React').createElement('span',null,this.renderLayers());return null};m.prototype.$MountedContextMenu5=function(n,o){var p=this.$MountedContextMenu4(),q=c('getContextualLayerCursorOffset')(p,n,o),r=q.offsetX,s=q.offsetY;p.setOffsetX(r).setOffsetY(s);this.setState({offsetX:r,offsetY:s})};m.prototype.componentDidMount=function(){var n=this.$MountedContextMenu2(),o=c('ReactDOM').findDOMNode(this.refs.fakeTrigger),p=this.$MountedContextMenu4(),q=this.refs.popover;this.$MountedContextMenu1=new (c('SubscriptionsHandler'))();this.$MountedContextMenu1.addSubscriptions(c('Event').listen(n,'contextmenu',this.$MountedContextMenu6),c('Event').listen(document.body,'mousedown',this.$MountedContextMenu7),c('Event').listen(n,'focus',this.$MountedContextMenu8),c('Event').listen(o,'focus',this.$MountedContextMenu9),c('Event').listen(window,'blur',this.$MountedContextMenu10),p.subscribe('show',function(){var r=this.state.lastOpenedX,s=this.state.lastOpenedY;this.$MountedContextMenu5(r,s);q.showPopover()}.bind(this)),p.subscribe('hide',function(){q.hidePopover()}))};m.prototype.componentWillUnmount=function(){this.$MountedContextMenu1&&this.$MountedContextMenu1.release()};m.prototype.show=function(){this.setState({shown:true})};m.prototype.showAt=function(n,o){this.setState({lastOpenedX:n,lastOpenedY:o});this.show()};m.prototype.hide=function(){this.setState({shown:false})};m.propTypes={disableFocusOutline:l.bool,menu:function n(o,p,q){if(!k.call(o,p))return new Error(q+'.'+p+' is required');var r=o[p],s=r&&r.type;if(!(s&&s.prototype instanceof c('PopoverMenuInterface')))return new Error(p+' must implement PopoverMenuInterface');return null},mountedTriggerElem:function n(o,p,q){if(!k.call(o,p)){return new Error(q+'.'+p+' is required')}else if(!c('isNode')(o[p]))return new Error(q+'.'+p+' must be a raw DOM node');return null}};f.exports=m}),null);
__d('VideoPlayerRegistryComponent',['invariant','SubscriptionsHandler','VideoPlayerRegistry'],(function a(b,c,d,e,f,g,h){function i(j){'use strict';this.$VideoPlayerRegistryComponent1=j||null;this.$VideoPlayerRegistryComponent2=new (c('SubscriptionsHandler'))();if(this.$VideoPlayerRegistryComponent1)this.$VideoPlayerRegistryComponent3();}i.prototype.destroy=function(){'use strict';this.$VideoPlayerRegistryComponent4();this.$VideoPlayerRegistryComponent1=null};i.prototype.getController=function(){'use strict';var j=this.$VideoPlayerRegistryComponent1;j||h(0);return j};i.prototype.enable=function(j){'use strict';if(this.$VideoPlayerRegistryComponent1&&this.$VideoPlayerRegistryComponent1!==j)this.$VideoPlayerRegistryComponent4();this.$VideoPlayerRegistryComponent1=j;this.$VideoPlayerRegistryComponent3()};i.prototype.disable=function(j){'use strict';this.$VideoPlayerRegistryComponent4()};i.prototype.$VideoPlayerRegistryComponent3=function(){'use strict';var j=this.getController();c('VideoPlayerRegistry').add(j);this.$VideoPlayerRegistryComponent2.addSubscriptions(j.addListener('stateChange',function(){if(j.isState('destroyed'))this.destroy();}.bind(this)))};i.prototype.$VideoPlayerRegistryComponent4=function(){'use strict';var j=this.getController();this.$VideoPlayerRegistryComponent2.release();this.$VideoPlayerRegistryComponent2.engage();c('VideoPlayerRegistry').remove(j)};f.exports=i}),null);
__d('VideoSpinner',['cx','CSS','EventListener'],(function a(b,c,d,e,f,g,h){function i(j,k){'use strict';this.$VideoSpinner2=k;this.$VideoSpinner1=j;this.$VideoSpinner3=false;j.addListener('beginPlayback',this.$VideoSpinner4.bind(this));j.addListener('finishPlayback',this.$VideoSpinner5.bind(this));j.addListener('pausePlayback',this.$VideoSpinner6.bind(this));j.addListener('playRequested',this.$VideoSpinner7.bind(this));j.addListener('buffering',this.$VideoSpinner8.bind(this));j.addListener('buffered',this.$VideoSpinner9.bind(this));j.addListener('stateChange',this.$VideoSpinner10.bind(this));j.addListener('clickVideo',this.$VideoSpinner11.bind(this));j.addListener('VideoSphericalOverlay/animationUpdate',this.$VideoSpinner12.bind(this));c('EventListener').listen(this.$VideoSpinner2,'click',this.$VideoSpinner13.bind(this))}i.prototype.$VideoSpinner12=function(j){'use strict';if(j){c('CSS').addClass(this.$VideoSpinner2,"_1st9")}else c('CSS').removeClass(this.$VideoSpinner2,"_1st9");};i.prototype.$VideoSpinner8=function(){'use strict';c('CSS').show(this.$VideoSpinner2);this.$VideoSpinner3=true};i.prototype.$VideoSpinner9=function(){'use strict';c('CSS').hide(this.$VideoSpinner2);this.$VideoSpinner3=false};i.prototype.$VideoSpinner4=function(){'use strict';if(this.$VideoSpinner3){c('CSS').show(this.$VideoSpinner2)}else c('CSS').hide(this.$VideoSpinner2);};i.prototype.$VideoSpinner6=function(){'use strict';c('CSS').hide(this.$VideoSpinner2)};i.prototype.$VideoSpinner7=function(){'use strict';c('CSS').hide(this.$VideoSpinner2)};i.prototype.$VideoSpinner5=function(){'use strict';c('CSS').hide(this.$VideoSpinner2)};i.prototype.$VideoSpinner10=function(){'use strict';if(this.$VideoSpinner1.isState('fallback'))c('CSS').hide(this.$VideoSpinner2);};i.prototype.$VideoSpinner11=function(){'use strict';if(this.$VideoSpinner1.isState('fallback'))return;if(this.$VideoSpinner3||this.$VideoSpinner1.isState('ready')||this.$VideoSpinner1.isState('loading'))c('CSS').show(this.$VideoSpinner2);};i.prototype.$VideoSpinner13=function(){'use strict';this.$VideoSpinner1.clickVideo()};f.exports=i}),null);
__d('VideoPlayerHTML5ContextMenu.react',['cx','fbt','ContextualLayer.react','DOMQuery','Event','Focus','FullScreen','getFullScreenElement','Keys','LayerAutoFocus','LayerHideOnEscape','MountedContextMenu.react','React','ReactDOM','ReactXUIMenu','SubscriptionsHandler','VideoContextMenuGK','isNode'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=Object.prototype.hasOwnProperty,m=c('ReactXUIMenu').Item,n=c('React').PropTypes,o=.35,p=6,q=60;j=babelHelpers.inherits(r,c('React').Component);k=j&&j.prototype;function r(){var s,t;for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=k.constructor).call.apply(s,[this].concat(v)),this.state={permalinkVisible:false,fullscreened:false,screenWidth:screen.width,screenHeight:screen.height},this.$VideoPlayerHTML5ContextMenu2=function(){var x=c('getFullScreenElement')(),y=this.props.videoElem,z=!!(c('FullScreen').isFullScreen()&&x&&y&&c('DOMQuery').contains(x,y));this.setState({fullscreened:z})}.bind(this),this.$VideoPlayerHTML5ContextMenu5=function(){if(this.props.paused){return i._("Play")}else return i._("Pause");}.bind(this),this.$VideoPlayerHTML5ContextMenu6=function(){if(this.props.muted){return i._("Unmute")}else return i._("Mute");}.bind(this),this.$VideoPlayerHTML5ContextMenu7=function(){this.props.onTogglePause&&this.props.onTogglePause()}.bind(this),this.$VideoPlayerHTML5ContextMenu8=function(){this.props.onToggleMute&&this.props.onToggleMute()}.bind(this),this.$VideoPlayerHTML5ContextMenu4=function(){c('Focus').set(c('ReactDOM').findDOMNode(this.refs.permalinkText));this.setState({permalinkVisible:true})}.bind(this),this.$VideoPlayerHTML5ContextMenu3=function(){this.setState({permalinkVisible:false})}.bind(this),this.$VideoPlayerHTML5ContextMenu9=function(){c('ReactDOM').findDOMNode(this.refs.permalinkText).select()}.bind(this),this.$VideoPlayerHTML5ContextMenu10=function(x){if(c('Event').getKeyCode(x)==c('Keys').ESC)this.setState({permalinkVisible:false});}.bind(this),this.$VideoPlayerHTML5ContextMenu11=function(x){x.preventDefault()},this.$VideoPlayerHTML5ContextMenu12=function(){var x=void 0,y=void 0;if(this.state.fullscreened){x=this.state.screenWidth;y=this.state.screenHeight}else{var z=this.props.videoElem.getBoundingClientRect();x=z.width;y=z.height}return {width:x,height:y}}.bind(this),this.$VideoPlayerHTML5ContextMenu13=function(x){var y=this.props.permalinkURL;if(y){var z={width:x+'px'};return c('React').createElement('div',{className:"_26oo",style:z},c('React').createElement('input',{className:"_26op autofocus",onFocus:this.$VideoPlayerHTML5ContextMenu9,onKeyDown:this.$VideoPlayerHTML5ContextMenu10,onMouseUp:this.$VideoPlayerHTML5ContextMenu11,readOnly:true,ref:'permalinkText',type:'text',value:y}),c('React').createElement('button',{className:"_26oq",onClick:this.$VideoPlayerHTML5ContextMenu3},i._("Close")))}}.bind(this),this.renderLayers=function(){var x=this.props.permalinkURL&&this.state.permalinkVisible,y=0,z=0,aa=null,ba=this.$VideoPlayerHTML5ContextMenu12(),ca=ba.width,da=ba.height,ea=ca*o;y=ca/2-ea/2;z=-da+p;if(this.state.fullscreened)z+=q;aa=this.$VideoPlayerHTML5ContextMenu13(ea);return c('React').createElement(c('ContextualLayer.react'),{alignment:'left',behaviors:[c('LayerHideOnEscape'),c('LayerAutoFocus')],contextRef:function(){return this.props.videoElem}.bind(this),offsetX:y,offsetY:z,position:'below',ref:'permalinkLayer',shown:x,key:'permalinkOverlay'},aa)}.bind(this),this.$VideoPlayerHTML5ContextMenu14=function(){if(this.props.permalinkURL)return c('React').createElement(m,{onclick:this.$VideoPlayerHTML5ContextMenu4,ref:'permalinkMenuItem'},i._("Show video URL"));}.bind(this),t}r.prototype.componentDidMount=function(){var s=this.refs.permalinkLayer.layer;this.$VideoPlayerHTML5ContextMenu1=new (c('SubscriptionsHandler'))();this.$VideoPlayerHTML5ContextMenu1.addSubscriptions(c('FullScreen').subscribe('changed',this.$VideoPlayerHTML5ContextMenu2),s.subscribe('hide',this.$VideoPlayerHTML5ContextMenu3),s.subscribe('show',this.$VideoPlayerHTML5ContextMenu4))};r.prototype.componentWillUnmount=function(){this.$VideoPlayerHTML5ContextMenu1&&this.$VideoPlayerHTML5ContextMenu1.release()};r.prototype.hidePermalinkOverlay=function(){this.$VideoPlayerHTML5ContextMenu3()};r.prototype.render=function(){var s=this.props.paused!==null&&c('React').createElement(m,{onclick:this.$VideoPlayerHTML5ContextMenu7},this.$VideoPlayerHTML5ContextMenu5()),t=c('React').createElement(c('ReactXUIMenu'),{className:c('VideoContextMenuGK').menuRedesign?"_45di":''},s,c('React').createElement(m,{onclick:this.$VideoPlayerHTML5ContextMenu8},this.$VideoPlayerHTML5ContextMenu6()),this.$VideoPlayerHTML5ContextMenu14(),this.props.children);return c('React').createElement('span',null,c('React').createElement(c('MountedContextMenu.react'),{mountedTriggerElem:this.props.videoElem,menu:t,ref:'menu'}),this.renderLayers())};r.propTypes={videoElem:function s(t,u,v){if(!l.call(t,u)){return new Error(v+'.'+u+' is required')}else if(!c('isNode')(t[u]))return new Error(v+'.'+u+' must be a raw DOM node');},paused:n.bool,muted:n.bool,permalinkURL:n.string,onTogglePause:n.func.isRequired,onToggleMute:n.func.isRequired};f.exports=r}),null);
__d('VideoContextMenu',['EventListener','Bootloader','URI','React','ReactDOM','VideoPlayerHTML5ContextMenu.react','VideoPlayerReason','VideoPlayerStates','UserAgent','CurrentUser','isFacebookURI'],(function a(b,c,d,e,f,g){var h=/(instagram)/g;function i(j,k,l){'use strict';this.$VideoContextMenu9=function(){var o='DebugOverlay',p='hidden';if(this.$VideoContextMenu2.hasOption(o,p)){this.$VideoContextMenu12(o,p,'Employee Debug Info','Hide Debug Information')}else this.$VideoContextMenu11(o,p);this.$VideoContextMenu8()}.bind(this);this.$VideoContextMenu8=function(){if(this.$VideoContextMenu6)this.$VideoContextMenu13();}.bind(this);this.$VideoContextMenu10=function(o){var p=/^a$/i.test(o.target.nodeName||''),q=p||c('CurrentUser').isEmployee()&&(c('UserAgent').isPlatform('Mac OS X')?o.getModifiers().meta:o.getModifiers().ctrl);if(q&&this.$VideoContextMenu6){c('ReactDOM').unmountComponentAtNode(this.$VideoContextMenu4);delete this.$VideoContextMenu6}else if(!q&&!this.$VideoContextMenu6){o.preventDefault();this.$VideoContextMenu13()}}.bind(this);this.$VideoContextMenu2=j;this.$VideoContextMenu3=l;this.$VideoContextMenu4=k;this.$VideoContextMenu1={};this.$VideoContextMenu5=null;if(this.$VideoContextMenu3.permalinkURL){var m=new (c('URI'))(this.$VideoContextMenu3.permalinkURL).getQualifiedURI();if(!c('isFacebookURI')(m)){m.setSubdomain('www');m.setDomain(m.getDomain().replace(h,'facebook'))}this.$VideoContextMenu5=m.toString()}var n=['muteVideo','unmuteVideo','changeVolume','beginPlayback','pausePlayback','finishPlayback','adBreakIndicatorShowing'];['enterWatchAndScroll','exitWatchAndScroll'].forEach(function(o){return j.addListener(o,function(){if(this.$VideoContextMenu6)this.$VideoContextMenu6.hidePermalinkOverlay();this.$VideoContextMenu8()}.bind(this))}.bind(this));j.addListener('optionsChange',this.$VideoContextMenu9);this.$VideoContextMenu9();n.forEach(function(o){return j.addListener(o,this.$VideoContextMenu8)}.bind(this));c('EventListener').listen(this.$VideoContextMenu2.getRootNode(),'contextmenu',this.$VideoContextMenu10)}i.prototype.setPermalinkURL=function(j){'use strict';this.$VideoContextMenu5=j;this.$VideoContextMenu8()};i.prototype.$VideoContextMenu11=function(j,k){'use strict';if(this.$VideoContextMenu7)this.$VideoContextMenu7.removeMenuItem(j,k);};i.prototype.$VideoContextMenu12=function(j,k,l,m){'use strict';c('Bootloader').loadModules(["VideoComponentOptionMenuItems"],function(n){if(!this.$VideoContextMenu7)this.$VideoContextMenu7=new n(this.$VideoContextMenu2,this.$VideoContextMenu8);this.$VideoContextMenu7.addComponentOptionMenuItem(j,k,l,m)}.bind(this),'VideoContextMenu')};i.prototype.$VideoContextMenu14=function(j,k){'use strict';if(!this.$VideoContextMenu7)return undefined;return this.$VideoContextMenu7.getComponentOptionMenuItem(j,k)};i.prototype.$VideoContextMenu13=function(){'use strict';var j=this.$VideoContextMenu14('DebugOverlay','hidden'),k=this.$VideoContextMenu2.getRootNode(),l=false;if(this.$VideoContextMenu2.hasOption('VideoContextMenu','disablePauseMenuItem'))l=this.$VideoContextMenu2.getOption('VideoContextMenu','disablePauseMenuItem')&&!this.$VideoContextMenu2.isState(c('VideoPlayerStates').PAUSED);this.$VideoContextMenu6=c('ReactDOM').render(c('React').createElement(c('VideoPlayerHTML5ContextMenu.react'),{videoElem:k,paused:l?null:!this.$VideoContextMenu2.isState(c('VideoPlayerStates').PLAYING),muted:this.$VideoContextMenu2.isMuted(),permalinkURL:this.$VideoContextMenu5,onTogglePause:function(){return this.$VideoContextMenu15()}.bind(this),onToggleMute:function(){return this.$VideoContextMenu16()}.bind(this)},j),this.$VideoContextMenu4)};i.prototype.$VideoContextMenu16=function(){'use strict';if(this.$VideoContextMenu2.isMuted()){this.$VideoContextMenu2.unmute()}else this.$VideoContextMenu2.mute();};i.prototype.$VideoContextMenu15=function(){'use strict';if(!this.$VideoContextMenu2.isState('playing')){this.$VideoContextMenu2.play(c('VideoPlayerReason').USER)}else this.$VideoContextMenu2.pause(c('VideoPlayerReason').USER);};f.exports=i}),null);
__d('VideoCover',['Bootloader','CSS','EventListener'],(function a(b,c,d,e,f,g){function h(i,j,k,l){var m=arguments.length<=4||arguments[4]===undefined?null:arguments[4];'use strict';this.$VideoCover1=j;this.$VideoCover2=k[0];this.$VideoCover3=l;this.$VideoCover4=i;if(m){this.$VideoCover5=m.hiddenAfterFinish;this.$VideoCover6=m.showWhileBuffering;this.$VideoCover7=m.showAfterFallback}if(i.getState()==='playing')this.$VideoCover8();i.addListener('stateChange',function(){return this.$VideoCover9()}.bind(this));i.addListener('beginPlayback',this.$VideoCover8.bind(this));i.addListener('finishPlayback',this.$VideoCover10.bind(this));i.addListener('buffering',this.$VideoCover11.bind(this));i.addListener('buffered',this.$VideoCover12.bind(this));c('EventListener').listen(this.$VideoCover1,'click',this.$VideoCover13.bind(this))}h.prototype.$VideoCover11=function(){'use strict';if(this.$VideoCover6)c('CSS').show(this.$VideoCover1);};h.prototype.$VideoCover12=function(){'use strict';if(this.$VideoCover6)c('CSS').hide(this.$VideoCover1);};h.prototype.getCurrentCover=function(){'use strict';return this.$VideoCover2};h.prototype.setSnowLiftURI=function(i){'use strict';this.$VideoCover3=i};h.prototype.$VideoCover13=function(){'use strict';if(this.$VideoCover3!=null&&this.$VideoCover3.length>0){c('Bootloader').loadModules(["PhotoSnowlift"],function(i){return i.bootstrap(this.$VideoCover3)}.bind(this),'VideoCover')}else this.$VideoCover4.clickVideo();};h.prototype.$VideoCover8=function(){'use strict';c('CSS').hide(this.$VideoCover1)};h.prototype.$VideoCover10=function(){'use strict';var i=this.$VideoCover4.getOption('Looping','isLooping');if(this.$VideoCover5||i)return;c('CSS').show(this.$VideoCover1)};h.prototype.$VideoCover9=function(){'use strict';if(this.$VideoCover4.isState('fallback')&&this.$VideoCover7)c('CSS').show(this.$VideoCover1);};f.exports=h}),null);
__d('EmbeddedVideoFBIconControl.react',['ix','cx','fbt','AbstractButton.react','Image.react','React','TooltipData','URI','VideoPlayerExperiments','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=2;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(o){l.constructor.call(this,o);this.state={iconColor:'white'}}n.prototype.onMouseOut=function(o){this.setState({iconColor:'white'})};n.prototype.onMouseOver=function(o){this.setState({iconColor:'blue'})};n.prototype.$EmbeddedVideoFBIconControl1=function(){return new (c('URI'))(this.props.permalinkURL).addQueryData('t',Math.max(0,Math.floor(this.props.playbackPosTimestamp)-m))};n.prototype.render=function(){var o=this.state.iconColor==='blue'?h("115830"):h("114229"),p=null;p=c('React').createElement(c('Image.react'),{className:"_5i0o",src:o});var q=c('VideoPlayerExperiments').embeddedPlayerEnhancements?this.$EmbeddedVideoFBIconControl1():this.props.permalinkURL;return c('React').createElement(c('AbstractButton.react'),babelHelpers['extends']({},c('TooltipData').propsFor(this.props.label,'above'),{className:"_3u33",href:q,image:p,label:this.props.label,labelIsHidden:this.props.labelIsHidden,onMouseOut:this.onMouseOut.bind(this),onMouseOver:this.onMouseOver.bind(this),ref:'button',tabIndex:'0',target:'_blank',type:'button'}))};n.defaultProps={label:j._("Click to watch on Facebook"),labelIsHidden:true};f.exports=n}),null);
__d('EmbeddedVideoFullscreenControl.react',['ix','cx','fbt','AbstractVideoFullscreenControl.react','Image.react','React','ReactDOM','VideoWebDriverIDs','VideoPlayerExperiments','fbglyph','shallowCompare'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;n.prototype.shouldComponentUpdate=function(o,p){return c('shallowCompare')(this,o,p)};n.prototype.onMouseOut=function(o){c('ReactDOM').findDOMNode(this.refs.button).blur()};n.prototype.render=function(){var o=void 0;if(!c('VideoPlayerExperiments').fourArrowFullScreen){o=this.props.isFullscreen?h("115501"):h("115510")}else o=this.props.isFullscreen?h("115504"):h("115507");var p=c('React').createElement(c('Image.react'),{className:"_5i0o",src:o}),q=this.props.isFullscreen?j._("Exit Fullscreen"):j._("Enter Fullscreen");return c('React').createElement(c('AbstractVideoFullscreenControl.react'),babelHelpers['extends']({},this.props,{className:"_3u33 _39ip",'data-testid':c('VideoWebDriverIDs').FULLSCREEN_CONTROL,disabled:this.props.disabled,image:p,onMouseOut:this.onMouseOut.bind(this),ref:'button',tabIndex:this.props.tabIndex,type:'button',label:q,labelIsHidden:true}))};function n(){k.apply(this,arguments)}n.propTypes={isFullscreen:m.bool,onToggleFullscreen:m.func,tabIndex:m.string};f.exports=n}),null);
__d('EmbeddedVideoPlaybackControl.react',['ix','cx','fbt','AbstractButton.react','Image.react','React','ReactDOM','TooltipData','VideoWebDriverIDs','VideoPlayerExperiments','fbglyph','shallowCompare'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(o){l.constructor.call(this,o);this.state={awaitingUpdate:false,isPlayingOverwrite:false}}n.prototype.shouldComponentUpdate=function(o,p){return c('shallowCompare')(this,o,p)};n.prototype.isPlaying=function(){if(this.state.awaitingUpdate)return this.state.isPlayingOverwrite;return this.props.isPlaying};n.prototype.onButtonClick=function(){var o=this.isPlaying();this.setState({awaitingUpdate:true,isPlayingOverwrite:!o});if(o){this.props.onPause&&this.props.onPause()}else this.props.onPlay&&this.props.onPlay();};n.prototype.componentWillReceiveProps=function(){this.setState({awaitingUpdate:false})};n.prototype.onMouseOut=function(o){c('ReactDOM').findDOMNode(this.refs.button).blur()};n.prototype.render=function(){var o=null,p=null;if(this.props.finishedPlaying){o=h("115482");p=j._("Replay")}else{o=this.isPlaying()?h("115336"):h("115398");p=this.isPlaying()?j._("Pause"):j._("Play")}var q=c('React').createElement(c('Image.react'),{className:"_5i0o",src:o});if(c('VideoPlayerExperiments').embeddedPlayerEnhancements){return c('React').createElement(c('AbstractButton.react'),babelHelpers['extends']({},c('TooltipData').propsFor(p,'above'),{className:"_3u33",'data-testid':c('VideoWebDriverIDs').PLAY_PAUSE_CONTROL,image:q,label:p,labelIsHidden:true,onClick:this.onButtonClick.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:'button',tabIndex:this.props.tabIndex,type:'button'}))}else return c('React').createElement(c('AbstractButton.react'),{className:"_3u33",'data-testid':c('VideoWebDriverIDs').PLAY_PAUSE_CONTROL,image:q,label:p,labelIsHidden:true,onClick:this.onButtonClick.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:'button',tabIndex:this.props.tabIndex,type:'button'});};n.propTypes={finishedPlaying:m.bool,isPlaying:m.bool,onPlay:m.func,onPause:m.func,tabIndex:m.string};f.exports=n}),null);
__d('EmbeddedVideoPlaybackRateControl.react',['cx','fbt','AbstractButton.react','React','ReactDOM','VideoPlayerExperiments','setImmediate','shallowCompare'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;function m(o){return o.toFixed(2).replace(/\.0+/,'.0')+'x'}j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(o){'use strict';k.constructor.call(this,o);this.state={isFocus:false,isFocusMenuItem:false,rate:1}}n.prototype.shouldComponentUpdate=function(o,p){'use strict';return c('shallowCompare')(this,o,p)};n.prototype.onMouseOut=function(o){'use strict';c('ReactDOM').findDOMNode(this.refs.button).blur()};n.prototype.onButtonFocus=function(o){'use strict';this.setState({isFocus:true})};n.prototype.onButtonBlur=function(){'use strict';this.setState({isFocusMenuItem:false});c('setImmediate')(function(){if(!this.state.isFocusMenuItem)this.setState({isFocus:false});}.bind(this))};n.prototype.createRateItem=function(o,p,q){'use strict';var r=function u(v){q();v.preventDefault()},s=null;if(p)s=c('React').createElement('div',{className:"_25d1"});var t=c('React').createElement('div',{className:"_4v8w",style:{backgroundColor:'inherit'}},s);return c('React').createElement('a',{href:'#',key:o,className:"_4v8v",onBlur:this.onButtonBlur.bind(this),onClick:r,onFocus:function(){this.setState({isFocusMenuItem:true})}.bind(this),tabIndex:this.props.tabIndex},t,c('React').createElement('div',{className:"_4v8x _4trg"},o))};n.prototype.render=function(){'use strict';var o=m(this.state.rate),p=null;if(!this.props.disabled){var q=[.5,1,1.25,1.5,1.75,2,2.5,3],r=q.map(function(u){return this.createRateItem(m(u),this.state.rate==u,function(){if(this.props.onSelectPlaybackRate)this.props.onSelectPlaybackRate(u);this.setState({rate:u})}.bind(this))}.bind(this));p=c('React').createElement('div',{className:"_42fl"+(this.state.isFocus?' '+"_4v4":'')},c('React').createElement('div',{className:"_4v8y"},c('React').createElement('div',{className:"_28h1"},c('React').createElement('div',{className:"_4v8x"},i._("Play Speed")),r)),c('React').createElement('div',{className:"_4v8z"}))}var s="_3u33"+(' '+"_4irg")+(!c('VideoPlayerExperiments').embeddedPlayerEnhancements||!this.props.isEmbedded?' '+"_4t3m":''),t=c('React').createElement(c('AbstractButton.react'),{className:s,label:o,onBlur:this.onButtonBlur.bind(this),onFocus:this.onButtonFocus.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:'button',tabIndex:this.props.tabIndex,type:'button'});return c('React').createElement('div',{className:"_1esn"},p,t)};n.propTypes={isEmbedded:l.bool,onSelectPlaybackRate:l.func,tabIndex:l.string};n.defaultProps={tabIndex:'-1'};f.exports=n}),null);
__d('EmbeddedVideoPlaybackTimer.react',['cx','DateConsts','React','VideoPlayerExperiments','joinClasses','shallowCompare'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(m){'use strict';j.constructor.call(this,m);this.state={displayRemainingTime:!this.props.displayElapsedTime,displayPreferenceSet:false}}l.prototype.shouldComponentUpdate=function(m,n){'use strict';return c('shallowCompare')(this,m,n)};l.prototype.componentWillReceiveProps=function(m){'use strict';if(!this.state.displayPreferenceSet)this.setState({displayRemainingTime:!m.displayElapsedTime});};l.prototype.getClock=function(m){'use strict';var n='';if(isNaN(m)){m=0}else if(m<0){m*=-1;n='-'}var o=Math.floor(m/c('DateConsts').SEC_PER_HOUR),p=Math.floor((m-o*c('DateConsts').SEC_PER_HOUR)/c('DateConsts').SEC_PER_MIN),q=null;if(!this.props.displayMilliseconds){q=Math.round(m-o*c('DateConsts').SEC_PER_HOUR-p*c('DateConsts').SEC_PER_MIN)}else q=Math.floor(m-o*c('DateConsts').SEC_PER_HOUR-p*c('DateConsts').SEC_PER_MIN);if(q===c('DateConsts').SEC_PER_MIN){q=0;p++}if(p===c('DateConsts').MIN_PER_HOUR){p=0;o++}var r=m-o*c('DateConsts').SEC_PER_HOUR-p*c('DateConsts').SEC_PER_MIN-q,s=Math.round(r*c('DateConsts').MS_PER_SEC),t=('0'+p).slice(-2),u=('0'+q).slice(-2),v=('00'+s).slice(-3),w=n;if(o===0){w+=p+':'+u}else w+=o+':'+t+':'+u;if(this.props.displayMilliseconds)w+='.'+v;return w};l.prototype.onButtonClick=function(){'use strict';this.setState({displayRemainingTime:!this.state.displayRemainingTime,displayPreferenceSet:true})};l.prototype.render=function(){'use strict';var m=this.state.displayPreferenceSet?this.state.displayRemainingTime:!this.props.displayElapsedTime,n=m?this.props.remainingTimestamp:this.props.playbackPosTimestamp,o="_4irg"+(!c('VideoPlayerExperiments').embeddedPlayerEnhancements||!this.props.isEmbedded?' '+"_4t3m":'');if(this.props.isInScrubberPreview)o="_5lde";var p=Object.assign({},this.props);delete p.displayElapsedTime;delete p.displayMilliseconds;delete p.isInScrubberPreview;delete p.playbackPosTimestamp;delete p.remainingTimestamp;delete p.isEmbedded;return c('React').createElement('div',babelHelpers['extends']({},p,{className:c('joinClasses')(this.props.className,o),onClick:this.onButtonClick.bind(this),role:'button',tabIndex:'0'}),this.getClock(n))};l.propTypes={isEmbedded:k.bool,isInScrubberPreview:k.bool,playbackPosTimestamp:k.number,remainingTimestamp:k.number,displayElapsedTime:k.bool,displayMilliseconds:k.bool};l.defaultProps={isInScrubberPreview:false,playbackPosTimestamp:0,remainingTimestamp:0,displayElapsedTime:false,displayMilliseconds:false};f.exports=l}),null);
__d('EmbeddedVideoScrubberPointOfInterestBar.react',['cx','EmbeddedVideoPlaybackTimer.react','React','ShimButton.react'],(function a(b,c,d,e,f,g,h){var i,j,k,l,m=c('React').PropTypes;i=babelHelpers.inherits(n,c('React').PureComponent);j=i&&i.prototype;function n(){var p,q;'use strict';for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=j.constructor).call.apply(p,[this].concat(s)),this.state={visibility:'hidden'},q}n.prototype.render=function(){'use strict';var p=this.props.timestamp,q=p*100/this.props.playbackDuration+'%',r=c('React').createElement(c('EmbeddedVideoPlaybackTimer.react'),{className:"_2f0g",isInScrubberPreview:true,playbackPosTimestamp:0,remainingTimestamp:p,style:{left:q,visibility:this.state.visibility}});return c('React').createElement('div',null,c('React').createElement(c('ShimButton.react'),{className:"_2f0h"+(this.props.isActive?' '+"_3t5h":''),onClick:function(s){return this.props.onPointOfInterestSelect(p)}.bind(this),onMouseEnter:function(s){return this.setState({visibility:'visible'})}.bind(this),onMouseLeave:function(s){return this.setState({visibility:'hidden'})}.bind(this),style:{left:q}}),r)};n.propTypes={playbackDuration:m.number.isRequired,timestamp:m.number.isRequired,isActive:m.bool.isRequired,onPointOfInterestSelect:m.func.isRequired};k=babelHelpers.inherits(o,c('React').Component);l=k&&k.prototype;function o(){var p,q;'use strict';for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.$EmbeddedVideoScrubberPointOfInterestBar1=function(u){return c('React').createElement(n,{key:'poi'+u,playbackDuration:this.props.playbackDuration,timestamp:u,isActive:u===this.props.currentPointOfInterest,onPointOfInterestSelect:this.props.onPointOfInterestSelect})}.bind(this),q}o.prototype.shouldComponentUpdate=function(p,q){'use strict';return p.tabIndex!=this.props.tabIndex||p.currentPointOfInterest!==this.props.currentPointOfInterest||p.playbackDuration!=this.props.playbackDuration||p.pointsOfInterest.length!=this.props.pointsOfInterest.length||p.pointsOfInterest.some(function(r,s){return this.props.pointsOfInterest[s]!=r}.bind(this))};o.prototype.render=function(){'use strict';return c('React').createElement('div',{className:"_2f0i",tabIndex:this.props.tabIndex},c('React').createElement('div',{className:"_2f0j"},this.props.pointsOfInterest.map(this.$EmbeddedVideoScrubberPointOfInterestBar1,this)))};o.propTypes={tabIndex:m.string.isRequired,playbackDuration:m.number.isRequired,onPointOfInterestSelect:m.func.isRequired,currentPointOfInterest:m.number,pointsOfInterest:m.array.isRequired};f.exports=o}),null);
__d('VideoScrubberPreviewSpriteCalculation',[],(function a(b,c,d,e,f,g){var h={getImageCoordinatesInSpriteByTime:function i(j,k){var l=this.getTotalTimeInSprite(k.maxImagesPerSprite,k.timeIntervalBetweenImages),m=Math.floor(j%l/k.timeIntervalBetweenImages),n=Math.floor(m/k.imagesPerRow),o=m%k.imagesPerRow;return {x:o*k.previewScrubberWidth,y:n*k.previewScrubberHeight}},getSpriteIndex:function i(j,k,l){var m=this.getTotalTimeInSprite(k,l);return Math.floor(j/m)+1},getTotalTimeInSprite:function i(j,k){return j*k}};f.exports=h}),null);
__d('EmbeddedVideoScrubber.react',['cx','fbt','DateConsts','EmbeddedVideoScrubberPointOfInterestBar.react','EventListener','Keys','Map','EmbeddedVideoPlaybackTimer.react','React','ReactDOM','VideoScrubberPreviewSpriteCalculation','VideoStereoFormat','JSResource','BootloadedComponent.react','VideoInstreamUtils','emptyFunction','getElementPosition','joinClasses','shallowCompare'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n){'use strict';k.constructor.call(this,n);this.$EmbeddedVideoScrubber4=new (c('Map'))();this.$EmbeddedVideoScrubber4.set(0,'');this.$EmbeddedVideoScrubber7=0;this.state={awaitingUpdate:false,barCoords:{x:0,y:0,height:0,width:0},mouseOver:false,nubEngaged:false,previewRatio:0,scrubRatio:0,timecodeRatio:0,timecodeTimestamp:0,scrubberPreviewSpriteIndex:0,scrubberPreviewBackgroundPosition:{x:0,y:0},previewThumbnailInformation:{timeIntervalBetweenImages:0,maxImagesPerSprite:0,imagesPerRow:0,imagesPerColumn:0,previewScrubberWidth:0,previewScrubberHeight:0,stereoMode:null,scrubberVideoURI:null,useScrubberVideo:false},lastSpriteDimension:{numRow:0,numColumn:0}}}m.prototype.shouldComponentUpdate=function(n,o){'use strict';return c('shallowCompare')(this,n,o)};m.prototype.onDragNubBegin=function(n){'use strict';if(n.button!==0)return;this.setState({nubEngaged:true,scrubRatio:this.getPositionRatio(n.clientX,this.state.barCoords)});this.props.onScrubBegin&&this.props.onScrubBegin();n.stopPropagation();n.preventDefault()};m.prototype.componentWillReceiveProps=function(n){'use strict';this.setState({awaitingUpdate:false});if(this.props.alwaysShowThumbnail){var o=c('getElementPosition')(c('ReactDOM').findDOMNode(this.refs.bar));this.setState({barCoords:o});this.$EmbeddedVideoScrubber6=null;this.$EmbeddedVideoScrubber5=null;this.timecodeUpdate(o.x+o.width*this.getPlayedRatio(n.playbackDuration,n.playbackPosition))}};m.prototype.componentDidUpdate=function(n,o){'use strict';if(!o.nubEngaged&&this.state.nubEngaged){this.$EmbeddedVideoScrubber1=c('EventListener').listen(document,'mousemove',function(p){this.onDragNubUpdate(p);this.onTimecodeUpdate(p)}.bind(this));this.$EmbeddedVideoScrubber2=c('EventListener').listen(document,'mouseup',this.onDragNubRelease.bind(this))}else if(o.nubEngaged&&!this.state.nubEngaged){if(this.$EmbeddedVideoScrubber1)this.$EmbeddedVideoScrubber1.remove();if(this.$EmbeddedVideoScrubber2)this.$EmbeddedVideoScrubber2.remove();}if(!o.mouseOver&&this.state.mouseOver){this.$EmbeddedVideoScrubber3=c('EventListener').listen(document,'mousemove',this.onTimecodeUpdate.bind(this))}else if(o.mouseOver&&!this.state.mouseOver)if(this.$EmbeddedVideoScrubber3)this.$EmbeddedVideoScrubber3.remove();};m.prototype.timecodeUpdate=function(n){'use strict';var o=this.props.playbackDuration;if(!o)return;var p=this.getPositionRatio(n,this.state.barCoords)*o,q=this.$EmbeddedVideoScrubber5?this.$EmbeddedVideoScrubber5:c('getElementPosition')(c('ReactDOM').findDOMNode(this.refs.timecode));this.$EmbeddedVideoScrubber5=q;if(!this.props.hasScrubberPreview){var r=this.getPositionRatio(n,this.state.barCoords)-Math.ceil(q.width/2)/this.state.barCoords.width;this.setState({timecodeTimestamp:p,timecodeRatio:r})}else if(this.props.previewThumbnailInformation){if(this.state.previewThumbnailInformation.previewScrubberWidth===0)this.retrievePreviewThumbnailInfo();c('ReactDOM').unstable_batchedUpdates(function(){if(this.state.previewThumbnailInformation.useScrubberVideo&&this.state.previewThumbnailInformation.scrubberVideoURI!==null){this.updatePreviewThumbnailVideo(p,q,n)}else if(this.props.scrubberPreviewSprites)this.updatePreviewThumbnail(this.props.scrubberPreviewSprites,p,q,n);}.bind(this))}};m.prototype.onTimecodeUpdate=function(n){'use strict';this.timecodeUpdate(n.clientX);n.preventDefault();n.stopPropagation()};m.prototype.updatePreviewThumbnail=function(n,o,p,q){'use strict';this.setState({timecodeTimestamp:o});var r=Math.floor(o),s=this.$EmbeddedVideoScrubber4;if(!this.isSpriteMapURIFetched())this.$EmbeddedVideoScrubber4=n;if(this.state.previewThumbnailInformation){var t=this.state.previewThumbnailInformation;this.updatePreviewThumbnailImage(r,t,s)}this.updatePreviewThumbnailLocation(p,q)};m.prototype.updatePreviewThumbnailVideo=function(n,o,p){'use strict';this.setState({timecodeTimestamp:n});var q=c('ReactDOM').findDOMNode(this.refs.previewThumbnailVideo);q.currentTime=n/30;this.updatePreviewThumbnailLocation(o,p)};m.prototype.updatePreviewThumbnailLocation=function(n,o){'use strict';var p=this.$EmbeddedVideoScrubber6?this.$EmbeddedVideoScrubber6:(this.$EmbeddedVideoScrubber6=c('getElementPosition')(c('ReactDOM').findDOMNode(this.refs.previewThumbnailContainer)));this.$EmbeddedVideoScrubber6=p;var q=this.getPositionRatio(o,this.state.barCoords)-Math.ceil(p.width/2)/this.state.barCoords.width,r=(p.width-n.width)/(2*p.width);this.setState({timecodeRatio:r,previewRatio:q})};m.prototype.updatePreviewThumbnailImage=function(n,o,p){var q,r=this;'use strict';var s=c('VideoScrubberPreviewSpriteCalculation').getImageCoordinatesInSpriteByTime(n,o),t=c('VideoScrubberPreviewSpriteCalculation').getSpriteIndex(n,o.maxImagesPerSprite,o.timeIntervalBetweenImages);if(t==this.getNumberOfSprites()&&this.state.lastSpriteDimension.numRow==0&&this.$EmbeddedVideoScrubber4)(function(){var u=r.$EmbeddedVideoScrubber4.get(t),v=new Image(),w=r.onLastImageLoad.bind(r);v.onload=function(){w(this.width,this.height)};v.src=u})();this.setState({scrubberPreviewSpriteIndex:t,scrubberPreviewBackgroundPosition:s})};m.prototype.onLastImageLoad=function(n,o){'use strict';this.setState({lastSpriteDimension:{numRow:o/this.state.previewThumbnailInformation.previewScrubberHeight,numColumn:n/this.state.previewThumbnailInformation.previewScrubberWidth}})};m.prototype.retrievePreviewThumbnailInfo=function(){'use strict';this.setState({previewThumbnailInformation:this.props.previewThumbnailInformation})};m.prototype.isSpriteMapURIFetched=function(){'use strict';if(this.$EmbeddedVideoScrubber4){return this.$EmbeddedVideoScrubber4.size>1}else return false;};m.prototype.getPositionRatio=function(n,o){'use strict';var p=n-o.x,q=p/o.width;return Math.min(Math.max(0,q),1)};m.prototype.onDragNubUpdate=function(n){'use strict';this.setState({scrubRatio:this.getPositionRatio(n.clientX,this.state.barCoords)})};m.prototype.onDragNubRelease=function(n){'use strict';var o=this.props.playbackDuration;if(!o)return;var p=this.state.awaitingUpdate;if(this.props.onScrubEnd){this.props.onScrubEnd(this.state.scrubRatio*o);p=true}this.setState({nubEngaged:false,awaitingUpdate:p});n.preventDefault();n.stopPropagation()};m.prototype.getPlayedRatio=function(n,o){'use strict';if(this.state.nubEngaged||this.state.awaitingUpdate)return this.state.scrubRatio;if(!n||!o)return 0;var p=o/n;return this.getRangeLimitedRatio(p)};m.prototype.getBufferedRatio=function(){'use strict';var n=this.props.playbackDuration,o=this.props.bufferedPosition;if(!n||!o)return 0;var p=o/n;return this.getRangeLimitedRatio(p)};m.prototype.getRangeLimitedRatio=function(n){'use strict';if(isNaN(n)||n<0||n>1)return 0;return n};m.prototype.getNumberOfSprites=function(){'use strict';if(this.$EmbeddedVideoScrubber4)return this.$EmbeddedVideoScrubber4.size;return 0};m.prototype.getAdBreakIndicators=function(){'use strict';if(!this.props.playbackDuration||!this.props.adBreaks)return null;var n=[];for(var o=0;o<this.props.adBreaks.length;o++){var p=this.props.adBreaks[o],q=p.getTimeOffsetInMs();if(q===null||q===undefined)continue;q/=c('DateConsts').MS_PER_SEC;var r=this.props.playbackDuration;if(q<0||q>r)continue;var s={left:q/r*100+'%'};n.push(c('React').createElement('div',{key:'ad_break_indicator_'+o,style:s,className:p.getIsAdBreakAutoInserted()?"_3mi6":"_5z5n"}))}return c('React').createElement('div',null,n)};m.prototype.getInsertedAdBreaks=function(){'use strict';if(!this.props.playbackDuration||!this.props.insertedAdBreaks)return null;var n=[];this.props.insertedAdBreaks.map(function(o,p){var q=o.timeOffset,r=this.props.playbackDuration,s={left:q/r*100-1.4+'%'};n.push(c('React').createElement('div',{key:'inserted_ad_break'+p,style:s,className:"_2d49"+(this.props.isAdBreakDisabled?' '+"_9ob":'')},p+1))}.bind(this));return c('React').createElement('div',null,n)};m.prototype.getEligibleAdBreaksTimeSegments=function(){'use strict';if(!this.props.playbackDuration||!this.props.insertedAdBreaks)return null;var n=0;if(this.state.awaitingUpdate){n=this.$EmbeddedVideoScrubber7}else n=this.props.playbackPosition;var o=this.props.playbackDuration,p=c('VideoInstreamUtils').getEligibleTimeSegments(this.props.insertedAdBreaks,o);if(this.state.nubEngaged){this.$EmbeddedVideoScrubber7=this.state.timecodeTimestamp}else this.$EmbeddedVideoScrubber7=n;var q=[];p.forEach(function(r,s){var t=Math.max(2,(r.end-r.start)/o*100),u=this.$EmbeddedVideoScrubber7>=r.start&&this.$EmbeddedVideoScrubber7<=r.end;if(u){var v={left:'calc('+r.start/o*100+'% - 12px)',width:'calc('+t+'% + 16px)'};q.push(c('React').createElement('span',{key:'time_segment'+s,className:"_2xts",style:v}))}else{var w={left:'calc('+r.start/o*100+'% - 10px)',width:'calc('+t+'% + 16px)'};q.push(c('React').createElement('span',{key:'time_segment'+s,className:"_2xtr",style:w}))}}.bind(this));return c('React').createElement('div',{className:"_44bi"},q)};m.prototype.onMouseEnter=function(n){'use strict';if(this.props.alwaysShowThumbnail)return;var o=c('getElementPosition')(c('ReactDOM').findDOMNode(this.refs.bar));this.setState({mouseOver:true,barCoords:o})};m.prototype.onMouseLeave=function(n){'use strict';if(this.props.alwaysShowThumbnail)return;c('ReactDOM').findDOMNode(this.refs.bar).blur();c('ReactDOM').unstable_batchedUpdates(function(){this.setState({mouseOver:false});if(!this.state.nubEngaged)this.setState({scrubberPreviewSpriteIndex:0,scrubberPreviewBackgroundPosition:{x:0,y:0}});}.bind(this));this.$EmbeddedVideoScrubber6=null;this.$EmbeddedVideoScrubber5=null};m.prototype.onMouseEnterOnThumbnailOrTimecode=function(n){'use strict';if(this.state.nubEngaged||this.props.alwaysShowThumbnail)return;var o=void 0;if(this.props.hasScrubberPreview){o=this.refs.previewThumbnailContainer}else o=this.refs.timecode;var p=c('ReactDOM').findDOMNode(o);p.style.visibility='hidden'};m.prototype.onMouseLeaveOnThumbnailOrTimecode=function(n){'use strict';if(this.state.nubEngaged||this.props.alwaysShowThumbnail)return;var o=void 0;if(this.props.hasScrubberPreview){o=this.refs.previewThumbnailContainer}else o=this.refs.timecode;var p=c('ReactDOM').findDOMNode(o);p.style.visibility='visible'};m.prototype.onKeyDown=function(n){'use strict';var o=this.props.playbackDuration,p=this.props.playbackPosition;if(!o||!p)return;var q=p;if(n.keyCode===c('Keys').RIGHT){n.preventDefault();n.stopPropagation();q+=5;if(q>=o)q=o-.01;}else if(n.keyCode===c('Keys').LEFT){n.preventDefault();n.stopPropagation();q-=5;if(q<0)q=0;}else if(n.keyCode===c('Keys').HOME){n.preventDefault();n.stopPropagation();q=0}else if(n.keyCode===c('Keys').END){n.preventDefault();n.stopPropagation();q=o-.01}else return;if(this.props.onScrubEnd)this.props.onScrubEnd(q);};m.prototype.canShowHeatmap=function(){'use strict';return this.props.interestLevels!=null&&this.props.isPlaying!=null&&this.props.controlsHidden!=null&&this.props.drawer!=null};m.prototype.render=function(){'use strict';var n=c('joinClasses')(this.props.className,"_gn0"+(this.state.nubEngaged?' '+"_gn1":'')),o=(this.props.hasScrubberPreview?"_24wr":'')+(!this.props.hasScrubberPreview?' '+"_4irh":''),p={width:this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition)*100+'%'},q={width:this.getBufferedRatio()*100+'%'},r={left:this.state.timecodeRatio*100+'%'},s={},t={},u=null,v=null,w=null;if(this.state.mouseOver||this.state.nubEngaged||this.props.alwaysShowThumbnail){w=c('React').createElement(c('EmbeddedVideoPlaybackTimer.react'),{className:o,isInScrubberPreview:true,onMouseEnter:this.onMouseEnterOnThumbnailOrTimecode.bind(this),onMouseLeave:this.onMouseLeaveOnThumbnailOrTimecode.bind(this),playbackPosTimestamp:0,ref:'timecode',remainingTimestamp:this.state.timecodeTimestamp,style:r});if(this.props.hasScrubberPreview&&this.state.previewThumbnailInformation){var x=this.state.previewThumbnailInformation.previewScrubberWidth,y=this.state.previewThumbnailInformation.previewScrubberHeight,z=100,aa=100;if(this.getNumberOfSprites()!==this.state.scrubberPreviewSpriteIndex){z*=this.state.previewThumbnailInformation.imagesPerRow;aa*=this.state.previewThumbnailInformation.imagesPerColumn}else if(this.state.lastSpriteDimension.numRow){z*=this.state.lastSpriteDimension.numRow;aa*=this.state.lastSpriteDimension.numColumn}var ba=this.state.previewThumbnailInformation.stereoMode;if(ba===c('VideoStereoFormat').LEFT_RIGHT){x/=2;z*=2}else if(ba===c('VideoStereoFormat').TOP_BOTTOM){y/=2;aa*=2}var ca=1;if(this.props.isFullscreen)ca=2;if(this.state.previewThumbnailInformation.useScrubberVideo&&this.state.previewThumbnailInformation.scrubberVideoURI!==null){s={width:x*ca+'px',height:y*ca+'px'};v=c('React').createElement('video',{muted:'true',preload:'auto',ref:'previewThumbnailVideo',src:this.state.previewThumbnailInformation.scrubberVideoURI,style:s})}else if(this.$EmbeddedVideoScrubber4){var da='';if(this.state.scrubberPreviewSpriteIndex){var ea=this.$EmbeddedVideoScrubber4.get(this.state.scrubberPreviewSpriteIndex);if(ea)da='url('+ea+')';}var fa=void 0;if(z>100){fa=z+'% '+aa+'%'}else da='';s={width:x*ca+'px',height:y*ca+'px',backgroundImage:da,backgroundPosition:'-'+this.state.scrubberPreviewBackgroundPosition.x*ca+'px '+'-'+this.state.scrubberPreviewBackgroundPosition.y*ca+'px',backgroundSize:fa};v=c('React').createElement('div',{className:"_24wt",ref:'previewThumbnail',style:s})}t={left:this.state.previewRatio*100+'%',display:this.props.alwaysShowThumbnail?'block':undefined};u=c('React').createElement('div',{onMouseEnter:this.onMouseEnterOnThumbnailOrTimecode.bind(this),onMouseLeave:this.onMouseLeaveOnThumbnailOrTimecode.bind(this),className:"_24ws",ref:'previewThumbnailContainer',style:t},v,w)}}var ga=null;if(this.props.pointsOfInterest.length>0)ga=c('React').createElement(c('EmbeddedVideoScrubberPointOfInterestBar.react'),{tabIndex:this.props.tabIndex,playbackDuration:this.props.playbackDuration,onPointOfInterestSelect:this.props.onPointOfInterestSelect,currentPointOfInterest:this.props.currentPointOfInterest,pointsOfInterest:this.props.pointsOfInterest});var ha=this.getAdBreakIndicators(),ia=null;if(this.canShowHeatmap()){var ja=this.props.hasScrubberPreview?u:w,ka=null;if(ja!=null)ka=this.refs[ja.ref];ia=c('React').createElement('div',{className:"_27ew"},c('React').createElement('div',{className:"_5h19",style:p},c('React').createElement('div',{className:"_gn5 _5ixx",ref:'nub'})),c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('LiveHeatmap.react').__setRef('EmbeddedVideoScrubber.react'),bootloadPlaceholder:c('React').createElement('div',null),controlsHidden:this.props.controlsHidden,drawer:this.props.drawer,interestLevels:this.props.interestLevels,isPlaying:this.props.isPlaying,playedRatio:this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition),bufferedRatio:this.getBufferedRatio(),nubEngaged:this.state.nubEngaged,scrubberPreviewElement:ka,ref:'bar',tabIndex:this.props.tabIndex,'aria-label':i._("Change Position")}),ja,ha)}var la=this.props.playbackDuration>500?10:1,ma=Math.round(this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition)*100*la)/la,na=ma+'%',oa=c('React').createElement('div',{className:n,onKeyDown:this.onKeyDown.bind(this),onMouseDown:this.onDragNubBegin.bind(this),onMouseEnter:this.onMouseEnter.bind(this),onMouseLeave:this.onMouseLeave.bind(this),role:'presentation'},ia?ia:c('React').createElement('div',{tabIndex:this.props.tabIndex,role:'slider','aria-orientation':'horizontal','aria-valuemin':'0','aria-valuemax':this.props.playbackDuration,'aria-valuenow':this.props.playbackPosition,'aria-valuetext':na,'aria-label':i._("Change Position"),className:"_gn2",ref:'bar'},c('React').createElement('div',{className:"_gn3",style:q}),c('React').createElement('div',{style:p,className:"_gn4"},c('React').createElement('div',{className:"_gn5 _5ixx",ref:'nub'})),this.props.hasScrubberPreview?u:w,ha,this.getInsertedAdBreaks(),this.getEligibleAdBreaksTimeSegments()));return c('React').createElement('div',null,oa,ga)};m.propTypes={alwaysShowThumbnail:l.bool,bufferedPosition:l.number.isRequired,hasScrubberPreview:l.bool,isFullscreen:l.bool,onScrubBegin:l.func.isRequired,onPointOfInterestSelect:l.func,onScrubEnd:l.func.isRequired,playbackDuration:l.number.isRequired,playbackPosition:l.number.isRequired,pointsOfInterest:l.array,previewThumbnailInformation:l.object,scrubberPreviewSprites:l.object,tabIndex:l.string.isRequired};m.defaultProps={alwaysShowThumbnail:false,hasScrubberPreview:false,pointsOfInterest:[],onPointOfInterestSelect:c('emptyFunction'),onScrubBegin:c('emptyFunction'),onScrubEnd:c('emptyFunction')};f.exports=m}),null);
__d('EmbeddedVideoSidepaneToggleControl.react',['ix','cx','fbt','AbstractButton.react','Image.react','React','TooltipData','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').PureComponent);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.onButtonClick=function(){this.props.onSidePaneToggle()}.bind(this),p}n.prototype.render=function(){var o=this.props.isSidePaneOpen?j._("Click to hide details"):j._("Click to show details"),p=this.props.isSidePaneOpen?h("114795"):h("114783");return c('React').createElement(c('AbstractButton.react'),babelHelpers['extends']({className:"_3u33"},c('TooltipData').propsFor(o,'above'),{image:c('React').createElement(c('Image.react'),{className:"_345n",src:p}),label:this.props.label,labelIsHidden:this.props.labelIsHidden,onClick:this.onButtonClick,ref:'button',tabIndex:this.props.tabIndex,type:'button'}))};n.defaultProps={label:j._("Toggle details"),labelIsHidden:true};n.propTypes={isSidePaneOpen:m.bool,label:m.string,onSidePaneToggle:m.func,tabIndex:m.string};f.exports=n}),null);
__d('EmbeddedVideoVolumeSlider.react',['cx','EventListener','React','ReactDOM','getElementPosition','shallowCompare'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(m){'use strict';j.constructor.call(this,m);this.state={awaitingUpdate:false,engaged:false,volume:m.volume}}l.prototype.shouldComponentUpdate=function(m,n){'use strict';return c('shallowCompare')(this,m,n)};l.prototype.componentWillReceiveProps=function(m){'use strict';this.setState({awaitingUpdate:false})};l.prototype.componentDidUpdate=function(m,n){'use strict';if(!this.state.engaged&&n.engaged){if(this.$EmbeddedVideoVolumeSlider2)this.$EmbeddedVideoVolumeSlider2.remove();if(this.$EmbeddedVideoVolumeSlider1)this.$EmbeddedVideoVolumeSlider1.remove();}else if(this.state.engaged&&!n.engaged){this.$EmbeddedVideoVolumeSlider1=c('EventListener').listen(document,'mousemove',this.onMouseMove.bind(this));this.$EmbeddedVideoVolumeSlider2=c('EventListener').listen(document,'mouseup',this.onMouseUp.bind(this))}};l.prototype.onMouseDown=function(m){'use strict';if(m.button!==0)return;this.props.onVolumeChangeBegin&&this.props.onVolumeChangeBegin(this.state.volume);if(this.props.isHorizontal){this.setState({engaged:true,volume:this.getClampedClickPositionVolume(m.clientX)})}else this.setState({engaged:true,volume:this.getClampedClickPositionVolume(m.clientY)});m.preventDefault();m.stopPropagation()};l.prototype.getClampedClickPositionVolume=function(m){'use strict';var n=c('getElementPosition')(c('ReactDOM').findDOMNode(this.refs.slider)),o=c('getElementPosition')(c('ReactDOM').findDOMNode(this.refs.nub)).height;if(this.props.isHorizontal){var p=m+o/2-n.x;return Math.max(0,Math.min(1,p/n.width))}else{var q=n.y-m+n.height+o/2;return Math.max(0,Math.min(1,q/n.height))}};l.prototype.onMouseUp=function(m){'use strict';this.props.onVolumeChangeEnd&&this.props.onVolumeChangeEnd(this.state.volume);this.setState({engaged:false,awaitingUpdate:true});m.preventDefault();m.stopPropagation()};l.prototype.onMouseMove=function(m){'use strict';if(this.props.isHorizontal){this.setState({volume:this.getClampedClickPositionVolume(m.clientX)})}else this.setState({volume:this.getClampedClickPositionVolume(m.clientY)});this.props.onVolumeChange&&this.props.onVolumeChange(this.state.volume);m.preventDefault();m.stopPropagation()};l.prototype.getVolume=function(){'use strict';if(this.state.engaged||this.state.awaitingUpdate)return this.state.volume;return this.props.volume};l.prototype.render=function(){'use strict';var m=this.props.isHorizontal||false,n=m?{width:Math.round(this.getVolume()*100)+'%'}:{height:Math.round(this.getVolume()*100)+'%'},o="_2-ml"+(m?' '+"_3cxz":'')+(this.state.engaged?' '+"_gn1":'');return c('React').createElement('div',{className:o,onMouseDown:this.onMouseDown.bind(this)},c('React').createElement('div',{className:"_3ghu"},c('React').createElement('div',{className:"_2-mm",ref:'slider'},c('React').createElement('div',{className:"_2-mn",style:n},c('React').createElement('div',{className:"_2-mo _5ixx",ref:'nub'})))),c('React').createElement('div',{className:"_2-mp"}))};l.propTypes={volume:k.number,onVolumeChangeBegin:k.func,onVolumeChangeEnd:k.func,onVolumeChange:k.func};l.defaultProps={volume:0,onVolumeChange:function m(n){},onVolumeChangeBegin:function m(n){},onVolumeChangeEnd:function m(n){}};f.exports=l}),null);
__d('SpatialAudioFeedNUX.react',['ix','fbt','cx','AsyncRequest','Image.react','React','XBasicFBNuxDismissController','XUIAmbientNUX.react','XUIText.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=i._("Experience more with Audio 360"),n=i._("Hear sound from all directions when you wear headphones"),o=4576;k=babelHelpers.inherits(p,c('React').Component);l=k&&k.prototype;function p(q){l.constructor.call(this,q);this.$SpatialAudioFeedNUX1=function(){this.setState({showNux:false});var r=c('XBasicFBNuxDismissController').getURIBuilder().setInt('nux_id',o).getURI();new (c('AsyncRequest'))().setURI(r).send()}.bind(this);this.state={showNux:true}}p.prototype.render=function(){return c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:this.props.contextRef,shown:this.state.showNux,position:'below',alignment:'right',onCloseButtonClick:this.$SpatialAudioFeedNUX1,width:'auto'},c('React').createElement('div',{className:"_4r0v"},c('React').createElement('div',{className:"_4r0w"},c('React').createElement('div',{className:"_4r0x"},c('React').createElement(c('Image.react'),{src:h("114375")}))),c('React').createElement('div',{className:"_4r0y"},c('React').createElement(c('XUIText.react'),{size:'medium',className:"_4r0z"},m),c('React').createElement(c('XUIText.react'),{size:'small',className:"_4r0-"},n))))};f.exports=p}),null);
__d('EmbeddedVideoVolumeControl.react',['ix','cx','fbt','invariant','AbstractButton.react','Image.react','Keys','React','ReactDOM','SpatialAudioFeedNUX.react','VideoPlayerExperiments','VideoPlayerVolumeSettings','VideoWebDriverIDs','EmbeddedVideoVolumeSlider.react','fbglyph','shallowCompare'],(function a(b,c,d,e,f,g,h,i,j,k){var l,m,n=c('React').PropTypes;l=babelHelpers.inherits(o,c('React').Component);m=l&&l.prototype;function o(p){'use strict';m.constructor.call(this,p);this.state={nubEngaged:false,focused:false,lastVolumeBeforeMute:1}}o.prototype.shouldComponentUpdate=function(p,q){'use strict';return c('shallowCompare')(this,p,q)};o.prototype.onButtonClick=function(){'use strict';this.checkLastVolumeBeforeMuteInvariant();if(this.props.volume===0)return this.onSliderVolumeChange(this.state.lastVolumeBeforeMute);this.props.onToggleMuted&&this.props.onToggleMuted()};o.prototype.onButtonFocus=function(){'use strict';this.setState({focused:true})};o.prototype.onButtonBlur=function(){'use strict';this.setState({focused:false})};o.prototype.onKeyDown=function(p){'use strict';var q=this.props.volume;if(p.keyCode===c('Keys').UP){p.preventDefault();p.stopPropagation();q+=.05;if(q>1)q=1;}else if(p.keyCode===c('Keys').DOWN){p.preventDefault();p.stopPropagation();q-=.05;if(q<0)q=0;}else return;this.onSliderVolumeChangeEnd(q)};o.prototype.onMouseOut=function(p){'use strict';c('ReactDOM').findDOMNode(this.refs.button).blur()};o.prototype.getVolume=function(){'use strict';if(this.props.isMuted)return 0;return this.props.volume};o.prototype.onSliderVolumeChangeBegin=function(){'use strict';var p=this.props.volume;if(p>0){this.setState({nubEngaged:true,lastVolumeBeforeMute:p});c('VideoPlayerVolumeSettings').saveLastVolumeBeforeMute(p)}};o.prototype.onSliderVolumeChangeEnd=function(p){'use strict';if(p>0){this.setState({lastVolumeBeforeMute:p});c('VideoPlayerVolumeSettings').saveLastVolumeBeforeMute(p);this.onSliderVolumeChange(p)}else{this.props.onVolumeChange(this.state.lastVolumeBeforeMute);if(!this.props.isMuted)this.props.onToggleMuted&&this.props.onToggleMuted();}this.setState({nubEngaged:false})};o.prototype.onSliderVolumeChange=function(p){'use strict';if(p>0&&this.props.isMuted||p===0&&!this.props.isMuted)this.props.onToggleMuted&&this.props.onToggleMuted();this.props.onVolumeChange&&this.props.onVolumeChange(p)};o.prototype.checkLastVolumeBeforeMuteInvariant=function(){'use strict';this.state.lastVolumeBeforeMute>0&&this.state.lastVolumeBeforeMute<=1||k(0)};o.prototype.render=function(){'use strict';var p=Math.round(this.getVolume()*100),q=null;if(p==0){q=c('React').createElement(c('Image.react'),{className:"_5i0o",src:h("115743")})}else{var r=null;if(p<=33){r=h("115737")}else if(p<=66){r=h("115740")}else r=h("115746");q=c('React').createElement('div',{className:"_44_"},c('React').createElement('div',{className:"_454"},c('React').createElement(c('Image.react'),{className:"_5i0o",src:r})))}var s="_3s02"+(this.state.nubEngaged?' '+"_gn1":'')+(this.state.focused?' '+"_4v4":''),t="_3u33"+(' '+"_3s03")+(!this.getVolume()&&!c('VideoPlayerExperiments').redesign?' '+"_17bp":''),u=!this.getVolume()?j._("Unmute"):j._("Mute"),v=c('React').createElement(c('EmbeddedVideoVolumeSlider.react'),{onVolumeChangeBegin:this.onSliderVolumeChangeBegin.bind(this),onVolumeChangeEnd:this.onSliderVolumeChangeEnd.bind(this),onVolumeChange:this.onSliderVolumeChange.bind(this),isHorizontal:this.props.isHorizontal||false,volume:this.getVolume()}),w=c('React').createElement(c('AbstractButton.react'),{className:t,'data-testid':c('VideoWebDriverIDs').MUTE_UNMUTE_CONTROL,image:q,label:u,labelIsHidden:true,onBlur:this.onButtonBlur.bind(this),onClick:this.onButtonClick.bind(this),onFocus:this.onButtonFocus.bind(this),onKeyDown:this.onKeyDown.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:'button',tabIndex:this.props.tabIndex,type:'button'}),x=this.props.showSpatialAudioNUX?c('React').createElement(c('SpatialAudioFeedNUX.react'),{contextRef:function(){return this.refs.button}.bind(this)}):null;if(this.props.isHorizontal)return c('React').createElement('div',{className:s},w,v,x);return c('React').createElement('div',{className:s},v,w,x)};o.propTypes={isMuted:n.bool,onVolumeChange:n.func,onToggleMuted:n.func,tabIndex:n.string,volume:n.number};f.exports=o}),null);
__d('EmbeddedVideoControls.react',['ix','cx','fbt','AbstractButton.react','BootloadedComponent.react','EmbeddedVideoFBIconControl.react','EmbeddedVideoFullscreenControl.react','JSResource','Image.react','EmbeddedVideoPlaybackControl.react','EmbeddedVideoPlaybackRateControl.react','EmbeddedVideoPlaybackTimer.react','React','EmbeddedVideoScrubber.react','EmbeddedVideoSidepaneToggleControl.react','TooltipData','EmbeddedVideoVolumeControl.react','VideoPlayerExperiments','fbglyph','joinClasses','shallowCompare'],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(o){'use strict';l.constructor.call(this,o)}n.prototype.shouldComponentUpdate=function(o,p){'use strict';return c('shallowCompare')(this,o,p)};n.prototype.isHidden=function(){'use strict';return this.props.hidden};n.prototype.isTransparent=function(){'use strict';return this.props.transparent};n.prototype.render=function(){'use strict';var o=c('VideoPlayerExperiments').inlineSoundVisible,p=(!c('VideoPlayerExperiments').redesign?"_17l4":'')+(' '+"_2mbh")+(this.isHidden()?' '+"_2mbi":'')+(this.isTransparent()&&!o?' '+"_5744":''),q=(c('VideoPlayerExperiments').redesign&&c('VideoPlayerExperiments').noanim?"_fwi":'')+(c('VideoPlayerExperiments').redesign&&c('VideoPlayerExperiments').noshadow?' '+"_fwj":'')+(c('VideoPlayerExperiments').redesign?' '+"_i5q":'')+(this.props.showSidePaneToggle?' '+"_369t":''),r="_2mbj"+(' '+"_2mbk")+(this.isTransparent()&&o?' '+"_5744":''),s="_2mbj"+(' '+"_yaw")+(this.isTransparent()&&o?' '+"_5744":''),t="_2mbj"+(' '+"_2mbl")+(this.isTransparent()&&o?' '+"_5744":''),u="_2mbj"+(' '+"_4a9j")+(this.isTransparent()&&(!this.props.isInline||this.props.isFullscreen||!this.props.isPlaying)?' '+"_5744":''),v="_5rbl",w="_4lqt _4ubd",x="_4lqt"+(' '+"_4ubd")+(' '+"_3t0x")+(!this.props.isCommentAttachment?' '+"hidden_elem":''),y=null;if(!this.props.isLive&&!this.props.hideRemainingTime){var z=this.props.playbackPosition-this.props.playbackDuration;y=c('React').createElement(c('EmbeddedVideoPlaybackTimer.react'),{className:"_25e2"+(this.props.displayMilliseconds?' '+"_5ziu":''),isEmbedded:this.props.isEmbedded,playbackPosTimestamp:this.props.playbackPosition,remainingTimestamp:z,displayElapsedTime:this.props.displayElapsedTime,displayMilliseconds:this.props.displayMilliseconds})}var aa=null,ba=null,ca=null,da=null;if(!this.props.isLive||this.props.hasHD)if(!this.props.hideSettings)if(c('VideoPlayerExperiments').redesign){ca=c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('EmbeddedVideoSettingsControl.react').__setRef('EmbeddedVideoControls.react'),bootloadPlaceholder:c('React').createElement('span',null),disabled:this.props.isCasting,hasHD:this.props.hasHD,hasSubtitles:this.props.hasSubtitles,isHD:this.props.isHD,isSphericalVideo:this.props.isSphericalVideo,areSubtitlesActive:this.props.areSubtitlesActive,onToggleHD:this.props.onToggleHD,onToggleSubtitles:this.props.onToggleSubtitles,tabIndex:'0',availableQualities:this.props.availableQualities,selectedQuality:this.props.selectedQuality,canAutoSelectVideoQuality:this.props.canAutoSelectVideoQuality,onSelectQuality:this.props.onSelectQuality,showQualitySelector:this.props.showQualitySelector,qualitySelectorMinStreams:this.props.qualitySelectorMinStreams,streamingFormat:this.props.streamingFormat})}else{if(this.props.hasHD)aa=c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('EmbeddedVideoQualityControl.react').__setRef('EmbeddedVideoControls.react'),bootloadPlaceholder:c('React').createElement('span',null),isHD:this.props.isHD,onToggleHD:this.props.onToggleHD,tabIndex:'0'});if(this.props.hasSubtitles)ba=c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('span',null),bootloadLoader:c('JSResource')('EmbeddedVideoClosedCaptionsControl.react').__setRef('EmbeddedVideoControls.react'),areClosedCaptionsActive:this.props.areSubtitlesActive,onToggleClosedCaptions:this.props.onToggleSubtitles,tabIndex:'0'});}if(this.props.isLive)if(c('VideoPlayerExperiments').hlsButton)da=c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('span',null),bootloadLoader:c('JSResource')('EmbeddedVideoToHLSControl.react').__setRef('EmbeddedVideoControls.react'),areHLSActive:this.props.areHLSActive,onToggleHLS:this.props.onToggleHLS,tabIndex:'0'});var ea=null;if(this.props.allowFullscreen)if(this.props.doesFullscreenEnterTahoe&&this.props.isInline){var fa=c('React').createElement(c('Image.react'),{className:"_5i0o",src:h("115510")}),ga=j._("Click to enlarge");ea=c('React').createElement(c('AbstractButton.react'),babelHelpers['extends']({},c('TooltipData').propsFor(ga,'above'),{className:"_3u33 _400z _1vek",image:fa,label:ga,labelIsHidden:true,onClick:this.props.onEnterTahoe,tabIndex:'0'}))}else{var ha=this.props.isFullscreen?j._("Click to exit fullscreen"):j._("Click to enter fullscreen");ea=c('React').createElement(c('EmbeddedVideoFullscreenControl.react'),babelHelpers['extends']({},c('TooltipData').propsFor(ha,'above'),{disabled:this.props.isCasting&&!this.props.isFullscreen,isFullscreen:this.props.isFullscreen,onToggleFullscreen:this.props.onToggleFullscreen,tabIndex:'0'}))}var ia=null;if(this.props.hasWatchAndScroll&&!this.props.isFullscreen)ia=c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('span',null),bootloadLoader:c('JSResource')('EmbeddedVideoWatchAndScrollControl.react').__setRef('EmbeddedVideoControls.react'),disabled:this.props.isCasting,onEnterWatchAndScroll:this.props.onEnterWatchAndScroll,isSlidingWNSEligible:this.props.isSlidingWNSEligible,onWNSNUXClose:this.props.onWNSNUXClose,showWNSNUX:this.props.showWNSNUX});var ja=null;if(this.props.allowCasting&&this.props.hasFoundReceiver)ja=c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('span',null),bootloadLoader:c('JSResource')('EmbeddedVideoCastingControl.react').__setRef('EmbeddedVideoControls.react'),hasFoundReceiver:this.props.hasFoundReceiver,isCasting:this.props.isCasting,isCastingSupported:this.props.isCastingSupported,onStartCast:this.props.onStartCast,onStopCast:this.props.onStopCast});var ka=null;if(c('VideoPlayerExperiments').embeddedPlayerEnhancements){ka=this.props.permalinkURL?c('React').createElement(c('EmbeddedVideoFBIconControl.react'),{permalinkURL:this.props.permalinkURL,playbackPosTimestamp:this.props.playbackPosition}):null}else{var la=null;if(this.props.permalinkURL){la=c('React').createElement(c('Image.react'),{className:"_5i0o",src:h("114229")});ka=c('React').createElement(c('AbstractButton.react'),{className:"_3u33",href:this.props.permalinkURL,image:la,label:j._("Open in a new tab"),labelIsHidden:true,ref:'button',tabIndex:'0',target:'_blank',type:'button'})}}var ma=null,na=null,oa=null;if(!this.props.isLive&&!this.props.hidePlaybackControl){na=c('React').createElement(c('EmbeddedVideoPlaybackControl.react'),{finishedPlaying:this.props.finishedPlaying,isPlaying:this.props.isPlaying,onPause:this.props.onPause,onPlay:this.props.onPlay,tabIndex:'0'});if(this.props.showPlaybackRateControl&&this.props.onSetVideoPlaybackRate){var pa=j._("Playback Rate");oa=c('React').createElement(c('EmbeddedVideoPlaybackRateControl.react'),babelHelpers['extends']({},c('TooltipData').propsFor(pa,'above'),{isEmbedded:this.props.isEmbedded,tabIndex:'0',onSelectPlaybackRate:this.props.onSetVideoPlaybackRate}))}if(!this.props.hidePlaybackScrubber)ma=c('React').createElement(c('EmbeddedVideoScrubber.react'),{adBreaks:this.props.adBreaks,bufferedPosition:this.props.bufferedPosition,controlsHidden:this.props.hidden,hasScrubberPreview:this.props.hasScrubberPreview,interestLevels:this.props.interestLevels,drawer:this.props.drawer,insertedAdBreaks:this.props.insertedAdBreaks,isAdBreakDisabled:this.props.isAdBreakDisabled,isFullscreen:this.props.isFullscreen,isPlaying:this.props.isPlaying,onScrubBegin:this.props.onScrubBegin,onScrubEnd:this.props.onScrubEnd,playbackDuration:this.props.playbackDuration,playbackPosition:this.props.playbackPosition,previewThumbnailInformation:this.props.previewThumbnailInformation,scrubberPreviewSprites:this.props.scrubberPreviewSprites,onPointOfInterestSelect:this.props.onPointOfInterestSelect,currentPointOfInterest:this.props.currentPointOfInterest,pointsOfInterest:this.props.pointsOfInterest,tabIndex:'0'});}var qa=null;if(this.props.showSidePaneToggle)qa=c('React').createElement(c('EmbeddedVideoSidepaneToggleControl.react'),{isSidePaneOpen:this.props.isSidePaneOpen,onSidePaneToggle:this.props.onSidePaneToggle,tabIndex:'0'});var ra=null;if(c('VideoPlayerExperiments').redesign&&!this.props.hideGradient)ra=c('React').createElement('div',{className:"_4lqu"+(this.isTransparent()?' '+"_5744":'')});var sa=c('React').createElement(c('EmbeddedVideoVolumeControl.react'),{isMuted:this.props.isMuted,onToggleMuted:this.props.onToggleMuted,onVolumeChange:this.props.onVolumeChange,volume:this.props.volume,tabIndex:'0',showSpatialAudioNUX:this.props.showSpatialAudioNUX}),ta=null;if(this.props.useTwoRows){var ua=c('React').createElement(c('EmbeddedVideoVolumeControl.react'),{isMuted:this.props.isMuted,onToggleMuted:this.props.onToggleMuted,onVolumeChange:this.props.onVolumeChange,volume:this.props.volume,isHorizontal:true,tabIndex:'0'});ta=c('React').createElement('div',{className:x},c('React').createElement('div',{className:v},c('React').createElement('div',{className:p},c('React').createElement('div',{className:r}),c('React').createElement('div',{className:s},ma),c('React').createElement('div',{className:t},y))),c('React').createElement('div',{className:v},c('React').createElement('div',{className:p},c('React').createElement('div',{className:r},na,oa,ua),c('React').createElement('div',{className:s}),c('React').createElement('div',{className:t},ba,da,aa,ca,ia,ja,ea,ka))))}var va=null;if(c('VideoPlayerExperiments').embeddedPlayerEnhancements&&this.props.isEmbedded){var wa=c('joinClasses')(p,c('VideoPlayerExperiments').embeddedPlayerEnhancements?"_3yhc":''),xa=c('joinClasses')(p,"_2cor");va=c('React').createElement('div',{className:wa},c('React').createElement('div',{className:v},c('React').createElement('div',{className:xa},c('React').createElement('div',{className:r},na,oa),c('React').createElement('div',{className:s},ma),c('React').createElement('div',{className:t},y)),c('React').createElement('div',{className:p},c('React').createElement('div',{className:r}),c('React').createElement('div',{className:s}),c('React').createElement('div',{className:t},o||sa,ba,da,aa,ca,ia,ja,qa,ea,ka),c('React').createElement('div',{className:u},!o||sa))))}else va=!this.props.useTwoRows||!this.props.isCommentAttachment?c('React').createElement('div',{className:w},c('React').createElement('div',{className:v},c('React').createElement('div',{className:p},c('React').createElement('div',{className:r},na,oa),c('React').createElement('div',{className:s},ma),c('React').createElement('div',{className:t},y,o||sa,ba,da,aa,ca,ia,ja,qa,ea,ka),c('React').createElement('div',{className:u},!o||sa)))):null;return c('React').createElement('div',{className:q},ra,va,ta)};n.propTypes={allowFullscreen:m.bool,finishedPlaying:m.bool,hasHD:m.bool,hasSubtitles:m.bool,hasWatchAndScroll:m.bool,hidden:m.bool,hidePlaybackControl:m.bool,hidePlaybackScrubber:m.bool,hideRemainingTime:m.bool,hideGradient:m.bool,hideSettings:m.bool,isCommentAttachment:m.bool,isEmbedded:m.bool,isFullscreen:m.bool,isHD:m.bool,isInline:m.bool,isLive:m.bool,isSphericalVideo:m.bool,isMuted:m.bool,isPlaying:m.bool,isSidePaneOpen:m.bool,isSlidingWNSEligible:m.bool,areSubtitlesActive:m.bool,areHLSActive:m.bool,onEnterWatchAndScroll:m.func,onPause:m.func,onPlay:m.func,onSeek:m.func,onSetVideoPlaybackRate:m.func,onToggleFullscreen:m.func,onToggleHD:m.func,onToggleHLS:m.func,onToggleMuted:m.func,onToggleSubtitles:m.func,onVolumeChange:m.func,permalinkURL:m.string,playbackDuration:m.number,playbackPosition:m.number,displayElapsedTime:m.bool,displayMilliseconds:m.bool,transparent:m.bool,volume:m.number,scrubberPreviewSprites:m.object,hasScrubberPreview:m.bool,previewThumbnailInformation:m.object,onPointOfInterestSelect:m.func,pointsOfInterest:m.array,availableQualities:m.array,selectedQuality:m.string,canAutoSelectVideoQuality:m.bool,onSelectQuality:m.func,showQualitySelector:m.bool,qualitySelectorMinStreams:m.number,streamingFormat:m.string,useTwoRows:m.bool,adBreaks:m.array,showSidePaneToggle:m.bool,showWNSNUX:m.bool};n.defaultProps={allowCasting:false,bufferedPosition:0,hasFoundReceiver:false,displayElapsedTime:false,displayMilliseconds:false,hidden:false,hidePlaybackControl:false,hidePlaybackScrubber:false,hideRemainingTime:false,hideSettings:false,hideGradient:false,isCasting:false,isCastingSupported:false,isCommentAttachment:false,isMuted:false,isPlaying:false,isSphericalVideo:false,onSidePaneToggle:function o(){},onStartCast:function o(){},onStopCast:function o(){},playbackDuration:0,playbackPosition:0,showPlaybackRateControl:false,showSidePaneToggle:false,showWNSNUX:false,transparent:false,useTwoRows:false,volume:0};f.exports=n}),null);
__d('VideoWatchAndScrollDrawer.react',['cx','React'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';return c('React').createElement('div',{className:"_60a7"})};function k(){'use strict';i.apply(this,arguments)}k.propTypes={};f.exports=k}),null);
__d('VideoWatchAndScrollEndScreen.react',['ix','fbt','cx','Image.react','PopoverMenu.react','React','ReactXUIMenu','ShimButton.react','TooltipData','VideoChannelProgressCircle.react','VideoChannelReplayImage.react','VideoPlayerExperiments','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=c('VideoPlayerExperiments').showWNSClose,n=c('React').PropTypes,o=function s(t){var u=t.onClose;return c('React').createElement(c('ShimButton.react'),{className:"_3r7h",onClick:u},c('React').createElement(c('Image.react'),{src:h("114710")}))},p=function s(t){var u=t.onCollapse;return c('React').createElement('div',babelHelpers['extends']({className:"_1dtq",onClick:u,role:'button',tabIndex:'1'},c('TooltipData').propsFor(i._("Collapse Video"))),c('React').createElement(c('Image.react'),{src:h("115705")}))},q=function s(t){var u=t.onClose,v=c('React').createElement(c('ReactXUIMenu'),{onItemClick:function w(x,y){var z=y.item;if(z.getValue()==='close')u();}},c('React').createElement(c('ReactXUIMenu').Item,{value:'close'},'Close'));return c('React').createElement(c('PopoverMenu.react'),{className:"_ivg",menu:v},c('React').createElement('a',{href:'#'},c('React').createElement(c('Image.react'),{src:h("114186")})))};k=babelHelpers.inherits(r,c('React').Component);l=k&&k.prototype;r.prototype.render=function(){'use strict';return c('React').createElement('div',{className:"_5qdn"+(' '+"_2se8")+(this.props.fadeOut?' '+"_2gud":'')+(' '+"_1s-2")},c('React').createElement('div',{className:"_1szz _2se8"},c('React').createElement('div',{className:"_1szy _ww8",onClick:this.props.onReplay,role:'presentation'},c('React').createElement(c('VideoChannelProgressCircle.react'),{makeProgress:this.props.makeProgress,timeoutSec:this.props.endScreenDuration,watchAndScroll:true},c('React').createElement(c('VideoChannelReplayImage.react'),{size:'small'})))),c('React').createElement('div',{className:"_ivh"},m?null:c('React').createElement(q,{onClose:this.props.onClose}),c('React').createElement(p,{onCollapse:this.props.onCollapse}),m?c('React').createElement(o,{onClose:this.props.onClose}):null))};function r(){'use strict';k.apply(this,arguments)}r.propTypes={endScreenDuration:n.number.isRequired,fadeOut:n.bool,makeProgress:n.bool.isRequired,onReplay:n.func.isRequired,onClose:n.func.isRequired};f.exports=r}),null);
__d('shouldWNSRenderToRHC',['ge'],(function a(b,c,d,e,f,g){'use strict';function h(){return !!c('ge')('fbRHCVideoWNS-container')}f.exports=h}),null);
__d('VideoWatchAndScrollContainer.react',['csx','cx','Arbiter','CSS','DOM','DOMContainer.react','DOMDimensions','Event','Locale','Parent','React','ReactCSSTransitionGroup','Rect','SubscriptionsHandler','VideoWatchAndScrollDrawer.react','VideoWatchAndScrollEndScreen.react','cancelAnimationFrame','getViewportDimensions','requestAnimationFrame','setTimeoutAcrossTransitions','shallowCompare','shouldWNSRenderToRHC','throttle'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=10,n=230,o=476,p=300,q=3000,r={NW:'nw',NE:'ne',SE:'se',SW:'sw'};j=babelHelpers.inherits(s,c('React').Component);k=j&&j.prototype;function s(t,u){k.constructor.call(this,t,u);this.state=this.$VideoWatchAndScrollContainer2(this.props)}s.prototype.$VideoWatchAndScrollContainer2=function(t){var u=this.$VideoWatchAndScrollContainer3(),v=this.$VideoWatchAndScrollContainer4(this.props.initialPosition,u);return {channelVideoElements:[this.props.initialVideoElement],containerBoundingBox:u,dragging:false,draggingStartHeight:0,draggingStartLeft:0,draggingStartMousePositionX:0,draggingStartMousePositionY:0,draggingStartTop:0,draggingStartWidth:0,endScreenFadeOut:false,endScreenShown:false,fadeOut:false,fadeOutPlaceholder:null,height:v.height,left:v.left,overlayShown:false,resizeDirection:null,top:v.top,width:v.width,videoIndex:0}};s.prototype.shouldComponentUpdate=function(t,u){return !this.state.fadeOut&&c('shallowCompare')(this,t,u)};s.prototype.componentDidUpdate=function(t,u){if(!u)return;if(!u.dragging&&this.state.dragging){this.documentSubscriptions=new (c('SubscriptionsHandler'))();this.documentSubscriptions.addSubscriptions(c('Event').listen(document,'mousemove',this.$VideoWatchAndScrollContainer5.bind(this)),c('Event').listen(document,'mouseup',this.$VideoWatchAndScrollContainer6.bind(this)))}else if(u.dragging&&!this.state.dragging)this.documentSubscriptions.release();if(u.endScreenShown!==this.state.endScreenShown){if(this.canPlayAnotherVideo()||!c('shouldWNSRenderToRHC')())if(this.state.endScreenShown){this.$VideoWatchAndScrollContainer1=c('setTimeoutAcrossTransitions')(function(){this.props.onChannelNavigation(1);this.setState({endScreenShown:false,endScreenFadeOut:true})}.bind(this),q)}else{clearTimeout(this.$VideoWatchAndScrollContainer1);this.$VideoWatchAndScrollContainer1=null;this.setState({endScreenFadeOut:false})}}else if(this.state.endScreenShown&&this.state.videoIndex>=u.channelVideoElements.length-1&&this.state.videoIndex<this.state.channelVideoElements.length-1){clearTimeout(this.$VideoWatchAndScrollContainer1);this.$VideoWatchAndScrollContainer1=c('setTimeoutAcrossTransitions')(function(){this.props.onChannelNavigation(1);this.setState({endScreenShown:false,endScreenFadeOut:true})}.bind(this),q)}var v=["._23if","._23ig","._452w","._2i7a"],w=u.channelVideoElements||[];this.state.channelVideoElements.forEach(function(x){if(w.indexOf(x)!==-1)return;v.forEach(function(aa){var ba=c('DOM').scry(x,aa),ca=ba[0];if(ca)c('CSS').hide(ca);});var y=c('DOM').scry(x,"._3pay"),z=y[0];if(z){c('CSS').removeClass(z,"_3pay");c('CSS').addClass(z,"_2337")}})};s.prototype.componentDidMount=function(){this.movementListeners=new (c('SubscriptionsHandler'))();this.movementListeners.addSubscriptions(c('Event').listen(window,'resize',c('throttle')(this.$VideoWatchAndScrollContainer7.bind(this),100)),c('Arbiter').subscribe('sidebar/visibility',c('throttle')(this.$VideoWatchAndScrollContainer7.bind(this),100)))};s.prototype.componentWillUnmount=function(){if(this.documentSubscriptions)this.documentSubscriptions.release();if(this.movementListeners)this.movementListeners.release();this.$VideoWatchAndScrollContainer1&&clearTimeout(this.$VideoWatchAndScrollContainer1)};s.prototype.getFadeOutStatus=function(){return this.state.fadeOut};s.prototype.getChannelVideoElements=function(){return this.state.channelVideoElements};s.prototype.$VideoWatchAndScrollContainer7=function(){var t=this.$VideoWatchAndScrollContainer3(),u=this.$VideoWatchAndScrollContainer4({height:this.state.height,left:this.state.left,top:this.state.top,width:this.state.width},t);this.setState({containerBoundingBox:t,height:u.height,left:u.left,top:u.top,width:u.width})};s.prototype.$VideoWatchAndScrollContainer8=function(t,event){this.$VideoWatchAndScrollContainer9(event,t)};s.prototype.$VideoWatchAndScrollContainer10=function(event){if(c('Parent').bySelector(event.target,"._5-32")||!c('Parent').bySelector(event.target,"._3t-6"))return;this.$VideoWatchAndScrollContainer9(event,null)};s.prototype.$VideoWatchAndScrollContainer11=function(event){return event.button!==0||c('Parent').bySelector(event.target,"._3t-6")||c('Parent').bySelector(event.target,"._2se8")};s.prototype.$VideoWatchAndScrollContainer12=function(event){if(this.$VideoWatchAndScrollContainer11(event))return;this.props.onClick&&this.props.onClick()};s.prototype.$VideoWatchAndScrollContainer13=function(event){if(this.$VideoWatchAndScrollContainer11(event))return;this.props.onDoubleClick&&this.props.onDoubleClick()};s.prototype.$VideoWatchAndScrollContainer9=function(event,t){var u=event.button,v=event.target;if(u!==0)return;if(c('Parent').bySelector(v,"._360f"))return;this.props.onGrab();this.setState({containerBoundingBox:this.$VideoWatchAndScrollContainer3(),dragging:true,draggingStartHeight:this.state.height,draggingStartLeft:this.state.left,draggingStartMousePositionX:event.screenX,draggingStartMousePositionY:event.screenY,draggingStartTop:this.state.top,draggingStartWidth:this.state.width,resizeDirection:t});event.preventDefault()};s.prototype.$VideoWatchAndScrollContainer3=function(){var t=0,u=c('DOM').scry(document.body,".fbChatSidebar");if(u.length===1)t=c('DOMDimensions').getElementDimensions(u[0]).width;var v=c('getViewportDimensions').withoutScrollbars(),w=43+m,x=v.height-m,y=m,z=v.width-m;if(c('Locale').isRTL()){y+=t}else z-=t;return new (c('Rect'))(w,z,x,y)};s.prototype.$VideoWatchAndScrollContainer4=function(t,u){var v=new (c('Rect'))(t.top,t.left+t.width,t.top+t.height,t.left);v=v.boundWithin(u);return {height:v.h(),left:v.getLeft(),top:v.getTop(),width:v.w()}};s.prototype.$VideoWatchAndScrollContainer14=function(t,u,v){var w=t.top,x=u.getTop(),y=x-w;if(y>0){if(v===r.NE||v===r.NW)t.height-=y;t.top=x}var z=t.left,aa=u.getLeft(),ba=aa-z;if(ba>0){if(v===r.NW||v===r.SW)t.width-=ba;t.left=aa}var ca=t.top+t.height,da=u.getTop()+u.h(),ea=ca-da;if(ea>0)t.height=da-t.top;var fa=t.left+t.width,ga=u.getLeft()+u.w(),ha=fa-ga;if(ha>0)t.width=ga-t.left;};s.prototype.$VideoWatchAndScrollContainer15=function(t,u,v){if(t.width<n){if(v===r.NW||v===r.SW)t.left-=n-t.width;t.width=n}if(t.height<n){if(v===r.NE||v===r.NW)t.top-=n-t.height;t.height=n}};s.prototype.$VideoWatchAndScrollContainer16=function(t,u,v){if(t.width>o){if(v===r.NW||v===r.SW)t.left+=t.width-o;t.width=o}if(t.height>o){if(v===r.NE||v===r.NW)t.top+=t.height-o;t.height=o}};s.prototype.$VideoWatchAndScrollContainer17=function(t,u,v){var w=t.width/t.height,x=u.width/u.height;if(w>x){var y=t.height*x,z=t.height;if(y<n){z*=n/y;y=n;if(v===r.NE||v===r.NW)t.top+=t.height-z;}if(v===r.NW||v===r.SW)t.left+=t.width-y;t.width=y;t.height=z}else if(w<x){var aa=t.width/x;if(v===r.NE||v===r.NW)t.top+=t.height-aa;t.height=aa}};s.prototype.$VideoWatchAndScrollContainer18=function(t,u,v,w){this.$VideoWatchAndScrollContainer14(t,v,w);this.$VideoWatchAndScrollContainer15(t,u,w);this.$VideoWatchAndScrollContainer16(t,u,w);this.$VideoWatchAndScrollContainer17(t,u,w);return {height:t.height,left:t.left,top:t.top,width:t.width}};s.prototype.$VideoWatchAndScrollContainer5=function(event){c('cancelAnimationFrame')(this.dragUpdateRequestAnimationFrameID);this.dragUpdateRequestAnimationFrameID=c('requestAnimationFrame')(this.$VideoWatchAndScrollContainer19.bind(this,event))};s.prototype.$VideoWatchAndScrollContainer20=function(t){if(t.height!==this.state.height||t.width!==this.state.width)this.props.onInitialPositionUpdate(t);};s.prototype.$VideoWatchAndScrollContainer19=function(event){if(!this.state.dragging)return;var t=event.screenX-this.state.draggingStartMousePositionX,u=event.screenY-this.state.draggingStartMousePositionY,v=this.state.resizeDirection,w=void 0;if(!v){w=this.$VideoWatchAndScrollContainer4({height:this.state.draggingStartHeight,left:this.state.draggingStartLeft+t,top:this.state.draggingStartTop+u,width:this.state.draggingStartWidth},this.state.containerBoundingBox);this.$VideoWatchAndScrollContainer20(w);this.setState({height:w.height,left:w.left,top:w.top,width:w.width})}else{var x=this.state.draggingStartHeight,y=this.state.draggingStartLeft,z=this.state.draggingStartTop,aa=this.state.draggingStartWidth;if(v===r.NE||v===r.SE)aa+=t;if(v===r.NW||v===r.SW){y+=t;aa-=t}if(v===r.SE||v===r.SW)x+=u;if(v===r.NE||v===r.NW){z+=u;x-=u}w=this.$VideoWatchAndScrollContainer18({height:x,left:y,top:z,width:aa},{height:this.state.draggingStartHeight,left:this.state.draggingStartLeft,top:this.state.draggingStartTop,width:this.state.draggingStartWidth},this.state.containerBoundingBox,v);this.$VideoWatchAndScrollContainer20(w);this.setState({height:w.height,left:w.left,top:w.top,width:w.width})}event.preventDefault()};s.prototype.$VideoWatchAndScrollContainer6=function(event){c('cancelAnimationFrame')(this.dragUpdateRequestAnimationFrameID);this.props.onDrop();this.setState({dragging:false,draggingStartHeight:0,draggingStartLeft:0,draggingStartMousePositionX:0,draggingStartMousePositionY:0,draggingStartTop:0,draggingStartWidth:0,resizeDirection:null});event.preventDefault()};s.prototype.$VideoWatchAndScrollContainer21=function(t,u){if(t>this.state.channelVideoElements.length)return null;var v=this.state.channelVideoElements[t];if(!v)return null;return c('React').createElement('div',{className:"_2yq3"+(u==='left'?' '+"_2yq4":'')+(u==='center'?' '+"_2yq5":'')+(u==='right'?' '+"_2yq6":''),key:v.id},c('React').createElement(c('DOMContainer.react'),null,v))};s.prototype.$VideoWatchAndScrollContainer22=function(){if(c('shouldWNSRenderToRHC')())return [];return [c('React').createElement('div',{className:"_52ua",onMouseDown:this.$VideoWatchAndScrollContainer8.bind(this,r.NW),key:r.NW}),c('React').createElement('div',{className:"_52uc",onMouseDown:this.$VideoWatchAndScrollContainer8.bind(this,r.NE),key:r.NE}),c('React').createElement('div',{className:"_52ui",onMouseDown:this.$VideoWatchAndScrollContainer8.bind(this,r.SE),key:r.SE}),c('React').createElement('div',{className:"_52uj",onMouseDown:this.$VideoWatchAndScrollContainer8.bind(this,r.SW),key:r.SW})]};s.prototype.getWidth=function(){return this.state.width};s.prototype.canPlayAnotherVideo=function(){var t=this.state.channelVideoElements;return this.state.videoIndex<t.length-1};s.prototype.render=function(){var t=null;if(!this.props.isDrawerEnabled)t={height:Math.round(this.state.height)+'px',left:this.state.left+'px',top:this.state.top+'px',width:Math.round(this.state.width)+'px'};var u=this.state.channelVideoElements,v=u[this.state.videoIndex];if(v){c('CSS').addClass(v,"_1kfp");c('CSS').conditionClass(v,"_1blk",this.state.width<p)}var w=null;if(this.state.endScreenShown)w=c('React').createElement(c('VideoWatchAndScrollEndScreen.react'),{endScreenDuration:q/1000,fadeOut:this.state.endScreenFadeOut,makeProgress:this.canPlayAnotherVideo(),onReplay:this.props.onReplay,onClose:function(){clearTimeout(this.$VideoWatchAndScrollContainer1);this.$VideoWatchAndScrollContainer1=null;this.props.onClose()}.bind(this),onCollapse:this.props.onCollapse});var x=null;if(this.state.fadeOutPlaceholder){x=c('React').createElement(c('DOMContainer.react'),null,this.state.fadeOutPlaceholder)}else x=c('React').createElement('ul',{className:"_2yq7"},u.map(function(z,aa){if(aa>this.state.videoIndex+1||aa<this.state.videoIndex-1)c('CSS').removeClass(z,"_1kfp");if(aa<=this.state.videoIndex+1)return null;return c('React').createElement('li',{key:z.id},c('React').createElement(c('DOMContainer.react'),null,z))}.bind(this)));var y=null;if(this.props.isDrawerEnabled)y=c('React').createElement(c('VideoWatchAndScrollDrawer.react'),null);return c('React').createElement(c('ReactCSSTransitionGroup'),{transitionAppear:true,transitionAppearTimeout:500,transitionEnter:false,transitionLeave:false,transitionName:{appear:"_tie",appearActive:"_tik"}},c('React').createElement('div',{className:"_360g"+(this.state.fadeOut?' '+"_473b":'')+(this.props.isDrawerEnabled?' '+"_60a6":'')+(this.props.isLiveVideo()?' '+"_29mh":''),style:t},w,c('React').createElement('div',{className:"_52u8",onClick:this.$VideoWatchAndScrollContainer12.bind(this),onDoubleClick:this.$VideoWatchAndScrollContainer13.bind(this),onMouseDown:this.$VideoWatchAndScrollContainer10.bind(this),role:'presentation'},this.$VideoWatchAndScrollContainer21(this.state.videoIndex-1,'left'),this.$VideoWatchAndScrollContainer21(this.state.videoIndex,'center'),this.$VideoWatchAndScrollContainer21(this.state.videoIndex+1,'right'),y),this.$VideoWatchAndScrollContainer22(),x))};s.propTypes={initialPosition:l.object.isRequired,initialVideoElement:l.instanceOf(HTMLElement).isRequired,onChannelNavigation:l.func.isRequired,onClick:l.func.isRequired,onClose:l.func.isRequired,onDoubleClick:l.func.isRequired,onDrop:l.func.isRequired,onGrab:l.func.isRequired,onInitialPositionUpdate:l.func.isRequired,onReplay:l.func.isRequired};f.exports=s}),null);
__d("XVideoWNSSurveyController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/wns_survey\/",{__asyncDialog:{type:"Int"}})}),null);
__d('VideoWatchAndScrollController',['csx','cx','invariant','Arbiter','AsyncRequest','Bootloader','CSS','DOM','DOMDimensions','Event','EventListener','Locale','React','ReactDOM','SubscriptionsHandler','Tahoe','VideoAutoplayControllerX','VideoChannelLogger','VideoChannelStoryFetcher','VideoFrameBuffer','VideoPlayerExperiments','VideoPlayerShakaExperiments','VideoPlayerLoggerSource','VideoPlayerReason','VideoPlayerStates','VideoPlayerVolumeSettings','ViewportBounds','VideoWatchAndScrollContainer.react','VideoWatchAndScrollVariables','XVideoWNSSurveyController','cancelAnimationFrame','destroyOnUnload','getViewportDimensions','ifRequired','setTimeoutAcrossTransitions','shouldWNSRenderToRHC','throttle'],(function a(b,c,d,e,f,g,h,i,j){var k=158,l=280,m=10,n=42,o=n+m,p=476,q=230,r=[c('VideoPlayerReason').AUTOPLAY,c('VideoPlayerReason').PAGE_VISIBILITY],s=750,t=308,u=null,v=c('VideoPlayerExperiments').persistentWNSEnabled;function w(){return Math.max(c('getViewportDimensions')().height,400)-n-80}function x(y,z,aa,ba){var ca;'use strict';this.$VideoWatchAndScrollController31=new (c('SubscriptionsHandler'))();this.$VideoWatchAndScrollController32=new (c('SubscriptionsHandler'))();this.$VideoWatchAndScrollController1=false;this.$VideoWatchAndScrollController2=null;this.$VideoWatchAndScrollController3=null;this.$VideoWatchAndScrollController4=false;this.$VideoWatchAndScrollController35=aa;this.$VideoWatchAndScrollController38=false;this.$VideoWatchAndScrollController30=false;this.$VideoWatchAndScrollController48=ba;this.$VideoWatchAndScrollController49=ba;this.$VideoWatchAndScrollController34=new (c('VideoChannelStoryFetcher'))(z,y,this.$VideoWatchAndScrollController35,null);this.$VideoWatchAndScrollController36=[];this.$VideoWatchAndScrollController37=0;this.$VideoWatchAndScrollController39=[];this.$VideoWatchAndScrollController40=[];this.$VideoWatchAndScrollController5=k;this.$VideoWatchAndScrollController6=l;this.$VideoWatchAndScrollController10=window.document.getElementById('leftCol');this.$VideoWatchAndScrollController11=window.document.getElementById('rightCol');this.$VideoWatchAndScrollController12=window.document.getElementById('pagelet_bluebar');this.$VideoWatchAndScrollController44={};this.$VideoWatchAndScrollController47=null;this.$VideoWatchAndScrollController50();(ca=this.$VideoWatchAndScrollController31).addSubscriptions.apply(ca,this.$VideoWatchAndScrollController51());if(!v)c('destroyOnUnload')(function(){this.$VideoWatchAndScrollController52();if(this.$VideoWatchAndScrollController4)this.$VideoWatchAndScrollController53();if(this.$VideoWatchAndScrollController31)this.$VideoWatchAndScrollController31.release();if(this===u)u=null;}.bind(this));}x.prototype.$VideoWatchAndScrollController51=function(){var y,z=this;'use strict';var aa=[];aa.push(c('Arbiter').subscribe('VideoChannelView/opened',function(ba,ca){if(this.$VideoWatchAndScrollController4&&(!ca.controller||this.$VideoWatchAndScrollController16!==ca.controller))this.$VideoWatchAndScrollController53();}.bind(this)));if(c('VideoPlayerExperiments').rhcWNSEnabled){aa.push(c('Arbiter').subscribe('RHCVideoWNSController/collapseStart',function(){var ba=this.$VideoWatchAndScrollController14;if(!ba||!c('shouldWNSRenderToRHC')())return;ba.setState({endScreenFadeOut:true,endScreenShown:false})}.bind(this)),c('Arbiter').subscribe('RHCVideoWNSController/collapseEnd',function(){var ba=this.$VideoWatchAndScrollController14;if(!ba||!c('shouldWNSRenderToRHC')())return;this.pauseActiveVideo(c('VideoPlayerReason').USER);ba.setState({endScreenFadeOut:false})}.bind(this)),c('Arbiter').subscribe('RHCVideoWNSController/expandStart',function(){var ba=this.$VideoWatchAndScrollController14;if(!ba||!this.isActiveVideoDonePlaying()||!c('shouldWNSRenderToRHC')())return;ba.setState({endScreenShown:true})}.bind(this)));if(v)(function(){var ba=function(){var ca=this.$VideoWatchAndScrollController16.getVideoNode();ca instanceof HTMLVideoElement||j(0);ca.currentTime=ca.currentTime}.bind(z);aa.push(c('Arbiter').subscribe('RHCVideoWNSController/eject',function(ca,da){if(!c('shouldWNSRenderToRHC')())return;this.$VideoWatchAndScrollController2=da;c('DOM').appendContent(document.body,da);if(!c('VideoPlayerShakaExperiments').timeoutsPersistOnPageTransition)ba();if(this.$VideoWatchAndScrollController16.isState(c('VideoPlayerStates').PLAYING))this.playActiveVideo(c('VideoPlayerReason').USER);}.bind(z)),c('Arbiter').subscribe('RHCVideoWNSController/dock',function(){if(!c('shouldWNSRenderToRHC')())return;if(!c('VideoPlayerShakaExperiments').timeoutsPersistOnPageTransition)ba();if(this.$VideoWatchAndScrollController16.isState(c('VideoPlayerStates').PLAYING))this.playActiveVideo(c('VideoPlayerReason').USER);}.bind(z)),c('Event').listen(window,'resize',c('throttle')(function(){if(!c('shouldWNSRenderToRHC')())return;this.$VideoWatchAndScrollController54()}.bind(z))),c('Arbiter').subscribe('RHCVideoWNSController/mount',function(){this.$VideoWatchAndScrollController54()}.bind(z)))})();}return aa};x.prototype.$VideoWatchAndScrollController54=function(){'use strict';var y=this.$VideoWatchAndScrollController14;if(!y||this.$VideoWatchAndScrollController38)return;var z=this.$VideoWatchAndScrollController16.getVideoNode(),aa=this.$VideoWatchAndScrollController55(z);this.$VideoWatchAndScrollController16.removeOffsetStylings();this.$VideoWatchAndScrollController16.setDimensions(aa.width,aa.height);y.setState({width:aa.width,height:aa.height});this.$VideoWatchAndScrollController47=aa;c('Arbiter').inform('VideoWatchAndScrollController/resize')};x.prototype.isActiveVideoDonePlaying=function(){'use strict';var y=this.$VideoWatchAndScrollController16.getState();return y===c('VideoPlayerStates').FINISHED};x.isActiveVideoDonePlaying=function(){'use strict';return u?u.isActiveVideoDonePlaying():false};x.prototype.$VideoWatchAndScrollController56=function(y,z,aa){'use strict';y||j(0);z.length||j(0);this.$VideoWatchAndScrollController48=true;this.$VideoWatchAndScrollController38=false;this.$VideoWatchAndScrollController32=new (c('SubscriptionsHandler'))();this.$VideoWatchAndScrollController37=aa;this.$VideoWatchAndScrollController34=y;this.$VideoWatchAndScrollController39=y.getPreloadedData().thumbnails||[];this.$VideoWatchAndScrollController40=[];this.$VideoWatchAndScrollController36=z.slice(0);this.$VideoWatchAndScrollController36.forEach(function(ca){this.$VideoWatchAndScrollController57(ca);this.$VideoWatchAndScrollController58(ca);ca.updateSource(c('VideoPlayerLoggerSource').WATCH_SCROLL)}.bind(this));var ba=this.$VideoWatchAndScrollController36.shift();this.$VideoWatchAndScrollController59(ba,c('VideoPlayerReason').USER)};x.prototype.$VideoWatchAndScrollController60=function(y,z,aa,ba,ca){'use strict';this.$VideoWatchAndScrollController9=ca;this.$VideoWatchAndScrollController47=this.$VideoWatchAndScrollController55(ca.videoRootNode);this.$VideoWatchAndScrollController56(y,z,aa);if(this.$VideoWatchAndScrollController14)this.$VideoWatchAndScrollController14.setState({channelVideoElements:ba},function(){this.$VideoWatchAndScrollController61()}.bind(this));this.$VideoWatchAndScrollController9=null};x.registerVideoController=function(y,z,aa,ba){'use strict';if(u==null)u=new x(y.getVideoChannelID(),y.getVideoID(),z,ba);u.$VideoWatchAndScrollController31.addSubscriptions(y.addListener('enterWatchAndScroll',function(){if(u)u.$VideoWatchAndScrollController62(y);}),y.addListener('crossfadeWatchAndScroll',function(){if(u){u.$VideoWatchAndScrollController63();var da=y.getVideoNode();u.$VideoWatchAndScrollController47=u.$VideoWatchAndScrollController55(da);u.$VideoWatchAndScrollController59(y,c('VideoPlayerReason').USER,false,true);y.unmute()}}),y.addListener('exitWatchAndScroll',function(){if(u&&u.$VideoWatchAndScrollController4)u.$VideoWatchAndScrollController53();}),y.addListener('VideoChannelController/enterChannel',function(){if(u)u.$VideoWatchAndScrollController38=true;}),y.addListener('VideoChannelController/exitChannel',function(){if(u)u.$VideoWatchAndScrollController38=false;}),y.addListener('WatchAndScroll/close',function(){if(u){u.$VideoWatchAndScrollController64();var da=c('XVideoWNSSurveyController').getURIBuilder().getURI(),ea=new (c('AsyncRequest'))().setURI(da);ea.send()}}));if(!aa)return;var ca=['beginPlayback','changeVolume','muteVideo','toggleFullscreen','unmuteVideo','VideoChannelController/enterChannel'];ca.forEach(function(event){if(u)u.$VideoWatchAndScrollController31.addSubscriptions(y.addListener(event,function(da){if(u)u.$VideoWatchAndScrollController65(y,event,da);}));})};x.isActive=function(){'use strict';if(!u)return false;return u.$VideoWatchAndScrollController4&&!u.$VideoWatchAndScrollController38};x.updateSlidingCalculations=function(){'use strict';if(!u)return;if(u.$VideoWatchAndScrollController19)u.$VideoWatchAndScrollController66(u.$VideoWatchAndScrollController19);};x.registerChannelVideoController=function(y){'use strict';if(!u)return;y.updateSource(c('VideoPlayerLoggerSource').WATCH_SCROLL);u.$VideoWatchAndScrollController57(y);u.$VideoWatchAndScrollController58(y);u.$VideoWatchAndScrollController36.push(y)};x.getStoryFetcherData=function(){'use strict';return u&&u.$VideoWatchAndScrollController67()};x.prototype.$VideoWatchAndScrollController67=function(){'use strict';return {storyFetcher:this.$VideoWatchAndScrollController34,videoPlayerControllers:this.$VideoWatchAndScrollController36,channelVideoIndex:this.$VideoWatchAndScrollController37,rootVideoPlayerController:this.$VideoWatchAndScrollController17,channelInteractionsToRegister:this.$VideoWatchAndScrollController40,isFromWNS:true}};x.getVideoPlaceholder=function(){'use strict';if(!u)return null;return u.$VideoWatchAndScrollController18};x.getReactContainer=function(){'use strict';if(!u)return null;return u.$VideoWatchAndScrollController14};x.registerChannelInteraction=function(y){'use strict';if(u)u.$VideoWatchAndScrollController40.push(y);};x.onEnterTahoe=function(){'use strict';if(!u)return;u.$VideoWatchAndScrollController68()};x.prototype.$VideoWatchAndScrollController68=function(){'use strict';this.$VideoWatchAndScrollController38=true;this.$VideoWatchAndScrollController34.abandonRequest()};x.onEnterChannel=function(){'use strict';if(!u)return;u.$VideoWatchAndScrollController69()};x.prototype.$VideoWatchAndScrollController69=function(){'use strict';this.$VideoWatchAndScrollController38=true;this.$VideoWatchAndScrollController34.abandonRequest();var y=this.$VideoWatchAndScrollController14;if(!y)return;var z=["._23if","._23ig","._452w","._2i7a"];y.getChannelVideoElements().forEach(function(aa){z.forEach(function(da){var ea=c('DOM').scry(aa,da),fa=ea[0];if(fa)c('CSS').show(fa);});var ba=c('DOM').scry(aa,"._2337"),ca=ba[0];if(ca){c('CSS').removeClass(ca,"_2337");c('CSS').addClass(ca,"_3pay")}})};x.resetFromChannelView=function(y,z,aa){'use strict';if(!u)return;u.$VideoWatchAndScrollController56(y,z,aa)};x.startFromChannelView=function(y,z,aa,ba,ca){'use strict';if(!u)return;u.$VideoWatchAndScrollController60(y,z,aa,ba,ca)};x.prototype.$VideoWatchAndScrollController65=function(y,event,z){'use strict';if(this.$VideoWatchAndScrollController4){if(this.$VideoWatchAndScrollController16===y)return;if(z&&r.includes(z.reason))return;if(!y.isIntentionallyViewing())return;var aa=this.$VideoWatchAndScrollController16.getOption('VideoWithLiveBroadcast','isLive');if(aa){this.$VideoWatchAndScrollController16.mute()}else this.$VideoWatchAndScrollController16.pause(c('VideoPlayerReason').USER);}if(event==='toggleFullscreen'&&y.isFullscreen()||event==='VideoChannelController/enterChannel'){if(this.$VideoWatchAndScrollController19)this.$VideoWatchAndScrollController52();}else if((event!=='beginPlayback'||z&&z.reason===c('VideoPlayerReason').USER||y.getSource()===c('VideoPlayerLoggerSource').PERMALINK)&&y.isIntentionallyViewing()&&!y.isFullscreen()&&!y.getIsInChannel()){var ba=this.$VideoWatchAndScrollController70(y.getVideoNode()),ca=ba.top;if(ca>window.scrollY||event==='beginPlayback'&&z&&z.reason===c('VideoPlayerReason').AUTOPLAY)this.$VideoWatchAndScrollController66(y);}};x.prototype.$VideoWatchAndScrollController71=function(y){'use strict';if(this.$VideoWatchAndScrollController38||y!==this.$VideoWatchAndScrollController16)return;if(this.$VideoWatchAndScrollController14)this.$VideoWatchAndScrollController14.setState({endScreenShown:true});};x.prototype.$VideoWatchAndScrollController72=function(y){'use strict';return y.addListener('finishPlayback',function(){return this.$VideoWatchAndScrollController71(y)}.bind(this))};x.prototype.$VideoWatchAndScrollController66=function(y){'use strict';var z=y.getVideoNode();if(!z.offsetParent)return;this.$VideoWatchAndScrollController19=y;this.$VideoWatchAndScrollController26=c('throttle')(this.$VideoWatchAndScrollController73.bind(this),100);window.addEventListener('resize',this.$VideoWatchAndScrollController26);this.$VideoWatchAndScrollController74(z);this.$VideoWatchAndScrollController75()};x.prototype.$VideoWatchAndScrollController73=function(){'use strict';if(this.$VideoWatchAndScrollController19){this.$VideoWatchAndScrollController74(this.$VideoWatchAndScrollController18||this.$VideoWatchAndScrollController19.getVideoNode());this.$VideoWatchAndScrollController27&&this.$VideoWatchAndScrollController27()}};x.prototype.$VideoWatchAndScrollController76=function(y){'use strict';var z=this.$VideoWatchAndScrollController70(y),aa=y.scrollWidth,ba=y.scrollHeight,ca=q,da=p;if(aa<ba){ca*=aa/ba;da*=aa/ba}var ea=ca;if(this.$VideoWatchAndScrollController10&&this.$VideoWatchAndScrollController10.children.length){var fa=this.$VideoWatchAndScrollController70(this.$VideoWatchAndScrollController10);if(fa.left<=z.left){ea=Math.min(fa.left-2*m,da)}else if(this.$VideoWatchAndScrollController11&&this.$VideoWatchAndScrollController11.children.length){var ga=this.$VideoWatchAndScrollController70(this.$VideoWatchAndScrollController11);ea=Math.min(ga.left-2*m,da)}}else{var ha=document.getElementById('timeline_tab_content');if(ha){var ia=this.$VideoWatchAndScrollController70(ha).left;ea=Math.min(ia-2*m,da)}}return Math.max(ea,ca)};x.prototype.$VideoWatchAndScrollController70=function(y){'use strict';var z={left:0,top:0};do{z.top+=y.offsetTop;z.left+=y.offsetLeft}while(y=y.offsetParent);return z};x.prototype.$VideoWatchAndScrollController77=function(){'use strict';if(c('VideoPlayerExperiments').rhcWNSEnabled)return t;var y=0;if(this.$VideoWatchAndScrollController10&&this.$VideoWatchAndScrollController10.children.length){var z=this.$VideoWatchAndScrollController70(this.$VideoWatchAndScrollController10),aa=window.getComputedStyle(this.$VideoWatchAndScrollController10),ba=parseInt(aa.width,10);if(v)ba=ba||l;y=ba+z.left-m}else{var ca=document.getElementById('timeline_tab_content');if(!ca){var da=document.getElementById('pagelet_timeline_main_column');if(da){ca=da.parentNode}else ca=document.getElementById('contentArea');}if(ca){var ea=this.$VideoWatchAndScrollController70(ca).left;y=ea-2*m}}return y};x.prototype.$VideoWatchAndScrollController55=function(y){'use strict';var z=!y&&this.$VideoWatchAndScrollController9,aa={left:0},ba=16,ca=9;if(!z){aa=this.$VideoWatchAndScrollController70(y);ca=1;ba=parseFloat(y.getAttribute('data-original-aspect-ratio'));var da=y.parentElement;if((!ba||ca===0)&&da){aa=this.$VideoWatchAndScrollController70(da);ba=da.scrollWidth;ca=da.scrollHeight}}var ea=q,fa=p;if(ba<ca){ea*=ba/ca;fa*=ba/ca}var ga=this.$VideoWatchAndScrollController77(),ha=m;if(this.$VideoWatchAndScrollController12)ha+=this.$VideoWatchAndScrollController12.scrollHeight;ha=Math.max(ha,o);var ia=c('VideoPlayerExperiments').rhcWNSEnabled?ga:Math.max(Math.min(ga,fa),q),ja=void 0;if(c('VideoPlayerExperiments').rhcWNSEnabled){ja=c('Locale').isRTL()?m+c('ViewportBounds').getRight():c('getViewportDimensions')().width-ia-m}else{ja=ga>fa?ga-fa+m:m;ja=Math.max(ja,m)}var ka=ia*ca/ba;if(c('VideoPlayerExperiments').rhcWNSEnabled)ka=Math.min(ka,w());return {hasEnoughSpace:!!z||ga>=ea,height:ka,left:ja,top:ha,width:ia}};x.hasEnoughSpaceToEnter=function(y){'use strict';if(!u||!y||!y.getVideoNode())return false;var z=y.getVideoNode(),aa=1,ba=parseFloat(z.getAttribute('data-original-aspect-ratio')),ca=z.parentElement;if((!ba||aa===0)&&ca){ba=ca.scrollWidth;aa=ca.scrollHeight}var da=q;if(ba<aa)da*=ba/aa;return u.$VideoWatchAndScrollController77()>da};x.prototype.$VideoWatchAndScrollController74=function(y){'use strict';this.$VideoWatchAndScrollController22=this.$VideoWatchAndScrollController70(y);this.$VideoWatchAndScrollController28=y.scrollWidth;this.$VideoWatchAndScrollController29=y.scrollHeight;var z=Math.max(this.$VideoWatchAndScrollController28,this.$VideoWatchAndScrollController29);if(z<q){var aa=q/z;this.$VideoWatchAndScrollController28*=aa;this.$VideoWatchAndScrollController29*=aa}this.$VideoWatchAndScrollController21=this.$VideoWatchAndScrollController22.top+this.$VideoWatchAndScrollController29*.5-n;this.$VideoWatchAndScrollController20=this.$VideoWatchAndScrollController22.top+this.$VideoWatchAndScrollController29*.5-window.innerHeight;this.$VideoWatchAndScrollController47=this.$VideoWatchAndScrollController55(y);this.$VideoWatchAndScrollController30=!this.$VideoWatchAndScrollController47.hasEnoughSpace};x.prototype.$VideoWatchAndScrollController75=function(){'use strict';if(this.$VideoWatchAndScrollController19.isIntentionallyViewing()){this.$VideoWatchAndScrollController78(this.$VideoWatchAndScrollController79.bind(this));this.$VideoWatchAndScrollController79()}else this.$VideoWatchAndScrollController52();};x.isVideoAlmostFinished=function(y){'use strict';var z=y.getPlaybackDuration(),aa=y.getCurrentTimePosition(),ba=c('VideoWatchAndScrollVariables').noWNSRemainingTime;if(z*.2<ba){return aa/z>.8}else return z-aa<ba;};x.isSlidingEnabled=function(y){'use strict';var z=u;if(z==null)return false;var aa=z.$VideoWatchAndScrollController19;if(aa==null||aa!==y)return false;if(z.$VideoWatchAndScrollController30||!y.isIntentionallyViewing()||!y.getVideoNode().offsetParent||x.isVideoAlmostFinished(y)||y.getSource()===c('VideoPlayerLoggerSource').TAHOE||y.hasLooped()){z.$VideoWatchAndScrollController52();return false}return true};x.prototype.$VideoWatchAndScrollController79=function(){'use strict';var y=this.$VideoWatchAndScrollController19;if(y==null)return;if(!y.isIntentionallyViewing()||!y.getVideoNode().offsetParent){this.$VideoWatchAndScrollController52();return}if((window.scrollY>this.$VideoWatchAndScrollController21||window.scrollY<this.$VideoWatchAndScrollController20)&&x.isSlidingEnabled(y)&&y!==this.$VideoWatchAndScrollController16&&!y.isFullscreen()){this.$VideoWatchAndScrollController63();this.$VideoWatchAndScrollController59(y,c('VideoPlayerReason').AUTOPLAY,false,true);this.$VideoWatchAndScrollController52()}};x.prototype.$VideoWatchAndScrollController63=function(){'use strict';this.$VideoWatchAndScrollController48=this.$VideoWatchAndScrollController49};x.prototype.$VideoWatchAndScrollController78=function(y){'use strict';window.removeEventListener('scroll',this.$VideoWatchAndScrollController27);this.$VideoWatchAndScrollController27=y||null;window.addEventListener('scroll',this.$VideoWatchAndScrollController27);c('cancelAnimationFrame')(this.$VideoWatchAndScrollController33);delete this.$VideoWatchAndScrollController33};x.prototype.$VideoWatchAndScrollController52=function(){'use strict';window.removeEventListener('resize',this.$VideoWatchAndScrollController26);this.$VideoWatchAndScrollController78();delete this.$VideoWatchAndScrollController19;this.$VideoWatchAndScrollController30=false};x.prototype.$VideoWatchAndScrollController62=function(y){'use strict';this.$VideoWatchAndScrollController52();if(this.$VideoWatchAndScrollController4&&this.$VideoWatchAndScrollController16!==y){this.$VideoWatchAndScrollController80(y)}else{this.$VideoWatchAndScrollController47=this.$VideoWatchAndScrollController55(y.getVideoNode());this.$VideoWatchAndScrollController63();this.$VideoWatchAndScrollController59(y,c('VideoPlayerReason').USER)}};x.prototype.$VideoWatchAndScrollController80=function(y){'use strict';this.$VideoWatchAndScrollController23=y;this.$VideoWatchAndScrollController81()};x.prototype.$VideoWatchAndScrollController59=function(y,z,aa,ba){'use strict';if(y.getSource()===c('VideoPlayerLoggerSource').TAHOE){var ca=c('Tahoe').get();if(ca)ca.onExit();}var da=!!this.$VideoWatchAndScrollController46;if(this.$VideoWatchAndScrollController46){clearTimeout(this.$VideoWatchAndScrollController46);this.$VideoWatchAndScrollController46=null;c('ReactDOM').unmountComponentAtNode(this.$VideoWatchAndScrollController82());this.$VideoWatchAndScrollController83()}var ea=this.$VideoWatchAndScrollController1&&(aa||ba)&&!!this.$VideoWatchAndScrollController17;if(ea){this.$VideoWatchAndScrollController37=0;this.$VideoWatchAndScrollController36=[];this.$VideoWatchAndScrollController39=[];this.$VideoWatchAndScrollController42=this.$VideoWatchAndScrollController17;this.$VideoWatchAndScrollController44=babelHelpers['extends']({},this.$VideoWatchAndScrollController8);this.$VideoWatchAndScrollController45=this.$VideoWatchAndScrollController18;this.$VideoWatchAndScrollController41=this.$VideoWatchAndScrollController14;this.$VideoWatchAndScrollController43=this.$VideoWatchAndScrollController2;this.$VideoWatchAndScrollController2=null;this.$VideoWatchAndScrollController13&&this.$VideoWatchAndScrollController13.remove();this.$VideoWatchAndScrollController32.release();this.$VideoWatchAndScrollController32=new (c('SubscriptionsHandler'))()}this.$VideoWatchAndScrollController17=y;this.$VideoWatchAndScrollController84(this.$VideoWatchAndScrollController14&&this.$VideoWatchAndScrollController37>0?this.$VideoWatchAndScrollController85(this.$VideoWatchAndScrollController37):y);if(this.$VideoWatchAndScrollController14&&this.$VideoWatchAndScrollController36.length>this.$VideoWatchAndScrollController37)this.$VideoWatchAndScrollController85(this.$VideoWatchAndScrollController37+1).preload();this.$VideoWatchAndScrollController15=this.$VideoWatchAndScrollController16.getRootNode();var fa=!this.$VideoWatchAndScrollController1||!this.$VideoWatchAndScrollController16.isMuted(),ga=!this.$VideoWatchAndScrollController1||this.$VideoWatchAndScrollController16.isState('playing'),ha=this.$VideoWatchAndScrollController1&&this.$VideoWatchAndScrollController16.isState('finished');if(!this.$VideoWatchAndScrollController1||ea){if(!this.$VideoWatchAndScrollController9)c('VideoChannelLogger').startSession(this.$VideoWatchAndScrollController17.getVideoID(),this.$VideoWatchAndScrollController17.getVideoChannelID(),this.$VideoWatchAndScrollController35);if(!aa||da){if(da)this.$VideoWatchAndScrollController47=this.$VideoWatchAndScrollController55(this.$VideoWatchAndScrollController15);this.$VideoWatchAndScrollController50(this.$VideoWatchAndScrollController15)}if(this.$VideoWatchAndScrollController9){this.$VideoWatchAndScrollController8=this.$VideoWatchAndScrollController9;if(this.$VideoWatchAndScrollController8.videoRootNode){this.$VideoWatchAndScrollController18=this.$VideoWatchAndScrollController86(this.$VideoWatchAndScrollController8.dimensions,this.$VideoWatchAndScrollController17.getVideoNode());c('DOM').appendContent(this.$VideoWatchAndScrollController8.videoRootNode,this.$VideoWatchAndScrollController18);var ia=c('DOM').scry(this.$VideoWatchAndScrollController8.videoRootNode,"._344x"),ja=ia[0];if(ja)c('DOM').remove(ja);}}else{this.$VideoWatchAndScrollController8={videoRootNode:this.$VideoWatchAndScrollController15.parentNode,dimensions:c('DOMDimensions').getElementDimensions(this.$VideoWatchAndScrollController15),source:this.$VideoWatchAndScrollController16.getSource()};this.$VideoWatchAndScrollController18=this.$VideoWatchAndScrollController86(this.$VideoWatchAndScrollController8.dimensions,this.$VideoWatchAndScrollController16.getVideoNode());c('DOM').insertAfter(this.$VideoWatchAndScrollController15,this.$VideoWatchAndScrollController18)}var ka=null;if(this.$VideoWatchAndScrollController9)ka=this.$VideoWatchAndScrollController9.videoRootNode;if(!ka&&this.$VideoWatchAndScrollController15)ka=this.$VideoWatchAndScrollController15.parentNode;if(ka)this.$VideoWatchAndScrollController13=c('EventListener').listen(ka,'click',function(){this.$VideoWatchAndScrollController64();y.play(c('VideoPlayerReason').USER);c('setTimeoutAcrossTransitions')(function(){this.$VideoWatchAndScrollController65(y,'beginPlayback',{reason:c('VideoPlayerReason').USER})}.bind(this),s)}.bind(this));this.$VideoWatchAndScrollController16.pause(c('VideoPlayerReason').USER);if(this.$VideoWatchAndScrollController16.isPlayerVersion('silvercity'))this.$VideoWatchAndScrollController16.detachRootNode();var la=this.$VideoWatchAndScrollController7?this.$VideoWatchAndScrollController7.width:this.$VideoWatchAndScrollController6,ma=this.$VideoWatchAndScrollController7?this.$VideoWatchAndScrollController7.height:this.$VideoWatchAndScrollController5;this.$VideoWatchAndScrollController16.removeOffsetStylings();this.$VideoWatchAndScrollController16.setDimensions(la,ma);this.$VideoWatchAndScrollController4=true;if(ea)this.$VideoWatchAndScrollController87();this.$VideoWatchAndScrollController14=this.$VideoWatchAndScrollController88()}else{this.$VideoWatchAndScrollController16.pause(c('VideoPlayerReason').USER);this.$VideoWatchAndScrollController61()}ga&&this.$VideoWatchAndScrollController16.play(z);if(fa){this.$VideoWatchAndScrollController16.unmute();if(this.$VideoWatchAndScrollController16.getVolume()===0){var na=c('VideoPlayerVolumeSettings').getLastVolumeBeforeMute()||1;this.$VideoWatchAndScrollController16.setVolume(na);this.$VideoWatchAndScrollController16.emit('unmuteVideo')}}if(ha)this.$VideoWatchAndScrollController71(this.$VideoWatchAndScrollController16);this.$VideoWatchAndScrollController16.updateSource(c('VideoPlayerLoggerSource').WATCH_SCROLL);var oa=this.$VideoWatchAndScrollController34;if((!this.$VideoWatchAndScrollController1||ea)&&oa){oa.abandonRequest();if(!this.$VideoWatchAndScrollController9)oa.reset(y.getVideoID(),y.getVideoChannelID());this.$VideoWatchAndScrollController89();this.$VideoWatchAndScrollController57(y);this.$VideoWatchAndScrollController58(y)}this.$VideoWatchAndScrollController1=true;if(c('shouldWNSRenderToRHC')())c('Arbiter').inform('VideoWatchAndScrollController/start');};x.prototype.$VideoWatchAndScrollController57=function(y){'use strict';if(!y.hasOption('WatchAndScroll','isActive'))y.registerOption('WatchAndScroll','isActive',x.isActive);};x.prototype.$VideoWatchAndScrollController58=function(y){'use strict';this.$VideoWatchAndScrollController32.addSubscriptions(this.$VideoWatchAndScrollController72(y),y.addListener('VideoChannelController/enterChannel',function(){this.$VideoWatchAndScrollController32.release()}.bind(this)),y.addListener('WatchAndScroll/close',function(){this.$VideoWatchAndScrollController64();var z=c('XVideoWNSSurveyController').getURIBuilder().getURI(),aa=new (c('AsyncRequest'))().setURI(z);aa.send()}.bind(this)))};x.prototype.$VideoWatchAndScrollController90=function(){'use strict';if(!this.$VideoWatchAndScrollController14)return;this.$VideoWatchAndScrollController14.setState({endScreenShown:false});if(this.$VideoWatchAndScrollController16)this.$VideoWatchAndScrollController16.play(c('VideoPlayerReason').USER);};x.prototype.$VideoWatchAndScrollController89=function(){'use strict';if(!this.$VideoWatchAndScrollController48)return;this.$VideoWatchAndScrollController34.fetchStories(true,function(y,z){var aa=this.$VideoWatchAndScrollController14;if(!y||!y.length||!aa)return;var ba=aa.getChannelVideoElements().concat(y);aa.setState({channelVideoElements:ba},function(){c('setTimeoutAcrossTransitions')(function(){this.$VideoWatchAndScrollController85(this.$VideoWatchAndScrollController37+1).preload()}.bind(this))}.bind(this));this.$VideoWatchAndScrollController39=this.$VideoWatchAndScrollController39.concat(z)}.bind(this))};x.prototype.$VideoWatchAndScrollController85=function(y){'use strict';var z=this.$VideoWatchAndScrollController14?this.$VideoWatchAndScrollController14.getChannelVideoElements():[],aa=[this.$VideoWatchAndScrollController17].concat(this.$VideoWatchAndScrollController36),ba=null;aa.forEach(function(ca){if(z[y].contains(ca.getRootNode()))ba=ca;});ba||j(0);return ba};x.prototype.$VideoWatchAndScrollController61=function(){'use strict';var y=this.$VideoWatchAndScrollController16.isMuted();this.$VideoWatchAndScrollController16.pause(c('VideoPlayerReason').USER);if(this.$VideoWatchAndScrollController16!==this.$VideoWatchAndScrollController17)this.$VideoWatchAndScrollController16.abortLoading();this.$VideoWatchAndScrollController84(this.$VideoWatchAndScrollController85(this.$VideoWatchAndScrollController37));this.$VideoWatchAndScrollController15=this.$VideoWatchAndScrollController16.getRootNode();var z=this.$VideoWatchAndScrollController16.getVideoNode(),aa=parseFloat(z.getAttribute('data-original-aspect-ratio'));if(!aa)aa=16/9;var ba=this.$VideoWatchAndScrollController47;if(!ba)ba=this.$VideoWatchAndScrollController55(z);this.$VideoWatchAndScrollController14&&(ba.width=this.$VideoWatchAndScrollController14.getWidth());ba.height=ba.width/aa;if(c('VideoPlayerExperiments').rhcWNSEnabled){ba.height=Math.min(ba.height,w())}else if(ba.height>p){ba.height=p;ba.width=ba.height*aa}this.$VideoWatchAndScrollController16.removeOffsetStylings();this.$VideoWatchAndScrollController16.setDimensions(ba.width,ba.height);this.$VideoWatchAndScrollController50(z);this.$VideoWatchAndScrollController14&&this.$VideoWatchAndScrollController14.setState({videoIndex:this.$VideoWatchAndScrollController37,width:ba.width,height:ba.height},function(){if(c('shouldWNSRenderToRHC')())c('Arbiter').inform('VideoWatchAndScrollController/resize');});this.$VideoWatchAndScrollController47=ba;this.$VideoWatchAndScrollController16.play(c('VideoPlayerReason').AUTOPLAY);y&&this.$VideoWatchAndScrollController16.mute();if(this.$VideoWatchAndScrollController36.length<=this.$VideoWatchAndScrollController37){this.$VideoWatchAndScrollController89()}else this.$VideoWatchAndScrollController85(this.$VideoWatchAndScrollController37+1).preload();};x.prototype.$VideoWatchAndScrollController91=function(){'use strict';var y=m;if(this.$VideoWatchAndScrollController12)y+=this.$VideoWatchAndScrollController12.scrollHeight;return Math.max(y,o)};x.prototype.$VideoWatchAndScrollController50=function(y){'use strict';if(this.$VideoWatchAndScrollController47){this.$VideoWatchAndScrollController7={height:this.$VideoWatchAndScrollController47.height,left:this.$VideoWatchAndScrollController47.left,top:this.$VideoWatchAndScrollController47.top,width:this.$VideoWatchAndScrollController47.width};return}if(y){var z=y.scrollWidth,aa=y.scrollHeight,ba=this.$VideoWatchAndScrollController76(y),ca=ba*aa/z;this.$VideoWatchAndScrollController7.height=ca;this.$VideoWatchAndScrollController7.width=ba}else this.$VideoWatchAndScrollController7={height:this.$VideoWatchAndScrollController5,left:m,top:this.$VideoWatchAndScrollController91(),width:this.$VideoWatchAndScrollController6};};x.prototype.$VideoWatchAndScrollController86=function(y,z){'use strict';var aa=c('DOM').create('canvas',{className:"_57n6"});aa.height=y.height;aa.width=y.width;if(aa.getContext&&aa.getContext('2d'))if(z.scrollHeight===0){var ba=c('DOM').scry(z.parentNode,"._3t5i"),ca=ba[0];if(ca){var da=aa.getContext('2d');da.drawImage(ca,0,0)}}else if(z instanceof window.HTMLVideoElement){var ea=new (c('VideoFrameBuffer'))(aa,z);ea.updateFrameBuffer()}var fa=c('DOM').create('div');fa.appendChild(aa);var ga=c('DOM').create('i',{className:"_1jto _bsl _3htz"});fa.appendChild(ga);return fa};x.prototype.$VideoWatchAndScrollController64=function(){'use strict';if(this.$VideoWatchAndScrollController19)this.$VideoWatchAndScrollController52();this.$VideoWatchAndScrollController16.pause(c('VideoPlayerReason').USER);this.$VideoWatchAndScrollController81()};x.prototype.$VideoWatchAndScrollController92=function(){'use strict';this.$VideoWatchAndScrollController16.emit('WatchAndScroll/collapse')};x.prototype.$VideoWatchAndScrollController93=function(){'use strict';var y=this.$VideoWatchAndScrollController86(this.$VideoWatchAndScrollController7,this.$VideoWatchAndScrollController16.getVideoNode(),true);this.$VideoWatchAndScrollController14&&this.$VideoWatchAndScrollController14.setState({fadeOut:true,fadeOutPlaceholder:y});this.$VideoWatchAndScrollController94(this.$VideoWatchAndScrollController17,this.$VideoWatchAndScrollController8);if(this.$VideoWatchAndScrollController18){c('DOM').remove(this.$VideoWatchAndScrollController18);this.$VideoWatchAndScrollController18=null}if(this.$VideoWatchAndScrollController13){this.$VideoWatchAndScrollController13.remove();this.$VideoWatchAndScrollController13=null}};x.prototype.$VideoWatchAndScrollController94=function(y,z,aa){'use strict';var ba=y.getOption('VideoWithLiveBroadcast','isLive');y.pause(c('VideoPlayerReason').USER);if(y.isPlayerVersion('silvercity'))y.detachRootNode();aa&&c('ReactDOM').unmountComponentAtNode(aa);if(z.dimensions&&z.dimensions.width&&z.dimensions.height){y.addOffsetStylings();y.setDimensions(z.dimensions.width,z.dimensions.height)}if(z.videoRootNode)c('DOM').prependContent(z.videoRootNode,y.getRootNode());y.emit('WatchAndScroll/positionUpdated');y.updateSource(z.source||c('VideoPlayerLoggerSource').INLINE);var ca=this.$VideoWatchAndScrollController70(y.getVideoNode()),da=ca.top,ea=c('getViewportDimensions')().height;if(y.getSource()!==c('VideoPlayerLoggerSource').PERMALINK)y.mute();if(da<window.scrollY||da>window.scrollY+ea){y.pause(c('VideoPlayerReason').AUTOPLAY);y.emit('resumeAutoplay')}else y.play(c('VideoPlayerReason').USER);};x.prototype.$VideoWatchAndScrollController87=function(){'use strict';this.$VideoWatchAndScrollController4||j(0);this.$VideoWatchAndScrollController41||j(0);this.$VideoWatchAndScrollController41.setState({fadeOut:true});this.$VideoWatchAndScrollController46=c('setTimeoutAcrossTransitions')(function(){this.$VideoWatchAndScrollController42||j(0);this.$VideoWatchAndScrollController43||j(0);this.$VideoWatchAndScrollController94(this.$VideoWatchAndScrollController42,this.$VideoWatchAndScrollController44,this.$VideoWatchAndScrollController43);if(this.$VideoWatchAndScrollController45){c('DOM').remove(this.$VideoWatchAndScrollController45);this.$VideoWatchAndScrollController45=null}this.$VideoWatchAndScrollController46=null}.bind(this),s)};x.prototype.$VideoWatchAndScrollController53=function(){'use strict';this.$VideoWatchAndScrollController4||j(0);this.$VideoWatchAndScrollController14||j(0);if(!this.$VideoWatchAndScrollController23&&c('shouldWNSRenderToRHC')())c('Arbiter').inform('VideoWatchAndScrollController/exit');this.$VideoWatchAndScrollController36.forEach(function(y){return y.abortLoading()});this.$VideoWatchAndScrollController93();this.$VideoWatchAndScrollController46=c('setTimeoutAcrossTransitions')(function(){c('ReactDOM').unmountComponentAtNode(this.$VideoWatchAndScrollController82());this.$VideoWatchAndScrollController83()}.bind(this),s)};x.prototype.$VideoWatchAndScrollController83=function(){'use strict';this.$VideoWatchAndScrollController4||j(0);this.$VideoWatchAndScrollController34&&this.$VideoWatchAndScrollController34.abandonRequest();this.$VideoWatchAndScrollController37=0;this.$VideoWatchAndScrollController1=false;this.$VideoWatchAndScrollController32.release();this.$VideoWatchAndScrollController32=new (c('SubscriptionsHandler'))();this.$VideoWatchAndScrollController8={};this.$VideoWatchAndScrollController16=null;this.$VideoWatchAndScrollController17=null;this.$VideoWatchAndScrollController4=false;this.$VideoWatchAndScrollController36=[];this.$VideoWatchAndScrollController39=[];this.$VideoWatchAndScrollController14=null;clearTimeout(this.$VideoWatchAndScrollController46);this.$VideoWatchAndScrollController46=null;if(this.$VideoWatchAndScrollController42&&this.$VideoWatchAndScrollController43&&this.$VideoWatchAndScrollController44)this.$VideoWatchAndScrollController94(this.$VideoWatchAndScrollController42,this.$VideoWatchAndScrollController44,this.$VideoWatchAndScrollController43);this.$VideoWatchAndScrollController42=null;this.$VideoWatchAndScrollController44={};if(this.$VideoWatchAndScrollController45){c('DOM').remove(this.$VideoWatchAndScrollController45);this.$VideoWatchAndScrollController45=null}c('VideoAutoplayControllerX').setShouldAutoplay(true);this.$VideoWatchAndScrollController2=null;if(this.$VideoWatchAndScrollController23){this.$VideoWatchAndScrollController47=this.$VideoWatchAndScrollController55(this.$VideoWatchAndScrollController23.getVideoNode());this.$VideoWatchAndScrollController63();this.$VideoWatchAndScrollController59(this.$VideoWatchAndScrollController23,c('VideoPlayerReason').USER);this.$VideoWatchAndScrollController23=null}this.$VideoWatchAndScrollController30=false;this.$VideoWatchAndScrollController47=null;c('VideoChannelLogger').endSession()};x.prototype.$VideoWatchAndScrollController88=function(){'use strict';return c('ReactDOM').render(c('React').createElement(c('VideoWatchAndScrollContainer.react'),{isDrawerEnabled:c('VideoPlayerExperiments').rhcWNSDrawerEnabled,isLiveVideo:function(){return this.$VideoWatchAndScrollController16.isLiveVideo()}.bind(this),initialPosition:this.$VideoWatchAndScrollController7,initialVideoElement:this.$VideoWatchAndScrollController15,onChannelNavigation:this.$VideoWatchAndScrollController95.bind(this),onClick:this.$VideoWatchAndScrollController96.bind(this),onClose:this.$VideoWatchAndScrollController64.bind(this),onCollapse:this.$VideoWatchAndScrollController92.bind(this),onDoubleClick:this.$VideoWatchAndScrollController97.bind(this),onDrop:this.$VideoWatchAndScrollController98.bind(this),onGrab:this.$VideoWatchAndScrollController99.bind(this),onInitialPositionUpdate:this.$VideoWatchAndScrollController100.bind(this),onReplay:this.$VideoWatchAndScrollController90.bind(this)}),this.$VideoWatchAndScrollController82())};x.prototype.$VideoWatchAndScrollController81=function(){'use strict';if(this.$VideoWatchAndScrollController17)this.$VideoWatchAndScrollController17.emit('exitWatchAndScroll');};x.prototype.$VideoWatchAndScrollController95=function(y){'use strict';if(y>0&&this.$VideoWatchAndScrollController36.length<=this.$VideoWatchAndScrollController37){if(!c('shouldWNSRenderToRHC')())this.$VideoWatchAndScrollController64();return}this.$VideoWatchAndScrollController37+=y;this.$VideoWatchAndScrollController61()};x.prototype.$VideoWatchAndScrollController99=function(){'use strict';if(this.$VideoWatchAndScrollController19)this.$VideoWatchAndScrollController52();var y=this.$VideoWatchAndScrollController16.getOption('VideoWithLiveBroadcast','isLive');if(y)return;this.$VideoWatchAndScrollController24=this.$VideoWatchAndScrollController16.isState('playing');this.$VideoWatchAndScrollController16.pause(c('VideoPlayerReason').USER)};x.prototype.$VideoWatchAndScrollController98=function(){'use strict';var y=this.$VideoWatchAndScrollController16.getOption('VideoWithLiveBroadcast','isLive');if(y)return;if(this.$VideoWatchAndScrollController24)this.$VideoWatchAndScrollController16.play(c('VideoPlayerReason').USER);this.$VideoWatchAndScrollController24=null};x.prototype.$VideoWatchAndScrollController96=function(){'use strict';var y=this.$VideoWatchAndScrollController16.getOption('VideoWithLiveBroadcast','isLive');if(this.$VideoWatchAndScrollController19||y)return;if(this.$VideoWatchAndScrollController16.isState('playing')){this.$VideoWatchAndScrollController16.pause(c('VideoPlayerReason').USER)}else if(this.$VideoWatchAndScrollController16.isState('paused')||this.$VideoWatchAndScrollController16.isState('finished')||this.$VideoWatchAndScrollController16.isState('ready'))this.$VideoWatchAndScrollController16.play(c('VideoPlayerReason').USER);};x.prototype.$VideoWatchAndScrollController84=function(y){'use strict';if(this.$VideoWatchAndScrollController16===y)return;if(c('VideoPlayerExperiments').rhcWNSEnabled)y.addListener('WatchAndScroll/collapse',function(){if(y!=this.$VideoWatchAndScrollController16){y.removeCurrentListener();return}if(!c('shouldWNSRenderToRHC')())return;c('Arbiter').inform('VideoWatchAndScrollController/collapse')}.bind(this));this.$VideoWatchAndScrollController16=y};x.prototype.$VideoWatchAndScrollController97=function(){'use strict';if(this.$VideoWatchAndScrollController19)return;var y=this.$VideoWatchAndScrollController16.getOption('VideoWithClickToChannelView','isChannelEligible'),z=this.$VideoWatchAndScrollController16.getVideoID()===this.$VideoWatchAndScrollController17.getVideoID();if(z&&!y)return;c('Bootloader').loadModules(["VideoChannelController"],function(aa){this.$VideoWatchAndScrollController69();aa.openFromVideoPlayer(this.$VideoWatchAndScrollController16,this.$VideoWatchAndScrollController16.getVideoChannelID(),this.$VideoWatchAndScrollController35,this.$VideoWatchAndScrollController67())}.bind(this),'VideoWatchAndScrollController')};x.prototype.pauseActiveVideo=function(y){'use strict';if(!this.$VideoWatchAndScrollController16)return;this.$VideoWatchAndScrollController16.pause(y)};x.pauseActiveVideo=function(){var y=arguments.length<=0||arguments[0]===undefined?c('VideoPlayerReason').USER:arguments[0];'use strict';if(!u)return;u.pauseActiveVideo(y)};x.prototype.playActiveVideo=function(y){'use strict';if(!this.$VideoWatchAndScrollController16)return;this.$VideoWatchAndScrollController16.play(y)};x.playActiveVideo=function(){var y=arguments.length<=0||arguments[0]===undefined?c('VideoPlayerReason').USER:arguments[0];'use strict';if(!u)return;u.playActiveVideo(y)};x.prototype.$VideoWatchAndScrollController100=function(y){'use strict';this.$VideoWatchAndScrollController7=y;if(this.$VideoWatchAndScrollController14&&!this.$VideoWatchAndScrollController14.getFadeOutStatus()){this.$VideoWatchAndScrollController16.removeOffsetStylings();this.$VideoWatchAndScrollController16.setDimensions(y.width,y.height);this.$VideoWatchAndScrollController16.emit('WatchAndScroll/positionUpdated')}};x.prototype.$VideoWatchAndScrollController101=function(){'use strict';var y=c('DOM').create('div');if(c('shouldWNSRenderToRHC')()){c('ifRequired')('RHCVideoWNSController',function(z){return z.mount(y)})}else c('DOM').appendContent(document.body,y);return y};x.prototype.$VideoWatchAndScrollController82=function(){'use strict';if(!this.$VideoWatchAndScrollController2)this.$VideoWatchAndScrollController2=this.$VideoWatchAndScrollController101();return this.$VideoWatchAndScrollController2};f.exports=x}),null);
__d("XBasicFBNuxGenShouldShowController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ajax\/megaphone\/should_show_fbnux\/",{nux_id:{type:"Int",required:true}})}),null);
__d('EmbeddedVideoControls',['cx','csx','Arbiter','AsyncRequest','CSS','DeferredComponent.react','EventListener','FullScreen','Parent','React','ReactDOM','Set','SubscriptionsHandler','TahoeVariables','VideoChannelViewVariables','VideoPlayerExperiments','VideoPlayerLoggerEvent','VideoPlayerLoggerSource','VideoPlayerReason','VideoPlayerUIComponentDrawer','VideoPlayerVersions','VideoWatchAndScrollController','XBasicFBNuxGenShouldShowController','cancelAnimationFrame','containsNode','destroyOnUnload','getActiveElement','logVideosClickTracking','requestAnimationFrame','shouldWNSRenderToRHC','throttle'],(function a(b,c,d,e,f,g,h,i){var j=c('VideoChannelViewVariables').channelRedesign,k=new (c('Set'))([c('VideoPlayerLoggerSource').EMBEDDED,c('VideoPlayerLoggerSource').EMBEDDED_VIDEO,c('VideoPlayerLoggerSource').EMBEDDED_VIDEO_PREVIEW,c('VideoPlayerLoggerSource').EMBEDDED_PAGE_PLUGIN,c('VideoPlayerLoggerSource').EMBEDDED_VIDEO_FROM_UFI]),l=4936,m=c('VideoPlayerExperiments').persistentWNSEnabled;function n(o,p,q){'use strict';this.$EmbeddedVideoControls6=function(){this.$EmbeddedVideoControls49=false;this.scheduleRenderReactComponent()}.bind(this);this.$EmbeddedVideoControls7=o;this.$EmbeddedVideoControls44=p;this.$EmbeddedVideoControls5=0;this.$EmbeddedVideoControls39=0;this.$EmbeddedVideoControls38=0;this.$EmbeddedVideoControls12=0;this.$EmbeddedVideoControls55=false;this.$EmbeddedVideoControls23=q.hideOnEvents.autoplay;this.$EmbeddedVideoControls24=q.hideOnEvents.finish;this.$EmbeddedVideoControls18=q.hideOnEvents.pause;this.$EmbeddedVideoControls19=q.hidePlaybackControl;this.$EmbeddedVideoControls20=q.hidePlaybackScrubber;this.$EmbeddedVideoControls47=q.showPlaybackRateControl;this.$EmbeddedVideoControls21=q.hideRemainingTime;this.$EmbeddedVideoControls22=q.hideSettings;this.$EmbeddedVideoControls53=q.useTwoRows;this.$EmbeddedVideoControls26=q.isCommentAttachment;this.$EmbeddedVideoControls72=q.pointsOfInterestConfig||{};this.$EmbeddedVideoControls73=q.displayElapsedTime||false;this.$EmbeddedVideoControls74=q.adBreaks;this.$EmbeddedVideoControls75=q.showSpatialAudioNUX;this.$EmbeddedVideoControls34=false;this.$EmbeddedVideoControls46=q.shouldShowWNSNUX;this.$EmbeddedVideoControls49=false;this.$EmbeddedVideoControls50=false;this.$EmbeddedVideoControls79=q.insertedAdBreaks;this.$EmbeddedVideoControls80=q.isAdBreakDisabled;var r=o.isPlayerVersion(c('VideoPlayerVersions').PLEASANTVILLE);this.$EmbeddedVideoControls16=q.showButtons.watchandscroll&&r;this.$EmbeddedVideoControls1=q.showButtons.casting;this.$EmbeddedVideoControls2=q.showButtons.fullscreen&&!!c('FullScreen').isSupported();this.$EmbeddedVideoControls37=q.permalinkURL;this.$EmbeddedVideoControls30=q.isLive;this.$EmbeddedVideoControls31=q.isSphericalVideo;this.$EmbeddedVideoControls42=c('VideoPlayerExperiments').redesign;this.$EmbeddedVideoControls77=q.forceVisible||false;this.$EmbeddedVideoControls78=q.hideGradient||false;this.$EmbeddedVideoControls17=false;this.$EmbeddedVideoControls69=q.showQualitySelector;this.$EmbeddedVideoControls70=q.qualitySelectorMinStreams;this.$EmbeddedVideoControls57=this.enterWatchAndScroll.bind(this);this.$EmbeddedVideoControls9=this.enterTahoe.bind(this);this.$EmbeddedVideoControls59=this.play.bind(this);this.$EmbeddedVideoControls58=this.pause.bind(this);this.$EmbeddedVideoControls60=this.scrubBegin.bind(this);this.$EmbeddedVideoControls61=this.scrubEnd.bind(this);this.$EmbeddedVideoControls51=this.startCasting.bind(this);this.$EmbeddedVideoControls52=this.stopCasting.bind(this);this.$EmbeddedVideoControls63=this.toggleFullscreen.bind(this);this.$EmbeddedVideoControls64=this.toggleHD.bind(this);this.$EmbeddedVideoControls65=this.toggleHLS.bind(this);this.$EmbeddedVideoControls66=this.toggleMuted.bind(this);this.$EmbeddedVideoControls67=this.toggleSubtitles.bind(this);this.$EmbeddedVideoControls56=this.changeVolume.bind(this);this.$EmbeddedVideoControls62=this.setVideoPlaybackRate.bind(this);this.$EmbeddedVideoControls68=this.setPreferredVideoQuality.bind(this);this.$EmbeddedVideoControls71=this.$EmbeddedVideoControls7.registerDrawer(c('VideoPlayerUIComponentDrawer').priorities.EmbeddedControls,36);this.$EmbeddedVideoControls36=q.needsInitialVideoInfoUpdate;this.$EmbeddedVideoControls76=this.$EmbeddedVideoControls7.getSource();if(!m)c('destroyOnUnload')(function(){return c('ReactDOM').unmountComponentAtNode(p)});var s=this.$EmbeddedVideoControls7.getRootNode();c('EventListener').listen(this.$EmbeddedVideoControls44,'focusin',function(){this.$EmbeddedVideoControls11=true;this.scheduleRenderReactComponent()}.bind(this));c('EventListener').listen(this.$EmbeddedVideoControls44,'focusout',function(){if(!c('containsNode')(this.$EmbeddedVideoControls44,c('getActiveElement')())){this.$EmbeddedVideoControls11=false;this.scheduleRenderReactComponent()}}.bind(this));c('EventListener').listen(s,'click',function(u){if(this.$EmbeddedVideoControls11&&u.detail)c('getActiveElement')().blur();}.bind(this));c('EventListener').listen(s,'mouseleave',function(){this.$EmbeddedVideoControls35=false;this.scheduleRenderReactComponent()}.bind(this));c('EventListener').listen(s,'mouseenter',function(){this.$EmbeddedVideoControls35=true;this.scheduleRenderReactComponent()}.bind(this));this.$EmbeddedVideoControls7.registerOption('VideoControls','acquireForceHideLock',function(){this.$EmbeddedVideoControls12++;return {release:function(){this.$EmbeddedVideoControls12--;this.scheduleRenderReactComponent()}.bind(this)}}.bind(this));this.$EmbeddedVideoControls7.registerOption('VideoControls','hideOnFinish',function(){return this.$EmbeddedVideoControls24}.bind(this),function(u){this.$EmbeddedVideoControls24=u}.bind(this));this.$EmbeddedVideoControls7.registerOption('VideoControls','hideOnPause',function(){return this.$EmbeddedVideoControls18}.bind(this),function(u){this.$EmbeddedVideoControls18=u}.bind(this));this.$EmbeddedVideoControls7.registerOption('VideoControls','available',function(){return true});this.$EmbeddedVideoControls7.registerOption('VideoControls','areControlsVisible',this.areControlsVisible.bind(this));['mousemove','mousedown','keydown'].forEach(function(u){c('EventListener').listen(this.$EmbeddedVideoControls7.getRootNode(),u,c('throttle')(this.flashControls.bind(this),200))}.bind(this));this.$EmbeddedVideoControls48=new (c('SubscriptionsHandler'))();this.scheduleRenderReactComponent();var t=['changeVolume','loadedSubtitles','muteVideo','pausePlayback','stateChange','toggleFullscreen','toggleSubtitles','updateMetadata','unmuteVideo','qualityChange','casting/receiverStateChange','casting/supportStateChange','casting/castingStateChange','casting/playStateChange'];t.forEach(function(event){return this.$EmbeddedVideoControls48.addSubscriptions(this.$EmbeddedVideoControls7.addListener(event,function(){return this.scheduleRenderReactComponentWithVideoInfoUpdate()}.bind(this)))}.bind(this));this.$EmbeddedVideoControls48.addSubscriptions(this.$EmbeddedVideoControls7.addListener('beginPlayback',function(){return this.$EmbeddedVideoControls81()}.bind(this)),this.$EmbeddedVideoControls7.addListener('updateStatus',function(u){this.$EmbeddedVideoControls39=u.position;this.scheduleRenderReactComponent()}.bind(this)),this.$EmbeddedVideoControls7.addListener('casting/updateStatus',function(u){this.$EmbeddedVideoControls39=u.position;this.scheduleRenderReactComponent()}.bind(this)),this.$EmbeddedVideoControls7.addListener('updateBuffer',function(u){this.$EmbeddedVideoControls5=u.duration+u.offset;this.scheduleRenderReactComponent()}.bind(this)),this.$EmbeddedVideoControls7.addListener('optionsChange',function(u){this.$EmbeddedVideoControls82()}.bind(this)),this.$EmbeddedVideoControls7.addListener('resumeAutoplay',function(u){this.$EmbeddedVideoControls83();this.scheduleRenderReactComponentWithVideoInfoUpdate()}.bind(this)),this.$EmbeddedVideoControls7.addListener('turnOffAutoplay',function(u){this.$EmbeddedVideoControls25=false}.bind(this)));if(this.$EmbeddedVideoControls46)this.$EmbeddedVideoControls48.addSubscriptions(this.$EmbeddedVideoControls7.addListener('VideoWithStallRecovery/bufferingStateOn',function(){if(!this.$EmbeddedVideoControls50)this.$EmbeddedVideoControls84(l);}.bind(this)),this.$EmbeddedVideoControls7.addListener('VideoWithStallRecovery/bufferingStateOff',function(){this.$EmbeddedVideoControls49=false}.bind(this)));this.$EmbeddedVideoControls48.addSubscriptions(this.$EmbeddedVideoControls7.addListener('finishPlayback',function(){this.scheduleRenderReactComponent(true)}.bind(this)));this.$EmbeddedVideoControls83();this.$EmbeddedVideoControls85()}n.prototype.$EmbeddedVideoControls86=function(){'use strict';return this.$EmbeddedVideoControls7.isState('playing')&&this.$EmbeddedVideoControls7.getOption('FeedAutoplay','isAutoplaying')};n.prototype.$EmbeddedVideoControls85=function(){'use strict';this.$EmbeddedVideoControls45=this.$EmbeddedVideoControls7.getOption('VideoScrubberPreviewComponent','scrubberPreviewSprites');this.$EmbeddedVideoControls14=this.$EmbeddedVideoControls7.getOption('VideoScrubberPreviewComponent','hasPreviewThumbnails');this.$EmbeddedVideoControls40=this.$EmbeddedVideoControls7.getOption('VideoScrubberPreviewComponent','previewThumbnailInformation')};n.prototype.$EmbeddedVideoControls83=function(){'use strict';this.$EmbeddedVideoControls25=this.$EmbeddedVideoControls7.getOption('FeedAutoplay','isAutoplaying')};n.prototype.$EmbeddedVideoControls82=function(){'use strict';this.$EmbeddedVideoControls83();this.$EmbeddedVideoControls85()};n.prototype.$EmbeddedVideoControls81=function(){'use strict';this.flashControls();this.$EmbeddedVideoControls33=true;this.scheduleRenderReactComponentWithVideoInfoUpdate()};n.prototype.$EmbeddedVideoControls84=function(o){'use strict';var p=c('XBasicFBNuxGenShouldShowController').getURIBuilder().setInt('nux_id',o).getURI();new (c('AsyncRequest'))().setURI(p).setMethod('GET').setReadOnly(true).setHandler(function(q){var r=q.getPayload();this.$EmbeddedVideoControls49=r.should_show_nux}.bind(this)).send()};n.prototype.updateConfig_DEPRECATED=function(o,p){'use strict';this.$EmbeddedVideoControls37=o.permalinkURL||null;this.$EmbeddedVideoControls1=o.showButtons?o.showButtons.casting:false;this.$EmbeddedVideoControls30=!!o.isLive;this.scheduleRenderReactComponent()};n.prototype.updateAdBreaksConfig=function(o){'use strict';this.$EmbeddedVideoControls79=o.insertedAdBreaks;this.$EmbeddedVideoControls80=o.isAdBreakDisabled;this.$EmbeddedVideoControls77=!o.isPreviewingAdBreak;this.scheduleRenderReactComponent()};n.prototype.flashControls=function(){'use strict';if(!this.$EmbeddedVideoControls41){this.$EmbeddedVideoControls41=true;this.scheduleRenderReactComponent()}clearTimeout(this.$EmbeddedVideoControls10);this.$EmbeddedVideoControls10=setTimeout(function(){this.$EmbeddedVideoControls41=false;this.scheduleRenderReactComponent()}.bind(this),3000)};n.prototype.areControlsVisible=function(){'use strict';if(!this.areControlsEnabled())return false;if(this.$EmbeddedVideoControls77||this.$EmbeddedVideoControls49)return true;if(this.$EmbeddedVideoControls7.isState('playing')){if(this.$EmbeddedVideoControls23&&this.$EmbeddedVideoControls25)return false;return this.$EmbeddedVideoControls11||this.$EmbeddedVideoControls35&&this.$EmbeddedVideoControls41}else if(this.$EmbeddedVideoControls7.isState('finished')){return this.$EmbeddedVideoControls7.isFullscreen()||!this.$EmbeddedVideoControls24}else if(this.$EmbeddedVideoControls7.isState('paused'))return this.$EmbeddedVideoControls7.isFullscreen()||!this.$EmbeddedVideoControls18;return false};n.prototype.areControlsEnabled=function(){'use strict';if(this.$EmbeddedVideoControls12>0||this.$EmbeddedVideoControls7.isState('loading')||this.$EmbeddedVideoControls7.isState('fallback')||this.$EmbeddedVideoControls7.isState('finished')&&this.$EmbeddedVideoControls24&&!this.$EmbeddedVideoControls7.isFullscreen())return false;return true};n.prototype.scheduleRenderReactComponentWithVideoInfoUpdate=function(){'use strict';this.$EmbeddedVideoControls36=true;this.scheduleRenderReactComponent(true)};n.prototype.shouldRenderComponent=function(){'use strict';if(this.$EmbeddedVideoControls7.isState('loading')||this.$EmbeddedVideoControls7.isState('fallback'))return false;if(this.areControlsVisible()){this.$EmbeddedVideoControls17=false;return true}if(!this.$EmbeddedVideoControls17){this.$EmbeddedVideoControls17=true;return true}return false};n.prototype.scheduleRenderReactComponent=function(){var o=arguments.length<=0||arguments[0]===undefined?false:arguments[0];'use strict';if(!o&&!this.shouldRenderComponent())return;c('cancelAnimationFrame')(this.$EmbeddedVideoControls43);this.$EmbeddedVideoControls43=c('requestAnimationFrame')(this.renderReactComponent.bind(this))};n.prototype.renderReactComponent=function(){'use strict';if(this.$EmbeddedVideoControls36)this.$EmbeddedVideoControls87();var o=this.areControlsVisible();if(this.$EmbeddedVideoControls55!==o){this.$EmbeddedVideoControls7.emit('VideoControls/visibilityUpdate',{areControlsVisible:o});if(o){this.$EmbeddedVideoControls71.reserve()}else this.$EmbeddedVideoControls71.release();if(!this.$EmbeddedVideoControls7.isState('destroyed'))c('CSS').conditionClass(this.$EmbeddedVideoControls7.getRootNode(),"_6103",!o);}this.$EmbeddedVideoControls55=o;var p=this.$EmbeddedVideoControls7.getAvailableVideoQualities(),q=this.$EmbeddedVideoControls7.getSelectedVideoQuality(),r=this.$EmbeddedVideoControls7.canAutoSelectVideoQuality(),s=this.$EmbeddedVideoControls7.getStreamingFormat(),t=null;if(this.$EmbeddedVideoControls7.hasOption('LiveHeatmap','interestLevels'))t=this.$EmbeddedVideoControls7.getOption('LiveHeatmap','interestLevels');var u=this.$EmbeddedVideoControls34;this.$EmbeddedVideoControls34=c('VideoPlayerExperiments').slidingWNSv3&&this.$EmbeddedVideoControls16&&c('VideoWatchAndScrollController').isSlidingEnabled(this.$EmbeddedVideoControls7);if(u!==this.$EmbeddedVideoControls34)this.$EmbeddedVideoControls7.logEvent(this.$EmbeddedVideoControls34?c('VideoPlayerLoggerEvent').WATCH_AND_SCROLL_ICON_HIGHLIGHTED:c('VideoPlayerLoggerEvent').WATCH_AND_SCROLL_ICON_UNHIGHLIGHTED);c('ReactDOM').render(c('React').createElement(c('DeferredComponent.react'),{deferredPlaceholder:c('React').createElement('span',null),deferredComponent:function v(w){return e(['EmbeddedVideoControls.react'],w)},allowCasting:this.$EmbeddedVideoControls1,allowFullscreen:this.$EmbeddedVideoControls2,areSubtitlesActive:this.$EmbeddedVideoControls3,areHLSActive:this.$EmbeddedVideoControls4,bufferedPosition:this.$EmbeddedVideoControls5,finishedPlaying:this.$EmbeddedVideoControls7.isState('finished'),hasFoundReceiver:this.hasFoundReceiver(),hasHD:this.$EmbeddedVideoControls13,hasSubtitles:this.$EmbeddedVideoControls15,hasWatchAndScroll:this.$EmbeddedVideoControls16&&!this.getIsInChannel(),hidden:!this.areControlsEnabled(),hideGradient:this.$EmbeddedVideoControls78,isCasting:this.isCasting(),isCastingSupported:this.isCastingSupported(),isCommentAttachment:this.$EmbeddedVideoControls26,isEmbedded:k.has(this.$EmbeddedVideoControls76),isFullscreen:this.$EmbeddedVideoControls27,isHD:this.$EmbeddedVideoControls28,isInline:this.$EmbeddedVideoControls29,isLive:this.$EmbeddedVideoControls30,isSphericalVideo:this.$EmbeddedVideoControls31,isMuted:this.$EmbeddedVideoControls32,isPlaying:this.$EmbeddedVideoControls33,isSidePaneOpen:this.getIsInChannel()&&!!c('Parent').bySelector(this.$EmbeddedVideoControls44,"._57bj"),isSlidingWNSEligible:this.$EmbeddedVideoControls34,interestLevels:t,drawer:this.$EmbeddedVideoControls71,onEnterWatchAndScroll:this.$EmbeddedVideoControls57,onEnterTahoe:this.$EmbeddedVideoControls9,doesFullscreenEnterTahoe:this.$EmbeddedVideoControls8,onWNSNUXClose:this.$EmbeddedVideoControls6,onPause:this.$EmbeddedVideoControls58,onPlay:this.$EmbeddedVideoControls59,onScrubBegin:this.$EmbeddedVideoControls60,onScrubEnd:this.$EmbeddedVideoControls61,onSetVideoPlaybackRate:this.$EmbeddedVideoControls62,onSidePaneToggle:function v(){c('Arbiter').inform('VideoChannelView/sidePaneToggle',{})},onStartCast:this.$EmbeddedVideoControls51,onStopCast:this.$EmbeddedVideoControls52,onToggleFullscreen:this.$EmbeddedVideoControls63,onToggleHD:this.$EmbeddedVideoControls64,onToggleHLS:this.$EmbeddedVideoControls65,onToggleMuted:this.$EmbeddedVideoControls66,onToggleSubtitles:this.$EmbeddedVideoControls67,onVolumeChange:this.$EmbeddedVideoControls56,permalinkURL:this.$EmbeddedVideoControls37,playbackDuration:this.$EmbeddedVideoControls38,playbackPosition:this.$EmbeddedVideoControls39,transparent:!o,redesign:this.$EmbeddedVideoControls42,hidePlaybackControl:this.$EmbeddedVideoControls19,hidePlaybackScrubber:this.$EmbeddedVideoControls20,showPlaybackRateControl:this.$EmbeddedVideoControls47,hideRemainingTime:this.$EmbeddedVideoControls21,hideSettings:this.$EmbeddedVideoControls22,useTwoRows:this.$EmbeddedVideoControls53,volume:this.$EmbeddedVideoControls54,scrubberPreviewSprites:this.$EmbeddedVideoControls45,hasScrubberPreview:this.$EmbeddedVideoControls14,previewThumbnailInformation:this.$EmbeddedVideoControls40,availableQualities:p,selectedQuality:q,canAutoSelectVideoQuality:r,onSelectQuality:this.$EmbeddedVideoControls68,showQualitySelector:this.$EmbeddedVideoControls69,qualitySelectorMinStreams:this.$EmbeddedVideoControls70,streamingFormat:s,showSpatialAudioNUX:this.$EmbeddedVideoControls75,onPointOfInterestSelect:this.$EmbeddedVideoControls72.onPointOfInterestSelect,currentPointOfInterest:this.$EmbeddedVideoControls72.currentPointOfInterest,pointsOfInterest:this.$EmbeddedVideoControls72.pointsOfInterest,displayElapsedTime:this.$EmbeddedVideoControls73,adBreaks:this.$EmbeddedVideoControls74,showSidePaneToggle:this.getIsInChannel()&&!this.$EmbeddedVideoControls27&&j,showWNSNUX:this.$EmbeddedVideoControls49&&this.areControlsEnabled()&&this.$EmbeddedVideoControls46,insertedAdBreaks:this.$EmbeddedVideoControls79,isAdBreakDisabled:this.$EmbeddedVideoControls80}),this.$EmbeddedVideoControls44);if(this.$EmbeddedVideoControls49&&this.areControlsEnabled()&&this.$EmbeddedVideoControls46)this.$EmbeddedVideoControls50=true;};n.prototype.$EmbeddedVideoControls87=function(){'use strict';var o=this.$EmbeddedVideoControls7.getVideoInfo_DEPRECATED();if(o){this.$EmbeddedVideoControls3=o.areSubtitlesActive;this.$EmbeddedVideoControls15=o.hasSubtitles;this.$EmbeddedVideoControls13=o.hasHD;this.$EmbeddedVideoControls28=o.isHD;this.$EmbeddedVideoControls32=o.isMuted;this.$EmbeddedVideoControls33=o.isPlaying||this.isCastPlaying();this.$EmbeddedVideoControls38=o.playbackDuration;this.$EmbeddedVideoControls54=o.volume;var p=this.$EmbeddedVideoControls7.getOption('CommercialBreakVideoAdOverlay','videoController');if(p){this.$EmbeddedVideoControls27=p.isFullscreen()}else this.$EmbeddedVideoControls27=this.$EmbeddedVideoControls7.isFullscreen();this.$EmbeddedVideoControls29=this.$EmbeddedVideoControls7.getSource()===c('VideoPlayerLoggerSource').INLINE||this.$EmbeddedVideoControls7.getSource()===c('VideoPlayerLoggerSource').CONTINUE_WATCHING_RECOMMENDATION;this.$EmbeddedVideoControls30=o.isLiveStream;this.$EmbeddedVideoControls4=o.areHLSActive;this.$EmbeddedVideoControls36=false;this.$EmbeddedVideoControls8=this.$EmbeddedVideoControls7.listeners('enterTahoe').length!==0&&c('TahoeVariables').fullscreenControlBehavior==='tahoe'}};n.prototype.toggleHD=function(){'use strict';this.$EmbeddedVideoControls7.toggleHD()};n.prototype.setPreferredVideoQuality=function(o){'use strict';if(o){this.$EmbeddedVideoControls7.setPreferredVideoQuality(o)}else this.$EmbeddedVideoControls7.unsetPreferredVideoQuality();};n.prototype.toggleHLS=function(){'use strict';this.$EmbeddedVideoControls7.switchToStreamType('hls')};n.prototype.enterWatchAndScroll=function(){'use strict';if(c('shouldWNSRenderToRHC')()){this.$EmbeddedVideoControls7.emit('crossfadeWatchAndScroll')}else this.$EmbeddedVideoControls7.emit('enterWatchAndScroll');};n.prototype.enterTahoe=function(){'use strict';this.$EmbeddedVideoControls7.emit('enterTahoe')};n.prototype.scrubBegin=function(){'use strict';if(!this.isCasting())this.$EmbeddedVideoControls7.pause(c('VideoPlayerReason').SEEK);};n.prototype.scrubEnd=function(o){'use strict';this.$EmbeddedVideoControls7.seek(o);this.$EmbeddedVideoControls39=o;if(!this.isCasting()&&this.$EmbeddedVideoControls33)this.$EmbeddedVideoControls7.play(c('VideoPlayerReason').SEEK);};n.prototype.toggleMuted=function(){'use strict';if(this.$EmbeddedVideoControls7.isMuted()){c('logVideosClickTracking')(this.$EmbeddedVideoControls7.getVideoNode());this.$EmbeddedVideoControls7.unmute()}else this.$EmbeddedVideoControls7.mute();};n.prototype.toggleFullscreen=function(){'use strict';if(!this.$EmbeddedVideoControls7.isFullscreen())c('logVideosClickTracking')(this.$EmbeddedVideoControls7.getVideoNode());this.$EmbeddedVideoControls7.toggleFullscreen()};n.prototype.toggleSubtitles=function(){'use strict';this.$EmbeddedVideoControls7.toggleSubtitles();this.scheduleRenderReactComponent()};n.prototype.changeVolume=function(o){'use strict';this.$EmbeddedVideoControls7.setVolume(o)};n.prototype.play=function(){'use strict';c('logVideosClickTracking')(this.$EmbeddedVideoControls7.getVideoNode());if(this.isCasting()){this.$EmbeddedVideoControls7.setOption('casting','isPlaying',true)}else this.$EmbeddedVideoControls7.play(c('VideoPlayerReason').USER);};n.prototype.pause=function(){'use strict';if(this.isCasting()){this.$EmbeddedVideoControls7.setOption('casting','isPlaying',false)}else this.$EmbeddedVideoControls7.pause(c('VideoPlayerReason').USER);};n.prototype.setVideoPlaybackRate=function(o){'use strict';this.$EmbeddedVideoControls7.setPlaybackRate(o)};n.prototype.startCasting=function(){'use strict';this.$EmbeddedVideoControls7.setOption('casting','isCasting',true)};n.prototype.stopCasting=function(){'use strict';this.$EmbeddedVideoControls7.setOption('casting','isCasting',false)};n.prototype.isCastPlaying=function(){'use strict';return this.$EmbeddedVideoControls7.getOption('casting','isPlaying')};n.prototype.hasFoundReceiver=function(){'use strict';return this.$EmbeddedVideoControls7.getOption('casting','hasFoundReceiver')};n.prototype.isCasting=function(){'use strict';return this.$EmbeddedVideoControls7.getOption('casting','isCasting')};n.prototype.isCastingSupported=function(){'use strict';return this.$EmbeddedVideoControls7.getOption('casting','isSupported')};n.prototype.updatePointsOfInterestConfig=function(o){'use strict';Object.assign(this.$EmbeddedVideoControls72,o);this.scheduleRenderReactComponent()};n.prototype.updateDisplayElapsedTime=function(o){'use strict';this.$EmbeddedVideoControls73=o;this.scheduleRenderReactComponent()};n.prototype.getIsInChannel=function(){'use strict';return this.$EmbeddedVideoControls7.getIsInChannel()};n.prototype.unregister=function(){'use strict';c('cancelAnimationFrame')(this.$EmbeddedVideoControls43);this.$EmbeddedVideoControls48.release()};f.exports=n}),null);
__d('EmbeddedVideoPauseOverlay',['cx','fbt','Arbiter','CSS','DOM','DOMDimensions','EventListener','VideoPlayerExperiments','throttle'],(function a(b,c,d,e,f,g,h,i){var j="_3bw";function k(l,m,n,o,p,q,r,s,t){'use strict';this.$EmbeddedVideoPauseOverlay1=m;this.$EmbeddedVideoPauseOverlay2=l;this.$EmbeddedVideoPauseOverlay3=n;this.$EmbeddedVideoPauseOverlay4=o;this.$EmbeddedVideoPauseOverlay5=p;this.$EmbeddedVideoPauseOverlay6=q;this.$EmbeddedVideoPauseOverlay7=r;this.$EmbeddedVideoPauseOverlay8=s;this.$EmbeddedVideoPauseOverlay9=0;if(t){this.$EmbeddedVideoPauseOverlay10=t.showOnlyOnFullscreen;this.$EmbeddedVideoPauseOverlay11=t.showOnEndscreen}else{this.$EmbeddedVideoPauseOverlay10=false;this.$EmbeddedVideoPauseOverlay11=true}this.$EmbeddedVideoPauseOverlay12=i._("Like");this.$EmbeddedVideoPauseOverlay13=i._("Unlike");this.$EmbeddedVideoPauseOverlay14=i._("Share");this.$EmbeddedVideoPauseOverlay15();this.$EmbeddedVideoPauseOverlay2.addListener('beginPlayback',this.$EmbeddedVideoPauseOverlay16.bind(this));if(c('VideoPlayerExperiments').embeddedPlayerInlineChaining){this.$EmbeddedVideoPauseOverlay2.addListener('pausePlayback',this.$EmbeddedVideoPauseOverlay17.bind(this));this.$EmbeddedVideoPauseOverlay2.addListener('finishPlayback',this.$EmbeddedVideoPauseOverlay18.bind(this))}else{this.$EmbeddedVideoPauseOverlay2.addListener('pausePlayback',this.$EmbeddedVideoPauseOverlay19.bind(this));this.$EmbeddedVideoPauseOverlay2.addListener('finishPlayback',this.$EmbeddedVideoPauseOverlay19.bind(this))}this.$EmbeddedVideoPauseOverlay2.addListener('toggleFullscreen',this.$EmbeddedVideoPauseOverlay20.bind(this));c('EventListener').listen(this.$EmbeddedVideoPauseOverlay2.getRootNode(),'mousemove',c('throttle')(this.$EmbeddedVideoPauseOverlay21.bind(this),200));c('EventListener').listen(this.$EmbeddedVideoPauseOverlay2.getRootNode(),'mouseenter',function(){this.$EmbeddedVideoPauseOverlay22=true}.bind(this));c('EventListener').listen(this.$EmbeddedVideoPauseOverlay2.getRootNode(),'mouseleave',function(){if(this.$EmbeddedVideoPauseOverlay2.isState('playing')){this.$EmbeddedVideoPauseOverlay22=false;this.$EmbeddedVideoPauseOverlay23()}}.bind(this));c('Arbiter').subscribe('embeddedUfiToggle',function(){this.$EmbeddedVideoPauseOverlay24();this.$EmbeddedVideoPauseOverlay25()}.bind(this));c('EventListener').listen(window,'resize',c('throttle')(function(){this.$EmbeddedVideoPauseOverlay25()}.bind(this),100))}k.prototype.$EmbeddedVideoPauseOverlay16=function(){'use strict';this.$EmbeddedVideoPauseOverlay24();this.$EmbeddedVideoPauseOverlay25();this.$EmbeddedVideoPauseOverlay21()};k.prototype.$EmbeddedVideoPauseOverlay24=function(){'use strict';var l;if(this.$EmbeddedVideoPauseOverlay2.isFullscreen()){l=64}else l=32;this.$EmbeddedVideoPauseOverlay15();this.$EmbeddedVideoPauseOverlay9=c('DOMDimensions').getElementDimensions(this.$EmbeddedVideoPauseOverlay3).width+c('DOMDimensions').getElementDimensions(this.$EmbeddedVideoPauseOverlay4).width+l};k.prototype.$EmbeddedVideoPauseOverlay25=function(){'use strict';if(this.$EmbeddedVideoPauseOverlay2.isState('destroyed'))return;var l=c('DOMDimensions').getElementDimensions(this.$EmbeddedVideoPauseOverlay2.getRootNode()).width,m=l<this.$EmbeddedVideoPauseOverlay9;if(m){this.$EmbeddedVideoPauseOverlay26()}else this.$EmbeddedVideoPauseOverlay15();};k.prototype.$EmbeddedVideoPauseOverlay15=function(){'use strict';if(this.$EmbeddedVideoPauseOverlay6)c('DOM').setContent(this.$EmbeddedVideoPauseOverlay6,this.$EmbeddedVideoPauseOverlay14);if(this.$EmbeddedVideoPauseOverlay7)c('DOM').setContent(this.$EmbeddedVideoPauseOverlay7,this.$EmbeddedVideoPauseOverlay12);if(this.$EmbeddedVideoPauseOverlay8)c('DOM').setContent(this.$EmbeddedVideoPauseOverlay8,this.$EmbeddedVideoPauseOverlay13);if(this.$EmbeddedVideoPauseOverlay5)this.$EmbeddedVideoPauseOverlay5.showText();};k.prototype.$EmbeddedVideoPauseOverlay26=function(){'use strict';if(this.$EmbeddedVideoPauseOverlay6)c('DOM').setContent(this.$EmbeddedVideoPauseOverlay6,null);if(this.$EmbeddedVideoPauseOverlay7)c('DOM').setContent(this.$EmbeddedVideoPauseOverlay7,null);if(this.$EmbeddedVideoPauseOverlay8)c('DOM').setContent(this.$EmbeddedVideoPauseOverlay8,null);if(this.$EmbeddedVideoPauseOverlay5)this.$EmbeddedVideoPauseOverlay5.hideText();};k.prototype.$EmbeddedVideoPauseOverlay27=function(){'use strict';if(this.$EmbeddedVideoPauseOverlay10&&!this.$EmbeddedVideoPauseOverlay2.isFullscreen())return false;return this.$EmbeddedVideoPauseOverlay2.isState('playing')&&this.$EmbeddedVideoPauseOverlay22||this.$EmbeddedVideoPauseOverlay2.isState('paused')||!c('VideoPlayerExperiments').embeddedPlayerInlineChaining&&this.$EmbeddedVideoPauseOverlay2.isState('finished')};k.prototype.$EmbeddedVideoPauseOverlay21=function(){'use strict';if(this.$EmbeddedVideoPauseOverlay27()){this.$EmbeddedVideoPauseOverlay28();clearTimeout(this.$EmbeddedVideoPauseOverlay29);this.$EmbeddedVideoPauseOverlay29=setTimeout(function(){if(this.$EmbeddedVideoPauseOverlay2.isState('playing'))this.$EmbeddedVideoPauseOverlay23();}.bind(this),3000)}};k.prototype.$EmbeddedVideoPauseOverlay20=function(){'use strict';if(this.$EmbeddedVideoPauseOverlay27()){this.$EmbeddedVideoPauseOverlay28()}else this.$EmbeddedVideoPauseOverlay23();};k.prototype.$EmbeddedVideoPauseOverlay19=function(){'use strict';if(this.$EmbeddedVideoPauseOverlay27())this.$EmbeddedVideoPauseOverlay28();};k.prototype.$EmbeddedVideoPauseOverlay17=function(){'use strict';if(this.$EmbeddedVideoPauseOverlay27())this.$EmbeddedVideoPauseOverlay28();};k.prototype.$EmbeddedVideoPauseOverlay18=function(){'use strict';if(this.$EmbeddedVideoPauseOverlay11){this.$EmbeddedVideoPauseOverlay28()}else this.$EmbeddedVideoPauseOverlay23();};k.prototype.$EmbeddedVideoPauseOverlay28=function(){'use strict';c('CSS').removeClass(this.$EmbeddedVideoPauseOverlay1,j)};k.prototype.$EmbeddedVideoPauseOverlay23=function(){'use strict';c('CSS').addClass(this.$EmbeddedVideoPauseOverlay1,j)};f.exports=k}),null);
__d('StreamingReactionsTrayEvents',[],(function a(b,c,d,e,f,g){var h='streamingReactionsTray/AddReactionAnimate',i='streamingReactionsTray/HideChannelViewDetails',j='streamingReactionsTray/ShowChannelViewDetails',k='streamingReactionsTray/UpdateSurface',l='streamingReactionsTray/ResizeChannelViewWindow',m='streamingReactionsTray/ReactionStateChange',n='streamingReactionsTray/FireworksAnimating',o='streamingReactionsTray/DisableReactions',p='streamingReactionsTray/EnableReactions',q={AddReactionAnimate:h,HideChannelViewDetails:i,ReactionStateChange:m,ResizeChannelViewWindow:l,ShowChannelViewDetails:j,UpdateSurface:k,FireworksAnimating:n,DisableReactions:o,EnableReactions:p};f.exports=q}),null);
__d('VideoWatchAndScrollOverlay',['csx','cx','CSS','Bootloader','DOM','EmitterSubscription','EventListener','Map','React','ReactDOM','EmbeddedVideoScrubber.react','EmbeddedVideoPlaybackTimer.react','TahoeVariables','SubscriptionsHandler','UFICentralUpdates','UFIFeedbackTargets','UFIReactionTypes','UFIUserActions','VideoPlayerExperiments','VideoPlayerLoggerEvent','VideoPlayerLoggerSource','VideoPlayerReason','destroyOnUnload','throttle','requestAnimationFrame','emptyFunction','getActiveElement','setImmediate','setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g,h,i){var j=c('VideoPlayerExperiments').persistentWNSEnabled,k=c('VideoPlayerExperiments').showWNSClose;function l(m,n,o,p){'use strict';this.$VideoWatchAndScrollOverlay17=n;this.$VideoWatchAndScrollOverlay25=m;this.$VideoWatchAndScrollOverlay21=new (c('SubscriptionsHandler'))();this.$VideoWatchAndScrollOverlay2=p;this.$VideoWatchAndScrollOverlay10=o.likeButton;this.$VideoWatchAndScrollOverlay22=o.unlikeButton;this.$VideoWatchAndScrollOverlay7=o.ftEntID;this.$VideoWatchAndScrollOverlay5=o.feedbackSource;this.$VideoWatchAndScrollOverlay9=o.isLiveStream;this.$VideoWatchAndScrollOverlay1=0;this.$VideoWatchAndScrollOverlay13=0;this.$VideoWatchAndScrollOverlay12=0;if(this.$VideoWatchAndScrollOverlay7){this.$VideoWatchAndScrollOverlay28();this.$VideoWatchAndScrollOverlay21.addSubscriptions(c('UFICentralUpdates').subscribe('feedback-updated',function(v,w){if(this.$VideoWatchAndScrollOverlay7 in w.updates)this.$VideoWatchAndScrollOverlay28();}.bind(this)));c('EventListener').listen(this.$VideoWatchAndScrollOverlay10,'click',this.$VideoWatchAndScrollOverlay29.bind(this));c('EventListener').listen(this.$VideoWatchAndScrollOverlay22,'click',this.$VideoWatchAndScrollOverlay29.bind(this))}this.$VideoWatchAndScrollOverlay15=c('DOM').find(this.$VideoWatchAndScrollOverlay17,"._n2-");this.$VideoWatchAndScrollOverlay27=c('DOM').find(this.$VideoWatchAndScrollOverlay17,"._4per");this.$VideoWatchAndScrollOverlay3=c('DOM').scry(this.$VideoWatchAndScrollOverlay17,"._35vp")[0];this.$VideoWatchAndScrollOverlay18=c('DOM').find(this.$VideoWatchAndScrollOverlay17,"._11jc");this.$VideoWatchAndScrollOverlay14=c('DOM').find(this.$VideoWatchAndScrollOverlay17,"._5sv5");if(k)this.$VideoWatchAndScrollOverlay4=c('DOM').find(this.$VideoWatchAndScrollOverlay17,"._n2_");this.$VideoWatchAndScrollOverlay25.addListener('stateChange',this.$VideoWatchAndScrollOverlay30.bind(this));this.$VideoWatchAndScrollOverlay25.addListener('beginPlayback',this.$VideoWatchAndScrollOverlay31.bind(this));this.$VideoWatchAndScrollOverlay25.addListener('pausePlayback',this.$VideoWatchAndScrollOverlay32.bind(this));this.$VideoWatchAndScrollOverlay25.addListener('finishPlayback',this.$VideoWatchAndScrollOverlay33.bind(this));this.$VideoWatchAndScrollOverlay25.addListener('unmuteVideo',this.$VideoWatchAndScrollOverlay34.bind(this));this.$VideoWatchAndScrollOverlay25.addListener('muteVideo',this.$VideoWatchAndScrollOverlay35.bind(this));this.$VideoWatchAndScrollOverlay25.addListener('adBreakIndicatorShowing',this.$VideoWatchAndScrollOverlay36.bind(this));this.$VideoWatchAndScrollOverlay25.addListener('exitWatchAndScroll',this.$VideoWatchAndScrollOverlay34.bind(this));c('EventListener').listen(this.$VideoWatchAndScrollOverlay15,'click',this.$VideoWatchAndScrollOverlay37.bind(this));c('EventListener').listen(this.$VideoWatchAndScrollOverlay27,'click',this.$VideoWatchAndScrollOverlay38.bind(this));if(this.$VideoWatchAndScrollOverlay3)c('EventListener').listen(this.$VideoWatchAndScrollOverlay3,'click',this.$VideoWatchAndScrollOverlay39.bind(this));if(this.$VideoWatchAndScrollOverlay4)c('EventListener').listen(this.$VideoWatchAndScrollOverlay4,'click',this.$VideoWatchAndScrollOverlay40.bind(this));var q=c('DOM').scry(this.$VideoWatchAndScrollOverlay17,"._3xxo")[0];if(q)c('EventListener').listen(q,'click',this.$VideoWatchAndScrollOverlay41.bind(this));c('EventListener').listen(this.$VideoWatchAndScrollOverlay25.getRootNode(),'mousemove',c('throttle')(this.$VideoWatchAndScrollOverlay42.bind(this),200));c('EventListener').listen(this.$VideoWatchAndScrollOverlay25.getRootNode(),'mouseenter',function(){this.$VideoWatchAndScrollOverlay11=true}.bind(this));var r=false;if(o.popoverMenu){var s=o.popoverMenu.getInitialMenu();s.subscribe('itemclick',function(v,w){var x=w.item;if(x.getValue()==='close')this.$VideoWatchAndScrollOverlay40();}.bind(this));s.subscribe('show',function(){r=true;this.$VideoWatchAndScrollOverlay43()}.bind(this));s.subscribe('hide',function(){r=false;if(this.$VideoWatchAndScrollOverlay25.isState('playing')&&!this.$VideoWatchAndScrollOverlay11)this.$VideoWatchAndScrollOverlay36();}.bind(this))}var t=["_5190","_5199"];c('EventListener').listen(this.$VideoWatchAndScrollOverlay25.getRootNode(),'mouseleave',function(v){var w=false;if(v.toElement)t.forEach(function(x){if(c('CSS').hasClass(v.toElement,x))w=true;});if(w)return;if(this.$VideoWatchAndScrollOverlay25.isState('playing')){this.$VideoWatchAndScrollOverlay11=false;if(!r)this.$VideoWatchAndScrollOverlay36();}}.bind(this));this.$VideoWatchAndScrollOverlay44();if(!this.$VideoWatchAndScrollOverlay9){this.$VideoWatchAndScrollOverlay19=this.$VideoWatchAndScrollOverlay45.bind(this);this.$VideoWatchAndScrollOverlay20=this.$VideoWatchAndScrollOverlay46.bind(this)}function u(v,w,x){c('setImmediate')(function(){var y=c('getActiveElement')(),z=c('DOM').contains(v,y);if(z){w()}else x();})}c('EventListener').listen(this.$VideoWatchAndScrollOverlay17,'focusin',function(){return u(this.$VideoWatchAndScrollOverlay17,function(){this.$VideoWatchAndScrollOverlay47();this.$VideoWatchAndScrollOverlay43()}.bind(this),c('emptyFunction'))}.bind(this));c('EventListener').listen(this.$VideoWatchAndScrollOverlay17,'focusout',function(){return u(this.$VideoWatchAndScrollOverlay17,c('emptyFunction'),function(){this.$VideoWatchAndScrollOverlay48()}.bind(this))}.bind(this));if(!j)c('destroyOnUnload')(function(){if(this.$VideoWatchAndScrollOverlay21){this.$VideoWatchAndScrollOverlay21.release();this.$VideoWatchAndScrollOverlay21=null}c('ReactDOM').unmountComponentAtNode(this.$VideoWatchAndScrollOverlay18);c('ReactDOM').unmountComponentAtNode(this.$VideoWatchAndScrollOverlay14)}.bind(this));}l.prototype.$VideoWatchAndScrollOverlay44=function(){'use strict';var m=!(this.$VideoWatchAndScrollOverlay25.isState('loading')||this.$VideoWatchAndScrollOverlay25.isState('fallback'));if(!m)return;this.$VideoWatchAndScrollOverlay12=this.$VideoWatchAndScrollOverlay25.getPlaybackDuration();this.$VideoWatchAndScrollOverlay26=this.$VideoWatchAndScrollOverlay25.getVolume()};l.prototype.$VideoWatchAndScrollOverlay49=function(){'use strict';if(this.$VideoWatchAndScrollOverlay16)return;this.$VideoWatchAndScrollOverlay16=c('requestAnimationFrame')(function(){this.$VideoWatchAndScrollOverlay16=null;this.$VideoWatchAndScrollOverlay50()}.bind(this))};l.prototype.$VideoWatchAndScrollOverlay50=function(){'use strict';if(!this.$VideoWatchAndScrollOverlay12)this.$VideoWatchAndScrollOverlay44();if(this.$VideoWatchAndScrollOverlay9){c('ReactDOM').unmountComponentAtNode(this.$VideoWatchAndScrollOverlay18);c('ReactDOM').unmountComponentAtNode(this.$VideoWatchAndScrollOverlay14);return}c('ReactDOM').render(c('React').createElement(c('EmbeddedVideoScrubber.react'),{className:"_1681",bufferedPosition:this.$VideoWatchAndScrollOverlay1,hasScrubberPreview:false,isFullscreen:false,onScrubBegin:this.$VideoWatchAndScrollOverlay19,onPointOfInterestSelect:function n(){},onScrubEnd:this.$VideoWatchAndScrollOverlay20,playbackDuration:this.$VideoWatchAndScrollOverlay12,playbackPosition:this.$VideoWatchAndScrollOverlay13,pointsOfInterest:[],previewThumbnailInformation:{},scrubberPreviewSprites:new (c('Map'))(),tabIndex:'-1'}),this.$VideoWatchAndScrollOverlay18);var m=this.$VideoWatchAndScrollOverlay13-this.$VideoWatchAndScrollOverlay12;c('ReactDOM').render(c('React').createElement(c('EmbeddedVideoPlaybackTimer.react'),{className:"_25e2 _1682",playbackPosTimestamp:this.$VideoWatchAndScrollOverlay13,remainingTimestamp:m}),this.$VideoWatchAndScrollOverlay14)};l.prototype.$VideoWatchAndScrollOverlay45=function(){'use strict';this.$VideoWatchAndScrollOverlay25.pause(c('VideoPlayerReason').SEEK)};l.prototype.$VideoWatchAndScrollOverlay46=function(m){'use strict';this.$VideoWatchAndScrollOverlay25.seek(m);this.$VideoWatchAndScrollOverlay13=m;this.$VideoWatchAndScrollOverlay25.play(c('VideoPlayerReason').SEEK)};l.prototype.$VideoWatchAndScrollOverlay28=function(){'use strict';if(!this.$VideoWatchAndScrollOverlay10||!this.$VideoWatchAndScrollOverlay22)return;this.$VideoWatchAndScrollOverlay6=c('UFIFeedbackTargets').getFeedbackTarget(this.$VideoWatchAndScrollOverlay7,function(m){c('CSS').hide(this.$VideoWatchAndScrollOverlay10);c('CSS').hide(this.$VideoWatchAndScrollOverlay22);if(m.viewercanlike)if(m.hasviewerliked){c('CSS').show(this.$VideoWatchAndScrollOverlay22)}else c('CSS').show(this.$VideoWatchAndScrollOverlay10);}.bind(this))};l.prototype.$VideoWatchAndScrollOverlay29=function(event){'use strict';this.$VideoWatchAndScrollOverlay6=c('UFIFeedbackTargets').getFeedbackTarget(this.$VideoWatchAndScrollOverlay7,function(m){c('UFIUserActions').changeReaction(this.$VideoWatchAndScrollOverlay7,m.hasviewerliked?c('UFIReactionTypes').NONE:c('UFIReactionTypes').LIKE,{source:this.$VideoWatchAndScrollOverlay5,target:event.target},event.target)}.bind(this));if(c('CSS').shown(this.$VideoWatchAndScrollOverlay10)){this.$VideoWatchAndScrollOverlay10.focus()}else this.$VideoWatchAndScrollOverlay22.focus();};l.prototype.$VideoWatchAndScrollOverlay30=function(){'use strict';if(this.$VideoWatchAndScrollOverlay25.isState('ready')||this.$VideoWatchAndScrollOverlay25.isState('playing')||this.$VideoWatchAndScrollOverlay25.isState('paused'))if(this.$VideoWatchAndScrollOverlay25.isMuted()||this.$VideoWatchAndScrollOverlay25.getVolume()===0){this.$VideoWatchAndScrollOverlay35()}else this.$VideoWatchAndScrollOverlay34();if(this.$VideoWatchAndScrollOverlay25.isState('fallback')){c('CSS').removeClass(this.$VideoWatchAndScrollOverlay17,"_1he7");c('CSS').addClass(this.$VideoWatchAndScrollOverlay17,"_x71")}var m=this.$VideoWatchAndScrollOverlay25.getSource();if(m===c('VideoPlayerLoggerSource').WATCH_SCROLL){if(!this.$VideoWatchAndScrollOverlay23)this.$VideoWatchAndScrollOverlay23=this.$VideoWatchAndScrollOverlay25.addListener('updateStatus',function(n){this.$VideoWatchAndScrollOverlay13=n.position;this.$VideoWatchAndScrollOverlay49()}.bind(this));if(!this.$VideoWatchAndScrollOverlay24)this.$VideoWatchAndScrollOverlay24=this.$VideoWatchAndScrollOverlay25.addListener('updateBuffer',function(n){this.$VideoWatchAndScrollOverlay1=n.duration+n.offset;this.$VideoWatchAndScrollOverlay49()}.bind(this));}else{if(this.$VideoWatchAndScrollOverlay23){this.$VideoWatchAndScrollOverlay23.remove();this.$VideoWatchAndScrollOverlay23=null}if(this.$VideoWatchAndScrollOverlay24){this.$VideoWatchAndScrollOverlay24.remove();this.$VideoWatchAndScrollOverlay24=null}}};l.prototype.$VideoWatchAndScrollOverlay31=function(){'use strict';this.$VideoWatchAndScrollOverlay51();c('CSS').addClass(this.$VideoWatchAndScrollOverlay15,"_n2w");this.$VideoWatchAndScrollOverlay42()};l.prototype.$VideoWatchAndScrollOverlay33=function(){'use strict';this.$VideoWatchAndScrollOverlay51();c('CSS').addClass(this.$VideoWatchAndScrollOverlay15,"_n2x");this.$VideoWatchAndScrollOverlay36()};l.prototype.$VideoWatchAndScrollOverlay32=function(){'use strict';this.$VideoWatchAndScrollOverlay51();c('CSS').addClass(this.$VideoWatchAndScrollOverlay15,"_n2y");this.$VideoWatchAndScrollOverlay42()};l.prototype.$VideoWatchAndScrollOverlay51=function(){'use strict';c('CSS').removeClass(this.$VideoWatchAndScrollOverlay15,"_n2w");c('CSS').removeClass(this.$VideoWatchAndScrollOverlay15,"_n2y");c('CSS').removeClass(this.$VideoWatchAndScrollOverlay15,"_n2x")};l.prototype.$VideoWatchAndScrollOverlay37=function(){'use strict';if(this.$VideoWatchAndScrollOverlay25.isState('playing')){this.$VideoWatchAndScrollOverlay25.logEvent(c('VideoPlayerLoggerEvent').WATCH_AND_SCROLL_PAUSED);this.$VideoWatchAndScrollOverlay25.pause(c('VideoPlayerReason').USER)}else this.$VideoWatchAndScrollOverlay25.play(c('VideoPlayerReason').USER);};l.prototype.$VideoWatchAndScrollOverlay35=function(){'use strict';c('CSS').removeClass(this.$VideoWatchAndScrollOverlay27,"_4pep");c('CSS').addClass(this.$VideoWatchAndScrollOverlay27,"_4peq")};l.prototype.$VideoWatchAndScrollOverlay34=function(){'use strict';c('CSS').removeClass(this.$VideoWatchAndScrollOverlay27,"_4peq");c('CSS').addClass(this.$VideoWatchAndScrollOverlay27,"_4pep")};l.prototype.$VideoWatchAndScrollOverlay41=function(event){'use strict';this.$VideoWatchAndScrollOverlay25.emit('WatchAndScroll/collapse');event.stopPropagation()};l.prototype.$VideoWatchAndScrollOverlay40=function(){'use strict';var m=this.$VideoWatchAndScrollOverlay25.getOption('CommercialBreakVideoAdOverlay','videoController'),n=m||this.$VideoWatchAndScrollOverlay25;n.logEvent(c('VideoPlayerLoggerEvent').WATCH_AND_SCROLL_EXITED);n.emit('WatchAndScroll/close')};l.prototype.$VideoWatchAndScrollOverlay38=function(){'use strict';if(this.$VideoWatchAndScrollOverlay25.isMuted()||this.$VideoWatchAndScrollOverlay25.getVolume===0){this.$VideoWatchAndScrollOverlay25.unmute()}else this.$VideoWatchAndScrollOverlay25.mute();};l.prototype.$VideoWatchAndScrollOverlay39=function(){'use strict';this.$VideoWatchAndScrollOverlay25.logEvent(c('VideoPlayerLoggerEvent').WATCH_AND_SCROLL_CHANNEL_ENTERED);if(c('VideoPlayerExperiments').rhcWNSExpandToTahoe){c('Bootloader').loadModules(["VideoWatchAndScrollController","TahoeController","URI"],function(m,n,o){var p=new o(this.$VideoWatchAndScrollOverlay25.getVideoURL()),q=babelHelpers['extends']({},o.getRequestURI().getQueryData(),{ref:'tahoe'});m.onEnterTahoe();if(c('TahoeVariables').useChannelChaining){n.openFromVideoPlayer(this.$VideoWatchAndScrollOverlay25,p.setQueryData(q),this.$VideoWatchAndScrollOverlay25.getVideoChannelID(),this.$VideoWatchAndScrollOverlay2)}else n.openFromVideoPlayer(this.$VideoWatchAndScrollOverlay25,p.setQueryData(q));}.bind(this),'VideoWatchAndScrollOverlay')}else c('Bootloader').loadModules(["VideoWatchAndScrollController","VideoChannelController"],function(m,n){m.onEnterChannel();n.openFromVideoPlayer(this.$VideoWatchAndScrollOverlay25,this.$VideoWatchAndScrollOverlay25.getVideoChannelID(),this.$VideoWatchAndScrollOverlay2,m.getStoryFetcherData())}.bind(this),'VideoWatchAndScrollOverlay');};l.prototype.$VideoWatchAndScrollOverlay42=function(){'use strict';if(this.$VideoWatchAndScrollOverlay11&&this.$VideoWatchAndScrollOverlay25.getState()!=='fallback'){this.$VideoWatchAndScrollOverlay43();this.$VideoWatchAndScrollOverlay48()}};l.prototype.$VideoWatchAndScrollOverlay48=function(){'use strict';this.$VideoWatchAndScrollOverlay47();this.$VideoWatchAndScrollOverlay8=c('setTimeoutAcrossTransitions')(function(){if(this.$VideoWatchAndScrollOverlay25.isState('playing'))this.$VideoWatchAndScrollOverlay36();}.bind(this),3000)};l.prototype.$VideoWatchAndScrollOverlay47=function(){'use strict';clearTimeout(this.$VideoWatchAndScrollOverlay8)};l.prototype.$VideoWatchAndScrollOverlay43=function(){'use strict';if(this.$VideoWatchAndScrollOverlay25.isState('finished')||this.$VideoWatchAndScrollOverlay25.getOption('WatchAndScroll','hideOverlay'))return;c('CSS').addClass(this.$VideoWatchAndScrollOverlay17,"_1he7");this.$VideoWatchAndScrollOverlay25.emit('WatchAndScroll/overlayShown')};l.prototype.$VideoWatchAndScrollOverlay36=function(){'use strict';c('CSS').removeClass(this.$VideoWatchAndScrollOverlay17,"_1he7");this.$VideoWatchAndScrollOverlay25.emit('WatchAndScroll/overlayHidden')};f.exports=l}),null);